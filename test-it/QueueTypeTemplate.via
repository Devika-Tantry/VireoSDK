// Instantiate templates
define (TestProgram1 dv(.VirtualInstrument (
    c(
        e(.Queue<.Double> q)
        e(dv(.Double 42.5) x)
        e(.Double y)
        e(.Boolean done)
    )
    clump (
        DPrintf(" in %s out %s" x y)
        DPrintf(" Type %s" q)
        EnqueueElement(q x 10 done)
        DPrintf(" Type %s" q)
        DequeueElement(q y 10 done)
        DPrintf(" Type %s" q)
        DPrintf(" in %s out %s" x y)
        DequeueElement(q y 10 done)
        DPrintf(" y %s" y)
        
   //     DPrintf(" Type %s" tq)
   //     DPrintf(" Type %s" tq.elements)
    )
) ) )

define (TestProgram2 dv(.VirtualInstrument (
    c(
        e(.Queue<.Int32> q)
        e(dv(.Int32 47) x)
        e(.Int32 y)
        e(.Boolean done)
    )
    clump (
        DPrintf(" in %s out %s" x y)
        DPrintf(" Type %s" q)
        EnqueueElement(q x 10 done)
        DPrintf(" Type %s" q)
        DequeueElement(q y 10 done)
        DPrintf(" Type %s" q)
        DPrintf(" in %s out %s" x y)
        DequeueElement(q y 10 done)
        DPrintf(" y %s" y)
        
    //    DPrintf(" Type %s" tq)
    //    DPrintf(" Type %s" tq.elements)
    )
) ) )

enqueue (TestProgram1)
enqueue (TestProgram2)

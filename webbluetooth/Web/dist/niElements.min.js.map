{"version":3,"sources":["../../LabVIEW/Html.Controls.Design/Web/Elements/ni-web-application.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-virtual-instrument.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-visual-component.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-visual.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-boolean-control.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-boolean-button.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-numeric-control.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-numeric-text-box.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-numeric-pointer.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-linear-numeric-pointer.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-radial-numeric-pointer.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-slider.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-tank.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-gauge.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-progress-bar.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-linear-progress-bar.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-cartesian-graph-base.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-cartesian-graph.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-chart.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-cartesian-axis.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-cartesian-plot.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-cartesian-plot-renderer.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-cursor.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-string-control.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-time-stamp-text-box.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-boolean-content-control.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-boolean-switch.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-boolean-led.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-check-box.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-hyperlink.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-text.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-label.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-path-selector.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-url-image.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-image.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-selector.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-drop-down.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-list-box.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-cluster.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-array-viewer.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-data-grid.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-data-grid-column.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-io-name-control.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-legend-helpers.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-plot-legend.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-plot-legend-helpers.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-plot-legend-item-display.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-cursor-legend.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-cursor-legend-helpers.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-cursor-legend-item-display.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-scale-legend.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-scale-legend-helpers.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-graph-tools.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-opaque-refnum.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-tab-control.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-tab-item.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-layout-panel.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-color-scale.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-intensity-graph.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-numeric-value-selector.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-enum-selector.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-ring-selector.js","../../LabVIEW/Html.Controls.Design/Web/Elements/ni-radio-button-group.js"],"names":["NationalInstruments","HtmlVI","Elements","WebApplication","ServiceStateEnum","Object","freeze","UNINITIALIZED","READY","ERROR","PanelEngineEnum","NATIVE","VIREO","PanelLocationEnum","IDE_EDIT","IDE_RUN","BROWSER","child","parent","$","Globals","jQuery","NI_SUPPORT","NISupport","inheritFromParent","proto","prototype","SERVICE_STATE_ENUM","createWebAppFrontend","uiControls","document","createElement","classList","add","startButton","textContent","type","abortButton","appendChild","enableButtons","enableStart","enableAbort","remove","updateUIButtons","frontEndElements","serviceState","updateConnectingDialog","unblockUI","blockUI","message","ignoreIfBlocked","css","border","padding","backgroundColor","-webkit-border-radius","-moz-border-radius","opacity","color","cursor","addAllProperties","targetPrototype","call","this","addProperty","propertyName","defaultValue","fireEvent","createdCallback","_enableConnectionDialog","_frontEndElements","undefined","attachedCallback","firstCall","that","webApplicationModelsService","register","disableAutoStart","engine","location","addEventListener","contains","start","stop","propertyUpdated","detachedCallback","unregister","dispatchEvent","CustomEvent","bubbles","cancelable","detail","element","defineElementInfo","NIElement","VirtualInstrument","viReferenceService","registerVIElement","unregisterVIElement","VisualComponent","_latestSize","width","height","_temporaryModelSettingsHolder","getAttribute","setAttribute","e","parseInt","forceResize","size","Visual","setFont","fontSize","fontFamily","fontWeight","fontStyle","style","BooleanControl","unbindMechanicalAction","target","id","niControlId","UIActivityService","bindMechanicalAction","onPress","clickMode","isMomentary","momentary","error","up","evt","value","valueChanged","down","cancelled","updateOnCSSClass","childElement","firstElementChild","jqref","toggleClass","addNonSignalingProperty","isElementValueProperty","BooleanButton","widgetSettings","toggled","glyphSpan","font-family","font-size","glyph","createTextNode","String","fromCharCode","contentSpan","content","disabled","readOnly","jqxToggleButton","addClass","childNodes","font-weight","font-style","text","contentVisible","NumericControl","stringValue","numberValue","NINumerics","ValueTypes","DOUBLE","jqrefContent","getRange","valueType","INT64","UINT64","maximum","minimum","max","BigNumber","subtract","toString","NumericTextBox","NUM_VAL_CONVERTER","ValueConverters","NumericValueConverter","convertFormatToOutputNotation","format","_valueChanging","divElement","textElement","language","window","IsAttached","NIEmbeddedBrowser","navigator","culture","Globalize","numberFormat","decimalSeparator","COMPLEXSINGLE","COMPLEXDOUBLE","int64","spinButtons","outputNotation","radix","convertBack","min","spinButtonsStep","interval","precisionDigits","digits","decimalDigits","significantDigits","jqxFormattedInput","spinMode","jqxComplexInput","on","event","convert","args","stopPropagation","find","widgetSetting","isSet","val","NumericPointer","convertFormatToRadix","LinearNumericPointer","RadialNumericPointer","Slider","ENDPOINTS_ONLY","setupWidget","step","orientation","rangeDivisionsMode","tickMode","niceInterval","tickNumber","tickLabelFormatSettings","tooltipFormatSettings","applyScaleSettings","showButtons","ticksPosition","mode","coercionMode","tooltip","jqxSlider","updateRange","settings","showTicks","scaleVisible","tickSize","majorTicksVisible","showMinorTicks","minorTicksVisible","showTickLabels","labelsVisible","updateScaleVisibility","trigger","removeChild","Tank","MINORTICKS_FOR_ENDPOINTS_ONLY","MAJOR_TICK_SIZE","MINOR_TICK_SIZE","background","visible","animationDuration","jqxLinearGauge","pointerOffset","ticksOffset","ticksMajor","ticksMinor","labels","ticksAndLabelsPosition","position","updateLabelsFontAndFormat","number","pointer","offset","formatSettings","updateDivisionsMode","Gauge","showGradient","distance","ticksDistance","startAngle","endAngle","jqxGauge","ProgressBar","LinearProgressBar","jqxProgressBar","CartesianGraphBase","getSettings","lines","show","lineWidth","canvas","series","shadowSize","downsample","threshold","axisLabels","xaxes","yaxes","zoom","interactive","pan","selection","configureGraph","i","cartesianGraphSettings","plotAreaMargin","grid","margin","JSON","parse","cursors","axes","length","axis","a","getViewConfig","push","c","graphTools","allowsScrollWheelZoom","allowsPan","updateGraphConfig","plotConfig","plots","graphdiv","cartesianGraphData","createData","convertToFlotFormat","setHover","graph","plot","log","data","isWaveform","Array","isArray","Y","inferDataType","waveformToFlotFormat","waveform","toTimeAndValueArray","dataValuesArray2D","j","coordinatesArray","dataValuesArray","NIAnalogWaveform","real","updateData","setData","setupGrid","draw","plotLegend","cursorLegend","scaleLegend","findGraphItems_early","myChildItems","axisItemName","CartesianPlot","elementInfo","tagName","toUpperCase","plotItemName","CartesianAxis","children","resize","createGraph","uniqueId","className","bind","pos","item","str","hoverFormat","seriesIndex","x","y","html","top","pageY","offsetTop","left","pageX","offsetLeft","fadeIn","hide","graphChildElements","addGraphItemListeners","childElements","splice","notifyPlotLegend","notifyScaleLegend","notifyCursorLegend","registerPlotLegend","name","originalSource","eventConfig","registerCursorLegend","registerScaleLegend","registerGraphTools","ranges","notifyGraphTools","arguments","replace","match","index","len1","toFixed","len2","toExponential","graphData","graphSettings","isHoverable","hoverable","CartesianGraph","defaultSampleCartesianGraphData","forEach","getCursors","cookie","setCursor","onCursorUpdates","cursordata","updateCursorElement","getPlaceholder","Chart","setHistoryBuffer","historyBuffer","getHistoryBuffer","isTimeAxis","indexOf","toFlotTimeFormat","_parentGraph","sendEventToParentGraph","parentElement","axisLabel","showLabel","label","axisPosition","autoScale","logScale","timeformat","getFlotAxis","getAxes","key","keys","filter","options","scaleOnce","datamin","datamax","syncWithFlot","_autoScale","_minimum","_maximum","addPlotItemListeners","plotRenderer","enableHover","CartesianPlotRenderer","_parentPlot","sendEventToParentPlot","toFlotLineStyle","areaFillOpacity","lineStroke","pointColor","areaFill","barFill","fill","zero","dashes","lineStyle","points","radius","pointSize","symbol","pointShape","bars","barWidth","align","Cursor","_cachedFont","getComputedStyle","font","_x","relativeX","_y","relativeY","crosshairStyle","showValuesRelativeToSeries","showValue","cursorColor","snapToPlot","snapToData","targetShape","StringControl","editingContent","attr","newVal","typeToReplace","focus","select","acceptsReturn","keyCode","blur","TimeStampTextBox","serialisedTSToJsDate","NITimestamp","toDate","formatLanguage","calendar","patterns","d","T","formatString","showCalendarButton","jqxDateTimeInput","date","showCalendarButtonOnControl","BooleanContentControl","BooleanSwitch","createSliderButton","params","jqRef","jqxSwitchButton","setPowerButtonFontSize","line-height","createPowerButton","powerButton","powerChar","hover","preventDefault","createRoundButton","labelElement","roundOffLabel","roundOnLabel","checkbox","innerText","offLabel","onLabel","checked","createWidgetSettings","trueContent","falseContent","createAndAddChildElement","shape","detach","append","BooleanLED","updateContent","updateColors","background-color","highlight","border-color","CheckBox","innerHTML","jqxCheckBox","removeClass","lastElementChild","Hyperlink","href","firstChild","nodeValue","Text","divTag","Label","labelTag","PathSelector","PathTypeEnum","ABSOLUTE","RELATIVE","pathToObject","objectToPath","filterEmptyString","PATH_TYPE_ENUM","pathString","components","split","pathObject","join","stringify","setPath","pathValue","isNotAPath","path","setNotAPath","popover","button","pathFormat","accept","jqxPathControl","i18n","jqxButton","template","jqxPopover","selector","UrlImage","StretchEnum","NONE","UNIFORM","UNIFORM_TO_FILL","FILL","STRETCH_ENUM","createImage","urlImageElement","source","backgroundImage","stretch","title","alternate","Image","imageElement","Selector","DropDown","jqxDropDownList","selectedIndex","autoDropDownHeight","ListBox","SelectionModeEnum","ZERO_OR_ONE","ONE","ZERO_OR_MORE","ONE_OR_MORE","SELECTION_MODE_ENUM","getJqxListBoxSelectedIndices","items","jqxListBox","map","obj","setJqxListBoxSelectedIndices","indices","selectedIndicesMatch","elementSelectedIndices","jqxIndices","sort","parsedIndices","updateSelectionMode","multiple","selectionMode","coerceSelection","firstSelectedIndex","coercedSelectedIndices","src","firstValidIndexArray","newSelection","revertSelection","Cluster","NI_VAL_CONVERTER","ElementValueConverter","preventAttributeSync","makeValueObj","valueObj","valuePropertyDescriptor","dataLabel","getValue","childChanged","srcElement","_childValueChanging","addPropertyToValue","valueNonSignaling","removePropertyFromValue","changePropertyNameInValue","oldName","newName","temp","_mutationObserver","_mutationLabelObserver","callChildChanged","MutationObserver","mutations","m","addedNodes","applyLabel","removedNodes","removed","eventName","removeEventListener","textMutationObserver","disconnect","observe","childList","attributes","subtree","updateChildValues","descriptor","setValue","updateLabel","attributeName","oldValue","controlId","labelId","dataEventListenerAdded","convertedValue","ConvertBack","Convert","ArrayViewer","CSS_PROPERTIES","getCssSelectorForNIVisual","isInArrayTemplate","isLastElement","n","curNode","getFullCssSelectorForNIVisual","arrayViewer","targetElement","targetAndDescendants","pop","concat","arrayElementSizeChanged","elementSize","controls","niControl","cssWidth","cssHeight","_elementWidth","_elementHeight","nodeCss","templateControl","jqxArray","querySelectorAll","setArrayValue","_settingArrayValue","arrayValue","_userUpdate","getArrayValue","mutationObserver","attributeMutationObserver","defineProperty","configurable","enumerable","get","set","rows","columns","_useAttributeMutationObserver","_nodeLabelMap","clearArrayType","wasInitialized","dimensions","indexerWidth","indexEditorWidth","showIndexDisplay","indexVisibility","node","parseRowsAndColumns","createArray","requestAnimationFrame","updateFromTemplate","control","updatePosition","_preventModelCreation","display","updateLabelIds","copyNIElement","newNode","cloneNode","_niTemplateId","childNode","updateTemplateCss","templateDescendant","curNodeCss","recreateCells","fullRefresh","r","cell","recreateCell","cellSelector","hasChildNodes","lastChild","_focusedColumn","_focusedRow","updateFocusedCell","nonSignalingPropertyName","propertyNameNonSignaling","elementWidth","elementHeight","elementTemplate","div","originalEvent","supressChange","changeProperty","property","widgets","getElementValue","setElementValue","showHorizontalScrollbar","horizontalScrollbarVisibility","showVerticalScrollbar","verticalScrollbarVisibility","customWidgetDefaultValue","updateRowsAndColumns","curCell","matches","templateMatch","focusedCell","querySelector","_niFocusedCloneId","slice","rowsAndColumns","oldRows","oldColumns","DataGrid","DEFAULT_ROW_HEIGHT","ID_DATAFIELD","STRING_TEMPLATE_TYPE","NUMERIC_TEMPLATE_TYPE","CHECKBOX_TEMPLATE_TYPE","LED_TEMPLATE_TYPE","SLIDER_TEMPLATE_TYPE","PROGRESSBAR_TEMPLATE_TYPE","DROPDOWN_TEMPLATE_TYPE","JQX_MATH","jqx","math","getFalseValue","getElementHeight","elementSelector","visibility","offsetHeight","getAltRowSettings","altstart","Math","floor","altstep","initJqxColumnWidget","dataGrid","row","column","cellElement","rowindex","visibleindex","datafield","niElement","_dataGridRow","_dataGridColumn","columnTypeHelpers","nodeName","setWidgetValue","createJqxColumnWidget","columnIndex","niColumn","templateType","columnTypeHelper","fontStyles","configureWidget","coercedRowHeight","initCustomColumnType","jqxColumn","columntype","createwidget","initwidget","cellbeginedit","getAggregateStringValue","aggregate","getDecimalNotation","Number","toPrecision","Error","aggregatesRenderer","aggregates","jqxAggregates","first","alignment","horizontalAlignment","renderstring","each","addTemplateControlMutationObserver","observer","observerConfig","columnDataField","changedAttributes","templateControlAttributeChanged","mutation","attrName","_niColumnTemplateControlObserver","removeTemplateControlMutationObserver","columnObserver","templateControlAttributeChangedNIElement","matchedControls","templateAttributeValues","hasOwnProperty","hasAttribute","removeAttribute","addNumericValueChangedListener","widgetElement","modelValue","templateControlValueChanged","keyDownStopPropagation","triggerResizeForWidget","initializeColumn","textNonSignaling","getDefaultValue","templateElement","valueTypeAttr","minDimension","newSize","selectedIndexNonSignaling","appendAddRowsToolbar","innerDiv","rowCountInput","addRowsLabel","addButton","outerDiv","showAddRowsToolBar","addRowsToolbarRef","jqxNumberInput","inputMode","addRowsButtonLabel","addEmptyRows","selectedColumnDataField","sortedColumnIndices","parsedValue","jqxValue","columnObservers","pageSize","showAggregates","maxAggregateCountPerColumn","getDefaultColumns","cellsalign","hidden","rowHeaderVisible","pinned","some","col","curValue","fieldName","updateJqxColumnConfig","newColumn","aggregateCount","sortedIndices","columnsValid","parsedAggregates","header","aggregatesrenderer","_niColumnDefaultValue","jqxColumnConfig","count","jqxRow","oldLength","updateStatusBar","updatePageSize","jqxGrid","updateJqxValueFromParsedValue","curRow","result","initializeColumnsAndData","dataSource","datatype","localdata","dataAdapter","altRowSettings","altRowStart","altRowStep","editable","showemptyrow","selectionmode","showheader","columnHeaderVisible","columnsresize","enablehover","sortable","allowSorting","filterable","allowFiltering","showfilterrow","pageable","allowPaging","groupable","allowGrouping","altrows","altRowColors","offsetWidth","columnsheight","rowsheight","setSelectedColumn","newSelectedDataField","columnToSelect","isInEditMode","selectedColumn","refreshSelectedColumn","leftIndex","cellclassname","updateCoercedRowHeight","rowHeight","childColumns","findInitialColumns","addColumnListeners","updatePagingSettings","origMouseEvent","handledClickEvent","dataField","newWidth","newwidth","newHeight","columnHelper","updateDataGridConfig","refresh","refreshDataSource","oldDataLength","columnItemName","DataGridColumn","sortColumns","b","initialColumns","_niColumnObserver","propName","statusBarHeight","toggle","statusbarheight","showstatusbar","showaggregates","updatePageSizeTimer","clearTimeout","setTimeout","numRows","horizScrollBar","pagesize","pagesizeoptions","pagerRef","bottom","outerHeight","_parentDataGrid","sendEventToParentDataGrid","IONameControl","sourceArray","selectedValue","newSource","LegendHelpers","helpers","legendItemDisplay","addButtons","menuItem","btn","current","cssClass","handleClick","updateShape","state","getState","addComboBox","iconWidth","init","dropDownHeight","tag","substring","itemState","getTextElementByColor","hex","nThreshold","bgDelta","g","foreColor","addColorBox","dropList","colorbox","jqxColorPicker","colorMode","jqxDropDownButton","charAt","addCheckBox","PlotLegend","rowSize","legendBorderHeight","tbl","nPlots","currentExpander","PlotLegendHelpers","plotLegendItemDisplay","PlotLegendItemDisplay","uihelpers","plotAdded","createRow","addRenderer","plotRemoved","removeLastRow","clearRenderer","createRows","calculateNumPlots","currentHeight","parseFloat","snappedHeight","numPlotsToAdd","round","ceil","graphName","overflowX","overflowY","rendererToIndex","tr","exp","plotName","p","span","createHeaderDisplay","jqxExpander","expanded","expandAnimationDuration","collapseAnimationDuration","initContent","loadContent","expander","applyFont","td1","td2","menu","jqrefItemTitle","jqrefItemContentTitle","defaultPlotColors","renderers","getPlot","localName","getRenderer","renderer","currentRenderer","itemName","arg","initialColor","getPlotColorFromRenderer","getPlotColor","getLineWidth","getLineShape","lineShape","getPointShape","pointTypes","creator","createEllipseShape","createRectangleShape","createDiamondShape","createCrossShape","createPlusShape","shapes","svgns","svg","createElementNS","setAttributeNS","createLine","getComputedColor","line","createPoints","createFillArea","createBars","bar","pointShapes","group","center","colorWithAlpha","alpha","currentLineShape","currentColor","setPointColor","shapeType","currentPointShape","updatePointColor","CursorLegend","table","nCursors","selectedRow","deleteButton","centerButton","currentRow","currentBtn","CursorLegendHelpers","cursorLegendItemDisplay","CursorLegendItemDisplay","cursorAdded","cursorPositionChanged","xEl","getElementById","yEl","cursorRemoved","cursorToIndex","eq","clearShape","cursorChanged","updateName","updateVisible","buttonsRow","centerCursor","addCursor","del","deleteCursor","imageRenderer","createMainRow","createDetailsRow","getRowIndex","rowIndex","td0","td3","td4","showHideButton","createDetailsItem","subtable","td","colSpan","getMenuItem","jqrefItemName","jqrefItemX","jqrefItemY","jqrefItemDetails","defaultCursorName","nextCursorName","getCursor","changed","maxIndex","getTargetShape","getCrosshair","addShapes","makeShape","makeLine","rect","circle","getColorString","x1","y1","x2","y2","colorIndex","partIndex","crosshair","ScaleLegend","nScales","ScaleLegendHelpers","scaleAdded","addScale","scaleRemoved","scale","toRemove","clearScale","scaleToIndex","btnLock","btnScaleOnce","scaleName","setLockBackground","prop","scales","getScale","currentScale","GraphTools","ModeEnum","LOCKED","PAN","ZOOM","MODE_ENUM","navigationStates","getXAxes","_","opts","xaxis","from","to","getYAxes","yaxis","clearSelection","setNavButtonsState","locked","navNone","btnPan","btnZoom","setMode","states","apply","btnZoomOut","OpaqueRefnum","TabControl","_validTabHeadersLength","findNonUpgradedChildTabItems","myChildTabItems","tabItemName","TabItem","createHeaderContainer","tabItemToIgnore","container","tabHeaders","tabFrames","currHeader","validTabHeadersLength","headers","tabPosition","getHeaderContainer","attachHeaderContainer","oldContainer","animationType","tabStripPlacement","toLowerCase","insertBefore","jqxRibbon","applySelectedIndex","addTabItemListeners","initialTabItemsToWaitFor","newTitle","_parentTabControl","sendEventToParentTabControl","LayoutPanel","ColorScale","IntensityGraph","lowColor","highColor","markers","h","w","sqrt","parsedData","dataRange","dataMin","dataMax","tempMin","tempMax","buf","autoScaleColor","intensitymap","legend","colorScaleMin","colorScaleMax","gradient","defaultData","range","reserveSpace","labelWidth","labelHeight","arr","rainbow","res","iMap","graphdata","NumericValueSelector","UINT32","compareIndexValue","value1","value2","itemsCache","updateItemsArray","itemsArray","pushItem","newItem","cacheDirty","writeThrough","getSourceAndSelectedIndexFromSource","allowCreateNewSelectedItem","numericIndex","displayValue","selectChangedHandler","selectValue","propertyUpdatedHelper","EnumSelector","dropDownChildElement","RingSelector","jqrefNumeric","dropDownContainer","numericContainer","dropdownElement","numericEntry","numericWidgetSettings","dropChildElem","numericChildElem","dropJqref","numericJqref","allowUndefined","RadioButtonGroup","Orientation","horizontal","vertical","radioButtonClassName","thisClass","radioButtonGroupElement","setRadioButtons","buttonCnt","setOrientation","setChildrenButtonFont","fontObject","createCheckedHandler","empty","groupId","radioButtonElement","jqxRadioButton","groupName"],"mappings":"AAOAA,oBAAoBC,OAAOC,SAASC,eAAiB,WACjD,cAIJH,oBAAoBC,OAAOC,SAASC,eAAeC,iBAAmBC,OAAOC,QACzEC,cAAe,gBACfC,MAAO,QACPC,MAAO,UAIXT,oBAAoBC,OAAOC,SAASC,eAAeO,gBAAkBL,OAAOC,QACxEK,OAAQ,SACRC,MAAO,UAIXZ,oBAAoBC,OAAOC,SAASC,eAAeU,kBAAoBR,OAAOC,QAC1EQ,SAAU,WACVC,QAAS,UACTC,QAAS,YAGZ,SAAUC,EAAOC,GACd,YAEA,IAAIC,GAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,UAGdC,EAAqB3B,oBAAoBC,OAAOC,SAASC,eAAeC,iBAGxEwB,EAAuB,WAKvB,GAAIC,GAAaC,SAASC,cAAc,MACxCF,GAAWG,UAAUC,IAAI,2BAEzB,IAAIC,GAAcJ,SAASC,cAAc,SACzCG,GAAYC,YAAc,QAC1BD,EAAYE,KAAO,SACnBF,EAAYF,UAAUC,IAAI,sBAAuB,kBAAmB,WAEpE,IAAII,GAAcP,SAASC,cAAc,SACzCM,GAAYF,YAAc,QAC1BE,EAAYD,KAAO,SACnBC,EAAYL,UAAUC,IAAI,sBAAuB,kBAAmB,YAEpEJ,EAAWS,YAAYJ,GACvBL,EAAWS,YAAYD,EAEvB,IAAIE,GAAgB,SAAUC,EAAaC,GACnCD,EACAN,EAAYF,UAAUU,OAAO,YAE7BR,EAAYF,UAAUC,IAAI,YAG1BQ,EACAJ,EAAYL,UAAUU,OAAO,YAE7BL,EAAYL,UAAUC,IAAI,YAIlC,QACIJ,WAAYA,EACZK,YAAaA,EACbG,YAAaA,EACbE,cAAeA,IAInBI,EAAkB,SAAUC,EAAkBC,GACzB,UAAjBA,EACAD,EAAiBL,eAAc,GAAM,GACb,YAAjBM,GAA+C,eAAjBA,GAAkD,cAAjBA,GAAiD,cAAjBA,EACtGD,EAAiBL,eAAc,GAAO,GAEtCK,EAAiBL,eAAc,GAAO,IAI1CO,EAAyB,SAAUD,GACd,cAAjBA,EACA1B,EAAE4B,YAEF5B,EAAE6B,SACEC,QAAS,aACTC,iBAAiB,EACjBC,KACIC,OAAQ,OACRC,QAAS,OACTC,gBAAiB,OACjBC,wBAAyB,OACzBC,qBAAsB,OACtBC,QAAS,GACTC,MAAO,OACPC,OAAQ,UAOxBlC,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,SACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,WACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,cACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,gBACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,WACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,mBACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,eACdC,aAAcvC,EAAmBpB,cACjC4D,WAAW,KAInB1C,EAAM2C,gBAAkB,WACpBlD,EAAOQ,UAAU0C,gBAAgBN,KAAKC,MAMtCA,KAAKM,yBAA0B,EAC/BN,KAAKO,kBAAoBC,OAGzBR,KAAKlB,aAAelB,EAAmBpB,eAG3CkB,EAAM+C,iBAAmB,WACrB,GACI5B,GADA6B,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,MAEnDW,EAAOX,IAgCX,OA9BA/D,qBAAoBC,OAAO0E,4BAA4BC,SAASF,GAE5DD,KAAc,IAEVC,EAAKG,oBAAqB,GAAyB,WAAhBH,EAAKI,QAAyC,YAAlBJ,EAAKK,WACpEL,EAAKL,yBAA0B,EAC/BvB,EAAuB4B,EAAK7B,eAG5B6B,EAAKG,oBAAqB,IAC1BjC,EAAmBhB,IAEnBgB,EAAiBV,YAAY8C,iBAAiB,QAAS,WAC/CpC,EAAiBV,YAAYF,UAAUiD,SAAS,eAAgB,GAChEP,EAAKQ,UAIbtC,EAAiBP,YAAY2C,iBAAiB,QAAS,WAC/CpC,EAAiBP,YAAYL,UAAUiD,SAAS,eAAgB,GAChEP,EAAKS,SAIbT,EAAKJ,kBAAoB1B,EACzBD,EAAgB+B,EAAKJ,kBAAmBI,EAAK7B,cAC7C6B,EAAKpC,YAAYM,EAAiBf,cAInC4C,GAGXhD,EAAM2D,gBAAkB,SAAUnB,GAG9B,OAFA/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,GAEpCA,GACJ,IAAK,eACGF,KAAKM,2BAA4B,GACjCvB,EAAuBiB,KAAKlB,cAG5BkB,KAAKc,oBAAqB,GAC1BlC,EAAgBoB,KAAKO,kBAAmBP,KAAKlB,gBAO7DpB,EAAM4D,iBAAmB,WACrBrF,oBAAoBC,OAAO0E,4BAA4BW,WAAWvB,OAGtEtC,EAAMyD,MAAQ,WACVnB,KAAKwB,cAAc,GAAIC,aAAY,mBAC/BC,SAAS,EACTC,YAAY,EACZC,QACIC,QAAS7B,UAKrBtC,EAAM0D,KAAO,WACTpB,KAAKwB,cAAc,GAAIC,aAAY,kBAC/BC,SAAS,EACTC,YAAY,EACZC,QACIC,QAAS7B,UAKrBtC,EAAMoE,kBAAkBpE,EAAO,qBAAsB,yBACvDzB,oBAAoBC,OAAOC,SAASC,eAAgBH,oBAAoBC,OAAOC,SAAS4F,WCxP1F9F,oBAAoBC,OAAOC,SAAS6F,kBAAoB,WACpD,cAMH,SAAU9E,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,SACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,QACdC,aAAc,MAKtBzC,EAAM+C,iBAAmB,WACrB,GAAIC,GAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KAIvD,OAFA/D,qBAAoBC,OAAO+F,mBAAmBC,kBAAkBlC,MAEzDU,GAGXhD,EAAM4D,iBAAmB,WACrBrF,oBAAoBC,OAAO+F,mBAAmBE,oBAAoBnC,OAGtEtC,EAAMoE,kBAAkBpE,EAAO,wBAAyB,4BAC1DzB,oBAAoBC,OAAOC,SAAS6F,kBAAmB/F,oBAAoBC,OAAOC,SAAS4F,WC/C7F9F,oBAAoBC,OAAOC,SAASiG,gBAAkB,WAClD,cAkBH,SAAUlF,EAAOC,GACd,YAKA,IAAII,GAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SAkBlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,cACdC,aAAc,MAKtBzC,EAAM2C,gBAAkB,WACpBlD,EAAOQ,UAAU0C,gBAAgBN,KAAKC,MAWtCA,KAAKqC,aAAgBC,MAAO9B,OAAW+B,OAAQ/B,QAG/CR,KAAKwC,8BAAgChC,OASW,OAA5CR,KAAKyC,aAAa,uBAClBzC,KAAK0C,aAAa,qBAAsB,kBAKhDhF,EAAM+C,iBAAmB,WACrB,GAAIC,GAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,MACnDW,EAAOX,IAiBX,OAfIU,KAEAC,EAAK+B,aAAa,qBAAsB,IAExC/B,EAAKM,iBAAiB,kBAAmB,SAAU0B,GAC/C,GAAIL,GAAQM,SAASD,EAAEf,OAAOU,OAAQC,EAASK,SAASD,EAAEf,OAAOW,OAE7D5B,GAAK0B,YAAYC,QAAUA,GAAS3B,EAAK0B,YAAYE,SAAWA,IAChE5B,EAAK0B,YAAYE,OAASA,EAC1B5B,EAAK0B,YAAYC,MAAQA,EACzB3B,EAAKkC,YAAYlC,EAAK0B,iBAK3B3B,GAIXhD,EAAMmF,YAAc,SAAUC,MA6BhC7G,oBAAoBC,OAAOC,SAASiG,gBAAiBnG,oBAAoBC,OAAOC,SAAS4F,WC3I3F9F,oBAAoBC,OAAOC,SAAS4G,OAAS,WACzC,cAMH,SAAU7F,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,WACdC,cAAc,KAItBzC,EAAMsF,QAAU,SAAUC,EAAUC,EAAYC,EAAYC,GACxDpD,KAAKqD,MAAMJ,SAAWA,EACtBjD,KAAKqD,MAAMH,WAAaA,EACxBlD,KAAKqD,MAAMF,WAAaA,EACxBnD,KAAKqD,MAAMD,UAAYA,IAG7BnH,oBAAoBC,OAAOC,SAAS4G,OAAQ9G,oBAAoBC,OAAOC,SAASiG,iBCtClFnG,oBAAoBC,OAAOC,SAASmH,eAAiB,WACjD,cAMH,SAAUpG,EAAOC,GACd,YAEA,IAAIC,GAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,UAMd4F,EAAyB,SAAUC,GACnC,GAAIC,GAAKD,EAAOE,WAChBzH,qBAAoBC,OAAOyH,kBAAkBpC,WAAWkC,IAGxDG,EAAuB,SAAUJ,GACjC,GAAIK,GAA+B,UAArBL,EAAOM,UACjBC,EAAcP,EAAOQ,UACrBP,EAAKD,EAAOE,YACZ7B,EAAU2B,EACV7C,EAAO6C,CAEPO,MAAgB,GAAQF,KAAY,IACpCtG,EAAW0G,MAAM,uHACjBF,GAAc,EACdF,GAAU,GAGVE,KAAgB,GAASF,KAAY,EACrC5H,oBAAoBC,OAAOyH,kBAAkB9C,UACzCgB,QAASA,EACT4B,GAAIA,EACJS,GAAI,SAAUC,GACNtC,EAAQX,SAASiD,EAAIX,UACrB7C,EAAKyD,OAASzD,EAAKyD,MACnBzD,EAAK0D,mBAIVN,KAAgB,GAASF,KAAY,EAC5C5H,oBAAoBC,OAAOyH,kBAAkB9C,UACzCgB,QAASA,EACT4B,GAAIA,EACJa,KAAM,WACF3D,EAAKyD,OAASzD,EAAKyD,MACnBzD,EAAK0D,kBAGNN,KAAgB,GAAQF,KAAY,GAC3C5H,oBAAoBC,OAAOyH,kBAAkB9C,UACzCgB,QAASA,EACT4B,GAAIA,EACJS,GAAI,WACAvD,EAAKyD,OAASzD,EAAKyD,MACnBzD,EAAK0D,gBAETC,KAAM,WACF3D,EAAKyD,OAASzD,EAAKyD,MACnBzD,EAAK0D,gBAETE,UAAW,WACP5D,EAAKyD,OAASzD,EAAKyD,MACnBzD,EAAK0D,kBAOrB3G,GAAM8G,iBAAmB,WACrB,GAAIC,GAAezE,KAAK0E,kBACpBC,EAAQvH,EAAEqH,EACdE,GAAMC,YAAY,QAAS5E,KAAKoE,QAGpC1G,EAAM2G,aAAe,WACjBrE,KAAKwE,oBAGT9G,EAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,QACdC,cAAc,EACdC,WAAW,EACXyE,yBAAyB,EACzBC,wBAAwB,IAG5BpH,EAAMuC,YAAYH,GACdI,aAAc,iBACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,UACdC,aAAc,WAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,YACdC,aAAc,YAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,YACdC,cAAc,KAItBzC,EAAM+C,iBAAmB,WACrB,GAAIC,GAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KAIvD,OAFA4D,GAAqB5D,MAEdU,GAGXhD,EAAM2D,gBAAkB,SAAUnB,GAG9B,OAFA/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,GAEpCA,GACR,IAAK,YACD0D,EAAqB5D,KACrB,MACJ,KAAK,YACD4D,EAAqB5D,QAO7BtC,EAAM4D,iBAAmB,WACrBnE,EAAOQ,UAAU2D,iBAAiBvB,KAAKC,MAEvCuD,EAAuBvD,QAG7B/D,oBAAoBC,OAAOC,SAASmH,eAAgBrH,oBAAoBC,OAAOC,SAAS4G,QCtJ1F9G,oBAAoBC,OAAOC,SAAS4I,cAAgB,WAChD,cAMH,SAAU7H,EAAOC,GACd,YAEA,IAAIC,GAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,QACdC,aAAc,KAItBzC,EAAM+C,iBAAmB,WACrB,GACIuE,GACAP,EACAE,EAHAjE,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KAKvD,IAAIU,KAAc,EAAM,CACpBsE,KACAA,EAAeC,QAAUjF,KAAKoE,MAE9BK,EAAe1G,SAASC,cAAc,UACtCyG,EAAapG,KAAO,QACpB,IAAI6G,GAAYnH,SAASC,cAAc,OACvCZ,GAAE8H,GAAW9F,KAAM+F,cAAe,cAAeC,YAAahI,EAAE4C,MAAMZ,IAAI,cAC1E,IAAIiG,GAAQtH,SAASuH,eAAetF,KAAKqF,MAAQ,EAAIE,OAAOC,aAAaxF,KAAKqF,OAAS,IAAM,GAC7FH,GAAU3G,YAAY8G,GACtBZ,EAAalG,YAAY2G,EAEzB,IAAIO,GAAc1H,SAASC,cAAc,OACzCZ,GAAEqI,GAAarG,KAAM+F,cAAe/H,EAAE4C,MAAMZ,IAAI,eAAgBgG,YAAahI,EAAE4C,MAAMZ,IAAI,cACzF,IAAIsG,GAAU3H,SAASuH,eAAetF,KAAK0F,QAC3CD,GAAYlH,YAAYmH,GACxBjB,EAAalG,YAAYkH,GACzBhB,EAAapB,MAAMf,MAAQ,OAC3BmC,EAAapB,MAAMd,OAAS,OAC5ByC,EAAeW,SAAW3F,KAAK4F,SAC/BnB,EAAapB,MAAMF,WAAa/F,EAAE4C,MAAMZ,IAAI,eAC5CqF,EAAapB,MAAMD,UAAYhG,EAAE4C,MAAMZ,IAAI,cAC3CY,KAAKzB,YAAYkG,GAEjBE,EAAQvH,EAAEqH,GACVE,EAAMkB,gBAAgBb,GACtBL,EAAMkB,gBAAgB,mBAGtBlB,EAAMmB,SAAS,kBACf9F,KAAKwE,mBAGT,MAAO9D,IAGXhD,EAAMsF,QAAU,SAAUC,EAAUC,EAAYC,EAAYC,GACxDjG,EAAOQ,UAAUqF,QAAQjD,KAAKC,KAAMiD,EAAUC,EAAYC,EAAYC,EAEtE,IACI8B,GAAWO,EADXhB,EAAezE,KAAK0E,iBAExBQ,GAAYT,EAAasB,WAAW,GACpCN,EAAchB,EAAasB,WAAW,GAEtC3I,EAAE8H,GAAW9F,IAAI,YAAa6D,GAE9B7F,EAAEqI,GAAarG,KAAMgG,YAAanC,EAC9BkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,KAGtB1F,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,EAE5C,IAEIgF,GAAWO,EAFXhB,EAAezE,KAAK0E,kBACpBC,EAAQvH,EAAEqH,EAKd,QAHAS,EAAYT,EAAasB,WAAW,GACpCN,EAAchB,EAAasB,WAAW,GAE9B7F,GACR,IAAK,UACD9C,EAAEqI,GAAaS,KAAKlG,KAAK0F,QACzB,MACJ,KAAK,iBACDtI,EAAEqI,GAAaS,KAAKlG,KAAKmG,eAAiBnG,KAAK0F,QAAU,GACzD,MACJ,KAAK,QACDf,EAAMkB,iBACFZ,QAASjF,KAAKoE,QAElBpE,KAAKwE,kBACL,MACJ,KAAK,WACDG,EAAMkB,iBAAkBF,SAAU3F,KAAK4F,UACvC,MACJ,KAAK,QACDxI,EAAE8H,GAAWgB,KAAKlG,KAAKmG,gBAAkBnG,KAAKqF,MAAQ,EAAIE,OAAOC,aAAaxF,KAAKqF,OAAS,IAAM,MAO1G3H,EAAMoE,kBAAkBpE,EAAO,oBAAqB,wBACtDzB,oBAAoBC,OAAOC,SAAS4I,cAAe9I,oBAAoBC,OAAOC,SAASmH,gBC5HzFrH,oBAAoBC,OAAOC,SAASiK,eAAiB,WACjD,cAMH,SAAUlJ,EAAOC,GACd,YAEA,IAAIC,GAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,QACdC,cAAgBkG,YAAa,IAAKC,YAAa,GAC/ClG,WAAW,EACXyE,yBAAyB,EACzBC,wBAAwB,IAG5BpH,EAAMuC,YAAYH,GACdI,aAAc,YACdC,aAAclE,oBAAoBC,OAAOqK,WAAWC,WAAWC,SAGnE/I,EAAMuC,YAAYH,GACdI,aAAc,UACdC,cAAgBkG,YAAa,IAAKC,YAAa,KAGnD5I,EAAMuC,YAAYH,GACdI,aAAc,UACdC,cAAgBkG,YAAa,KAAMC,YAAa,MAGpD5I,EAAMuC,YAAYH,GACdI,aAAc,WACdC,cAAgBkG,YAAa,IAAKC,YAAa,KAGnD5I,EAAMuC,YAAYH,GACdI,aAAc,oBACdC,aAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,kBACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,SACdC,aAAc,oBAItBzC,EAAMsF,QAAU,SAAUC,EAAUC,EAAYC,EAAYC,GACxDjG,EAAOQ,UAAUqF,QAAQjD,KAAKC,KAAMiD,EAAUC,EAAYC,EAAYC,EAEtE,IAAIqB,GAAezE,KAAK0E,kBACpBgC,EAAetJ,EAAE,IAAMqH,EAAahB,GAAK,uBAE7CiD,GAAatH,KAAMgG,YAAanC,EAC5BkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,KAGtB1F,EAAMiJ,SAAW,WACb,GAAI3G,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWK,OAAS7G,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWM,OACjJ,MAAO9G,MAAK+G,QAAQT,YAActG,KAAKgH,QAAQV,WAE/C,IAAIW,GAAM,GAAIC,WAAUlH,KAAK+G,QAAQV,YACrC,OAAOY,GAAIE,SAAS,GAAID,WAAUlH,KAAKgH,QAAQX,cAAce,aAIvEnL,oBAAoBC,OAAOC,SAASiK,eAAgBnK,oBAAoBC,OAAOC,SAAS4G,QC3F1F9G,oBAAoBC,OAAOC,SAASkL,eAAiB,WACjD,cAMH,SAAUnK,EAAOC,GACd,YAEA,IAAIC,GAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,UAGd2J,EAAoBrL,oBAAoBC,OAAOqL,gBAAgBC,sBAM/DC,EAAgC,SAAUC,GAC1C,OAAQA,GACJ,IAAK,iBACD,MAAO,SACX,KAAK,cACD,MAAO,aACX,KAAK,cACD,MAAO,aACX,KAAK,uBAIT,MAAO,UAIXhK,GAAM2C,gBAAkB,WACpBlD,EAAOQ,UAAU0C,gBAAgBN,KAAKC,MACtCA,KAAK2H,gBAAiB,GAG1BjK,EAAM+C,iBAAmB,WACrB,GACIgE,GACAO,EACA4C,EACAC,EACAlD,EALAjE,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,MAMnDW,EAAOX,IAEX,IAAIU,KAAc,EAAM,CACpBsE,IACA,IAAI8C,GAA6BtH,SAAlBuH,OAAOhH,QAAwBgH,OAAOhH,OAAOiH,YAA2CxH,SAA7BuH,OAAOE,kBAAkCF,OAAOE,kBAAkBH,SAAWC,OAAOG,UAAUJ,SACpKK,EAAUC,UAAUD,QAAQL,EAChC,IAAgBtH,SAAZ2H,EAAuB,CACvB,GAAIE,GAAeF,EAAQE,YAC3BrD,GAAesD,iBAAmBD,EAAa,KAG/CrI,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAW+B,eAAiBvI,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWgC,gBACzJxD,EAAeyD,MAAQzI,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWK,MAAQ,IAAM7G,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWM,OAAS,KAAM,GAGhM9B,EAAeY,SAAW5F,KAAK4F,SAC/BZ,EAAe0D,aAAe1I,KAAK4F,SACf,mBAAhB5F,KAAK0H,QAA+C,gBAAhB1H,KAAK0H,OACzC1C,EAAe2D,eAAiBlB,EAA8BzH,KAAK0H,QAEnE1C,EAAe4D,MAAQ5I,KAAK0H,OAGhC1C,EAAeZ,MAAQkD,EAAkBuB,YAAY7I,KAAKoE,MAAOpE,KAAK4G,WACtE5B,EAAeiC,IAAMK,EAAkBuB,YAAY7I,KAAK+G,QAAS/G,KAAK4G,WACtE5B,EAAe8D,IAAMxB,EAAkBuB,YAAY7I,KAAKgH,QAAShH,KAAK4G,WAClE5G,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAW+B,eAAiBvI,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWgC,cACzJxD,EAAe+D,gBAAkBzB,EAAkBuB,YAAY7I,KAAKgJ,SAAUhJ,KAAK4G,WAEnF5B,EAAegE,SAAW1B,EAAkBuB,YAAY7I,KAAKgJ,SAAUhJ,KAAK4G,WAG5E5G,KAAKiJ,gBAAkB,IACvBjE,EAAekE,OAAS,KACxBlE,EAAemE,cAAgBnJ,KAAKiJ,iBAGpCjJ,KAAKoJ,kBAAoB,IACzBpE,EAAemE,cAAgB,KAC/BnE,EAAekE,OAASlJ,KAAKoJ,mBAGjCpE,EAAe1C,MAAQ,OACvB0C,EAAezC,OAAS,OAExBkC,EAAe1G,SAASC,cAAc,OACtCgC,KAAKzB,YAAYkG,GACjBoD,EAAc9J,SAASC,cAAc,SACrC6J,EAAYxJ,KAAO,OACnBoG,EAAalG,YAAYsJ,GACrB7C,EAAe0D,cACfd,EAAa7J,SAASC,cAAc,OACpCyG,EAAalG,YAAYqJ,IAG7BjD,EAAQvH,EAAEqH,GACNzE,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAW+B,eAAiBvI,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWgC,cACzJ7D,EAAM0E,kBAAkBrE,IAExBA,EAAesE,SAAW,WAC1B3E,EAAM4E,gBAAgBvE,IAG1B5H,EAAE,IAAMqH,EAAahB,GAAK,wBAAwBrE,IAAI,YAAahC,EAAE4C,MAAMZ,IAAI,cAC/EhC,EAAE,IAAMqH,EAAahB,GAAK,wBAAwBrE,IAAI,cAAehC,EAAE4C,MAAMZ,IAAI,gBACjFhC,EAAE,IAAMqH,EAAahB,GAAK,wBAAwBrE,IAAI,cAAehC,EAAE4C,MAAMZ,IAAI,gBACjFhC,EAAE,IAAMqH,EAAahB,GAAK,wBAAwBrE,IAAI,aAAchC,EAAE4C,MAAMZ,IAAI,eAChFuF,EAAM6E,GAAG,eAAgB,SAAUC,GAC/B9I,EAAKgH,gBAAiB,EACtBhH,EAAKyD,MAAQkD,EAAkBoC,QAAQD,EAAME,KAAKvF,MAAOzD,EAAKiG,WAAW,GACzEjG,EAAKgH,gBAAiB,IAG1BhD,EAAM6E,GAAG,SAAU,SAAU7G,GACzBA,EAAEiH,oBAINjF,EAAMmB,SAAS,kBACfnB,EAAMkF,KAAK,UAAU/D,SAAS,iBAC9BnB,EAAMkF,KAAK,qCAAqC/D,SAAS,kBACzDnB,EAAMkF,KAAK,eAAe/D,SAAS,gBACnCnB,EAAMkF,KAAK,uBAAuB/D,SAAS,qBAC3CnB,EAAMkF,KAAK,yBAAyB/D,SAAS,qBAGjD,MAAOpF,IAGXhD,EAAMmF,YAAc,SAAUC,GAC1B3F,EAAOQ,UAAUkF,YAAY9C,KAAKC,KAAM8C,EACxC,IAAI6B,GAAQvH,EAAE4C,KAAK0E,kBAEf1E,MAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAW+B,eAAiBvI,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWgC,eAEzJ7D,EAAM0E,mBAAoB/G,MAAOQ,EAAKR,QACtCqC,EAAM0E,mBAAoB9G,OAAQO,EAAKP,WAEvCoC,EAAM4E,iBAAkBjH,MAAOQ,EAAKR,QACpCqC,EAAM4E,iBAAkBhH,OAAQO,EAAKP,WAI7C7E,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,EAE5C,IAAIuE,GAAezE,KAAK0E,kBACpBC,EAAQvH,EAAEqH,GACVqF,KACAC,GAAQ,CAEZ,QAAQ7J,GACJ,IAAK,UACD4J,GACI7C,IAAKK,EAAkBuB,YAAY7I,KAAK+G,QAAS/G,KAAK4G,YAE1DmD,GAAQ,CACR,MACJ,KAAK,UACDD,GACIhB,IAAKxB,EAAkBuB,YAAY7I,KAAKgH,QAAShH,KAAK4G,YAE1DmD,GAAQ,CACR,MACJ,KAAK,WACG/J,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAW+B,eAAiBvI,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWgC,cACzJ7D,EAAM0E,mBAAoBN,gBAAiBzB,EAAkBuB,YAAY7I,KAAKgJ,SAAUhJ,KAAK4G,aAE7FjC,EAAM4E,iBAAkBP,SAAU1B,EAAkBuB,YAAY7I,KAAKgJ,SAAUhJ,KAAK4G,YAGxF,MACJ,KAAK,kBACG5G,KAAKiJ,iBAAmB,IACpBjJ,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAW+B,eAAiBvI,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWgC,eACzJ7D,EAAM0E,mBAAoBF,cAAenJ,KAAKiJ,kBAC9CtE,EAAM0E,mBAAoBH,OAAQ,SAElCvE,EAAM4E,iBAAkBJ,cAAenJ,KAAKiJ,kBAC5CtE,EAAM4E,iBAAkBL,OAAQ,QAIxC,MACJ,KAAK,WACDvE,EAAM0E,mBACFX,aAAc1I,KAAK4F,SACnBA,SAAU5F,KAAK4F,UAEnB,MACJ,KAAK,oBACG5F,KAAKoJ,mBAAqB,IACtBpJ,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAW+B,eAAiBvI,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWgC,eACzJ7D,EAAM0E,mBAAoBH,OAAQlJ,KAAKoJ,oBACvCzE,EAAM0E,mBAAoBF,cAAe,SAEzCxE,EAAM4E,iBAAkBL,OAAQlJ,KAAKoJ,oBACrCzE,EAAM4E,iBAAkBJ,cAAe,QAI/C,MACJ,KAAK,SACmB,mBAAhBnJ,KAAK0H,QAA+C,gBAAhB1H,KAAK0H,OACzCoC,EAAcnB,eAAiBlB,EAA8BzH,KAAK0H,QAElEoC,EAAclB,MAAQ5I,KAAK0H,OAG/BqC,GAAQ,CACR,MACJ,KAAK,QACD,GAAI/J,KAAK2H,kBAAmB,EAAO,CAC/B,GAAIvD,GAAQkD,EAAkBuB,YAAY7I,KAAKoE,MAAOpE,KAAK4G,UACvD5G,MAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAW+B,eAAiBvI,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWgC,cACzJ7D,EAAM0E,kBAAkB,WAAYjF,GAEpCO,EAAMqF,IAAI5F,IAStB2F,KAAU,IACN/J,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAW+B,eAAiBvI,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWgC,cACzJ7D,EAAM0E,kBAAkBS,GAExBnF,EAAM4E,gBAAgBO,KAKlCpM,EAAMoE,kBAAkBpE,EAAO,sBAAuB,yBACxDzB,oBAAoBC,OAAOC,SAASkL,eAAgBpL,oBAAoBC,OAAOC,SAASiK,gBCrP1FnK,oBAAoBC,OAAOC,SAAS8N,eAAiB,WACjD,cAMH,SAAU/M,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,eACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,oBACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,oBACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,gBACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,eACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,qBACdC,aAAc,UAItBzC,EAAMwM,qBAAuB,SAAUxC,GACnC,OAAQA,GACJ,IAAK,cACD,MAAO,GACX,KAAK,QACD,MAAO,EACX,KAAK,SACD,MAAO,MAMrBzL,oBAAoBC,OAAOC,SAAS8N,eAAgBhO,oBAAoBC,OAAOC,SAASiK,gBCrE1FnK,oBAAoBC,OAAOC,SAASgO,qBAAuB,WACvD,cAMH,SAAUjN,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,cACdC,aAAc,iBAIxBlE,oBAAoBC,OAAOC,SAASgO,qBAAsBlO,oBAAoBC,OAAOC,SAAS8N,gBC/BhGhO,oBAAoBC,OAAOC,SAASiO,qBAAuB,WACvD,cAMH,SAAUlN,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,aACdC,aAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,WACdC,aAAc,QAKxBlE,oBAAoBC,OAAOC,SAASiO,qBAAsBnO,oBAAoBC,OAAOC,SAAS8N,gBCvChGhO,oBAAoBC,OAAOC,SAASkO,OAAS,WACzC,cAMH,SAAUnN,EAAOC,GACd,YAEA,IAAIC,GAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,UAGd2J,EAAoBrL,oBAAoBC,OAAOqL,gBAAgBC,sBAG/D8C,EAAiB,EAGjBC,EAAc,SAAU/G,GACxB,GAAIwB,GACAP,EACAE,EACAhE,EAAO6C,CAEXwB,MACAA,EAAe1C,MAAQ,OACvB0C,EAAezC,OAAS,OACxByC,EAAeyD,MAAQ9H,EAAKiG,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWK,MAAQ,IAAMlG,EAAKiG,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWM,OAAS,KAAM,EAC5L9B,EAAewF,KAAOlD,EAAkBuB,YAAYlI,EAAKqI,SAAUrI,EAAKiG,WACxE5B,EAAeyF,YAAc9J,EAAK8J,WAClC,IAAIxD,GAAMK,EAAkBuB,YAAYlI,EAAKoG,QAASpG,EAAKiG,WACvDkC,EAAMxB,EAAkBuB,YAAYlI,EAAKqG,QAASrG,EAAKiG,UAE3D5B,GAAe8D,IAAMA,EACrB9D,EAAeiC,IAAMA,EACW,SAA5BtG,EAAK+J,oBACL1F,EAAe2F,SAAW,UAC1B3F,EAAe4F,cAAe,IAE9B5F,EAAe2F,SAAW,aAC1B3F,EAAe4F,cAAe,EAC9B5F,EAAe6F,WAAaP,GAGhCtF,EAAe1F,QAAU,EACzB0F,EAAe8F,yBACXnC,eAAgC,mBAAhBhI,EAAK+G,OAA8B,UAAY,cAC/DkB,MAAOjI,EAAKuJ,qBAAqBvJ,EAAK+G,QACtCwB,OAAQvI,EAAKsI,iBAAmB,EAAIzI,OAAYG,EAAKyI,kBACrDD,cAAexI,EAAKyI,mBAAqB,EAAI5I,OAAYG,EAAKsI,iBAElEjE,EAAe+F,uBACXpC,eAAgC,mBAAhBhI,EAAK+G,OAA8B,UAAY,cAC/DkB,MAAOjI,EAAKuJ,qBAAqBvJ,EAAK+G,QACtCwB,OAAQvI,EAAKsI,iBAAmB,EAAIzI,OAAYG,EAAKyI,kBACrDD,cAAexI,EAAKyI,mBAAqB,EAAI5I,OAAYG,EAAKsI,iBAGlEtI,EAAKqK,mBAAmBhG,GAExBA,EAAeiG,aAAc,EAC7BjG,EAAekG,cAAgB,SAC/BlG,EAAemG,KAAOxK,EAAKyK,aAAe,aAAe,UACzDpG,EAAeqG,SAAU,EACzBrG,EAAeZ,MAAQkD,EAAkBuB,YAAYlI,EAAKyD,MAAOzD,EAAKiG,WAEtEnC,EAAe1G,SAASC,cAAc,OACtCyG,EAAapB,MAAMf,MAAQ,OAC3BmC,EAAapB,MAAMd,OAAS,OAE5B5B,EAAKpC,YAAYkG,GAEjBE,EAAQvH,EAAEqH,GACN9D,EAAKiG,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWK,MACpE7B,EAAeyD,MAAQ,IAChB9H,EAAKiG,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWM,OAC3E9B,EAAeyD,MAAQ,IAEvBzD,EAAeyD,OAAQ,EAG3B9D,EAAM2G,UAAUtG,GAChBL,EAAMvF,IAAI,YAAahC,EAAEuD,GAAMvB,IAAI,cACnCuF,EAAMvF,IAAI,cAAehC,EAAEuD,GAAMvB,IAAI,gBACrCuF,EAAMvF,IAAI,cAAehC,EAAEuD,GAAMvB,IAAI,gBACrCuF,EAAMvF,IAAI,aAAchC,EAAEuD,GAAMvB,IAAI,eACpCuF,EAAM6E,GAAG,SAAU,SAAUC,GACzB9I,EAAKyD,MAAQkD,EAAkBoC,QAAQD,EAAME,KAAKvF,MAAOzD,EAAKiG,WAAW,KAE7EjC,EAAM6E,GAAG,SAAU,SAAUC,GACzBA,EAAMG,oBAIVjF,EAAMmB,SAAS,iBACfnB,EAAMkF,KAAK,+BAA+B/D,SAAS,YACnDnB,EAAMkF,KAAK,uBAAuB/D,SAAS,YAC3CnB,EAAMkF,KAAK,qBAAqB/D,SAAS,WACzCnB,EAAMkF,KAAK,uBAAuB/D,SAAS,YAC3CnB,EAAMkF,KAAK,yBAAyB/D,SAAS,gBAGjDpI,GAAMmF,YAAc,SAAUC,GAC1B3F,EAAOQ,UAAUkF,YAAY9C,KAAKC,KAAM8C,GACxC1F,EAAE4C,KAAK0E,mBAAmB4G,UAAUxI,IAIxCpF,EAAM6N,YAAc,SAAU5G,GAC1B,GAAI6G,IAAa/C,MAAOzI,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWK,MAAQ,IAAM7G,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWM,OAAS,KAAM,EAC7L0E,GAAS1C,IAAMxB,EAAkBuB,YAAY7I,KAAKgH,QAAShH,KAAK4G,WAChE4E,EAASvE,IAAMK,EAAkBuB,YAAY7I,KAAK+G,QAAS/G,KAAK4G,WAChE4E,EAASpH,MAAQkD,EAAkBuB,YAAY7I,KAAKoE,MAAOpE,KAAK4G,WAChE4E,EAAShB,KAAOlD,EAAkBuB,YAAY7I,KAAKgJ,SAAUhJ,KAAK4G,WAElEjC,EAAM2G,UAAUE,IAGpB9N,EAAMsN,mBAAqB,SAAUQ,GACjCA,EAASC,UAAYzL,KAAK0L,aAC1BF,EAASG,SAAW3L,KAAK4L,kBAAoB,EAAI,EACjDJ,EAASK,eAAiB7L,KAAK8L,mBAAqB9L,KAAK0L,aACzDF,EAASO,eAAiB/L,KAAKgM,eAAiBhM,KAAK0L,cAGzDhO,EAAMuO,sBAAwB,SAAUtH,GACpC,GAAI6G,KACJxL,MAAKgL,mBAAmBQ,GACxB7G,EAAM2G,UAAUE,IAGpB9N,EAAMsF,QAAU,SAAUC,EAAUC,EAAYC,EAAYC,GACxDjG,EAAOQ,UAAUqF,QAAQjD,KAAKC,KAAMiD,EAAUC,EAAYC,EAAYC,EAEtE,IAAIqB,GAAezE,KAAK0E,kBACpBC,EAAQvH,EAAEqH,EAEdE,GAAMvF,KAAMgG,YAAanC,EACrBkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,IAElBhG,EAAEqH,GAAcyH,QAAQ,YAG5BxO,EAAM+C,iBAAmB,WACrB,GAAIC,GAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KAMvD,OAJIU,MAAc,GACd6J,EAAYvK,MAGTU,GAGXhD,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,EAE5C,IAAIuE,GAAezE,KAAK0E,kBACpBC,EAAQvH,EAAEqH,EAEd,QAAQvE,GACJ,IAAK,YACDF,KAAKuL,YAAY5G,EACjB,MACJ,KAAK,QACDA,EAAM2G,WAAYlH,MAAOkD,EAAkBuB,YAAY7I,KAAKoE,MAAOpE,KAAK4G,YACxE,MACJ,KAAK,UACD5G,KAAKuL,YAAY5G,EACjB,MACJ,KAAK,UACD3E,KAAKuL,YAAY5G,EACjB,MACJ,KAAK,WACD3E,KAAKuL,YAAY5G,EACjB,MACJ,KAAK,cACD3E,KAAKmM,YAAY1H,GACjB8F,EAAYvK,KACZ,MACJ,KAAK,eACDA,KAAKiM,sBAAsBtH,EAC3B,MACJ,KAAK,oBACD3E,KAAKiM,sBAAsBtH,EAC3B,MACJ,KAAK,oBACD3E,KAAKiM,sBAAsBtH,EAC3B,MACJ,KAAK,gBACD3E,KAAKiM,sBAAsBtH,EAC3B,MACJ,KAAK,eACDA,EAAM2G,WAAYH,KAAMnL,KAAKoL,aAAe,aAAe,WAC3D,MACJ,KAAK,qBACDzG,EAAM2G,WAAYX,SAAsC,SAA5B3K,KAAK0K,oBAA6D,SAA5B1K,KAAK0K,mBAAgC,UAAY,eACnH/F,EAAM2G,WAAYV,aAA0C,SAA5B5K,KAAK0K,oBAA6D,SAA5B1K,KAAK0K,qBAC3C,SAA5B1K,KAAK0K,oBAA6D,SAA5B1K,KAAK0K,oBAC3C/F,EAAM2G,WAAYT,WAAYP,GAGlC,MACJ,KAAK,SACL,IAAK,oBACL,IAAK,mBACGtK,KAAKoJ,mBAAqB,GAAKpJ,KAAKiJ,iBAAmB,KACvDtE,EAAM2G,WACFR,yBACInC,eAAgC,mBAAhB3I,KAAK0H,OAA8B,UAAY,cAC/DkB,MAAO5I,KAAKkK,qBAAqBlK,KAAK0H,QACtCwB,OAAQlJ,KAAKoJ,mBAAqB,EAAIpJ,KAAKoJ,kBAAoB5I,OAC/D2I,cAAenJ,KAAKiJ,iBAAmB,EAAIjJ,KAAKiJ,gBAAkBzI,UAG1EmE,EAAM2G,WACFP,uBACIpC,eAAgC,mBAAhB3I,KAAK0H,OAA8B,UAAY,cAC/DkB,MAAO5I,KAAKkK,qBAAqBlK,KAAK0H,QACtCwB,OAAQlJ,KAAKoJ,mBAAqB,EAAIpJ,KAAKoJ,kBAAoB5I,OAC/D2I,cAAenJ,KAAKiJ,iBAAmB,EAAIjJ,KAAKiJ,gBAAkBzI,aAW1F9C,EAAMoE,kBAAkBpE,EAAO,YAAa,iBAC9CzB,oBAAoBC,OAAOC,SAASkO,OAAQpO,oBAAoBC,OAAOC,SAASgO,sBC9OlFlO,oBAAoBC,OAAOC,SAASiQ,KAAO,WACvC,cAMH,SAAUlP,EAAOC,GACd,YAEA,IAAIC,GAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,UAGd2J,EAAoBrL,oBAAoBC,OAAOqL,gBAAgBC,sBAG/D8C,EAAiB,EACjB+B,EAAgC,GAChCC,EAAkB,OAClBC,EAAkB,MAGlBhC,EAAc,SAAU/G,GACxB,GAAIwB,GACAP,EACAE,EACAhE,EAAO6C,CAEXwB,MAEAA,EAAeyD,MAAQ9H,EAAKiG,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWK,MAAQ,IAAMlG,EAAKiG,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWM,OAAS,KAAM,EAC5L9B,EAAewH,YAAeC,SAAS,GACvCzH,EAAe0H,kBAAoB,EAEnC/L,EAAKqK,mBAAmBhG,GAExBA,EAAeyF,YAAc9J,EAAK8J,WAClC,IAAIxD,GAAMK,EAAkBuB,YAAYlI,EAAKoG,QAASpG,EAAKiG,WACvDkC,EAAMxB,EAAkBuB,YAAYlI,EAAKqG,QAASrG,EAAKiG,UAE3D5B,GAAe8D,IAAMA,EACrB9D,EAAeiC,IAAMA,EACrBjC,EAAeZ,MAAQkD,EAAkBuB,YAAYlI,EAAKyD,MAAOzD,EAAKiG,WACtEnC,EAAe1G,SAASC,cAAc,OACtCyG,EAAapB,MAAMf,MAAQ,OAC3BmC,EAAapB,MAAMd,OAAS,OAE5B5B,EAAKpC,YAAYkG,GAEjBE,EAAQvH,EAAEqH,GACVE,EAAMgI,eAAe3H,GAGrBL,EAAMmB,SAAS,eAGnBpI,GAAMmF,YAAc,SAAUC,GAC1B3F,EAAOQ,UAAUkF,YAAY9C,KAAKC,KAAM8C,GACxC1F,EAAE4C,KAAK0E,mBAAmBiI,eAAe7J,IAI7CpF,EAAMsN,mBAAqB,SAAUQ,GACjC,GAAIoB,GACAC,EACAC,EAA6C,gBAAxBtB,GAASsB,YAAmD,OAAxBtB,EAASsB,cAA4BtB,EAASsB,WACvGC,EAA6C,gBAAxBvB,GAASuB,YAAmD,OAAxBvB,EAASuB,cAA4BvB,EAASuB,WACvGC,EAAqC,gBAApBxB,GAASwB,QAA2C,OAApBxB,EAASwB,UAAwBxB,EAASwB,OAC3FC,EAAyB,MAEJ,cAArBjN,KAAKyK,aACLoC,GAAe,MAAO,MACtBD,EAAgB,OAEhBC,GAAe,KAAM,OACrBD,EAAgB,QAGpBE,EAAWhK,KAAOwJ,EAClBQ,EAAWL,QAAUzM,KAAK4L,mBAAqB5L,KAAK0L,aAEpDqB,EAAWjK,KAAOyJ,EAClBQ,EAAWN,QAAUzM,KAAK8L,mBAAqB9L,KAAK0L,aAEpDsB,EAAOE,SAAWD,EAClBD,EAAOP,QAAUzM,KAAKgM,eAAiBhM,KAAK0L,aAC5C1L,KAAKmN,0BAA0BH,GAC/BA,EAAOhE,SAAW1B,EAAkBuB,YAAY7I,KAAKgJ,SAAUhJ,KAAK4G,WAEpC,SAA5B5G,KAAK0K,oBACLc,EAASb,SAAW,UACpBa,EAASZ,cAAe,IAExBY,EAASb,SAAW,aACpBa,EAASZ,cAAe,EACxBkC,EAAWM,OAAS9C,EACpByC,EAAWK,OAASf,EACpBW,EAAOI,OAAS9C,GAGpBkB,EAASsB,WAAaA,EACtBtB,EAASuB,WAAaA,EACtBvB,EAASqB,YAAcA,EACvBrB,EAASwB,OAASA,EAClBxB,EAASN,cAAgB+B,EACzBzB,EAAS6B,SAAYvK,KAAM,QAC3B0I,EAAS6B,QAAQC,OAASV,EAC1BpB,EAAS/C,MAAQzI,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWK,MAAQ,IAAM7G,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWM,OAAS,KAAM,GAG1LpJ,EAAMuO,sBAAwB,SAAUtH,GACpC,GAAI6G,KACJA,GAASsB,WAAanI,EAAMgI,eAAe,cAC3CnB,EAASuB,WAAapI,EAAMgI,eAAe,cAC3CnB,EAASwB,OAASrI,EAAMgI,eAAe,UACvC3M,KAAKgL,mBAAmBQ,GACxB7G,EAAMgI,eAAenB,IAGzB9N,EAAM6N,YAAc,SAAU5G,GAC1B,GAAI6G,IAAa/C,MAAOzI,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWK,MAAQ,IAAM7G,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWM,OAAS,KAAM,EAC7L0E,GAAS1C,IAAMxB,EAAkBuB,YAAY7I,KAAKgH,QAAShH,KAAK4G,WAChE4E,EAASvE,IAAMK,EAAkBuB,YAAY7I,KAAK+G,QAAS/G,KAAK4G,WAChE4E,EAASpH,MAAQkD,EAAkBuB,YAAY7I,KAAKoE,MAAOpE,KAAK4G,WAEhEjC,EAAMgI,eAAenB,IAGzB9N,EAAMyP,0BAA4B,SAAUH,GACxC,GAAIrI,GAAQvH,EAAE4C,KACdgN,GAASA,GAAUrI,EAAMgI,eAAe,UACxCK,EAAO/J,SAAW0B,EAAMvF,IAAI,aAC5B4N,EAAO9J,WAAayB,EAAMvF,IAAI,eAC9B4N,EAAO5J,UAAYuB,EAAMvF,IAAI,cAC7B4N,EAAO7J,WAAawB,EAAMvF,IAAI,eAC9B4N,EAAOO,gBACH5E,eAAgC,mBAAhB3I,KAAK0H,OAA8B,UAAY,cAC/DkB,MAAO5I,KAAKkK,qBAAqBlK,KAAK0H,QACtCwB,OAAQlJ,KAAKiJ,gBAAkB,EAAIzI,OAAYR,KAAKoJ,kBACpDD,cAAenJ,KAAKoJ,kBAAoB,EAAI5I,OAAYR,KAAKiJ,kBAIrEvL,EAAM8P,oBAAsB,SAAU7I,GAClC,GAAIqE,GAAUwC,IAEdA,GAASsB,WAAanI,EAAMgI,eAAe,cAC3CnB,EAASuB,WAAapI,EAAMgI,eAAe,cAC3CnB,EAASwB,OAASrI,EAAMgI,eAAe,UAEP,SAA5B3M,KAAK0K,oBACLc,EAASwB,OAAOI,OAAS5M,OACzBgL,EAASuB,WAAWK,OAAS5M,OAC7BgL,EAASsB,WAAWM,OAAS5M,OAC7BgL,EAASb,SAAW,UACpBa,EAASZ,cAAe,IAExB5B,EAAWhJ,KAAK2G,WAChB6E,EAASwB,OAAOhE,SAAWA,EAC3BwC,EAASwB,OAAOI,OAAS9C,EACzBkB,EAASuB,WAAWK,OAASf,EAC7Bb,EAASsB,WAAWM,OAAS9C,EAC7BkB,EAASsB,WAAW9D,SAAWA,EAC/BwC,EAASuB,WAAW/D,SAAWA,EAC/BwC,EAASb,SAAW,aACpBa,EAASZ,cAAe,GAG5BjG,EAAMgI,eAAenB,IAGzB9N,EAAM+C,iBAAmB,WACrB,GAAIC,GAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KAMvD,OAJIU,MAAc,GACd6J,EAAYvK,MAGTU,GAGXhD,EAAMsF,QAAU,SAAUC,EAAUC,EAAYC,EAAYC,GACxDjG,EAAOQ,UAAUqF,QAAQjD,KAAKC,KAAMiD,EAAUC,EAAYC,EAAYC,EAEtE,IAC6B4J,GADzBvI,EAAezE,KAAK0E,kBACpBC,EAAQvH,EAAEqH,EAEduI,GAASrI,EAAMgI,eAAe,UAC9B3M,KAAKmN,0BAA0BH,GAC/BrI,EAAMgI,gBAAiBK,OAAQA,IAC/BrI,EAAMgI,eAAe,WAAW,IAGpCjP,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,EAE5C,IACI6M,GAAYD,EACaE,EAFzBvI,EAAezE,KAAK0E,kBAEpBC,EAAQvH,EAAEqH,EAEd,QAAQvE,GACJ,IAAK,YACDF,KAAKuL,YAAY5G,EACjB,MACJ,KAAK,QACDA,EAAMgI,gBAAiBvI,MAAOkD,EAAkBuB,YAAY7I,KAAKoE,MAAOpE,KAAK4G,YAC7E,MACJ,KAAK,UACD5G,KAAKuL,YAAY5G,EACjB,MACJ,KAAK,UACD3E,KAAKuL,YAAY5G,EACjB,MACJ,KAAK,WACD3E,KAAKuL,YAAY5G,EACjB,MACJ,KAAK,eACD3E,KAAKiM,sBAAsBtH,EAC3B,MACJ,KAAK,gBACDqI,EAASrI,EAAMgI,eAAe,UAC9BK,EAAOP,QAAUzM,KAAKgM,eAAiBhM,KAAK0L,aAC5C/G,EAAMgI,gBAAiBK,OAAQA,IAC/BrI,EAAMgI,eAAe,WAAW,EAChC,MACJ,KAAK,oBACDG,EAAanI,EAAMgI,eAAe,cAClCG,EAAWL,QAAUzM,KAAK4L,mBAAqB5L,KAAK0L,aACpD/G,EAAMgI,gBAAiBG,WAAYA,IACnCnI,EAAMgI,eAAe,WAAW,EAChC,MACJ,KAAK,oBACDI,EAAapI,EAAMgI,eAAe,cAClCI,EAAWN,QAAUzM,KAAK8L,mBAAqB9L,KAAK0L,aACpD/G,EAAMgI,gBAAiBI,WAAYA,IACnCpI,EAAMgI,eAAe,WAAW,EAChC,MACJ,KAAK,qBACD3M,KAAKwN,oBAAoB7I,EACzB,MACJ,KAAK,SACL,IAAK,oBACL,IAAK,kBACDqI,EAASrI,EAAMgI,eAAe,UAC9B3M,KAAKmN,0BAA0BH,GAC/BrI,EAAMgI,gBAAiBK,OAAQA,IAC/BrI,EAAMgI,eAAe,WAAW,EAChC,MACJ,KAAK,cACD3M,KAAKmM,YAAY1H,GACjB8F,EAAYvK,QAOxBtC,EAAMoE,kBAAkBpE,EAAO,UAAW,eAC5CzB,oBAAoBC,OAAOC,SAASiQ,KAAMnQ,oBAAoBC,OAAOC,SAASgO,sBCtQhFlO,oBAAoBC,OAAOC,SAASsR,MAAQ,WACxC,cAMH,SAAUvQ,EAAOC,GACd,YAEA,IAAIC,GAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,UAGd2J,EAAoBrL,oBAAoBC,OAAOqL,gBAAgBC,sBAG/D8C,EAAiB,EACjB+B,EAAgC,EAChCC,EAAkB,MAClBC,EAAkB,IAMtB7O,GAAM+C,iBAAmB,WACrB,GACIuE,GACAP,EACAE,EAHAjE,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KAKvD,IAAIU,KAAc,EAAM,CACpBsE,KACAA,EAAe1C,MAAQ,OACvB0C,EAAezC,OAAS,OACxByC,EAAe0H,kBAAoB,EACnC1H,EAAe3F,QAAUyD,KAAM,KAAM4K,cAAc,EAEnD,IAAIV,IACAhE,SAAU,EACVyD,SAAS,EACTkB,SAAU,MACV1K,SAAU7F,EAAE4C,MAAMZ,IAAI,aACtB8D,WAAY9F,EAAE4C,MAAMZ,IAAI,eACxBgE,UAAWhG,EAAE4C,MAAMZ,IAAI,cACvB+D,WAAY/F,EAAE4C,MAAMZ,IAAI,eACxBmO,gBACI5E,eAAgC,mBAAhB3I,KAAK0H,OAA8B,UAAY,cAC/DkB,MAAO5I,KAAKkK,qBAAqBlK,KAAK0H,QACtCwB,OAAQlJ,KAAKiJ,gBAAkB,EAAIzI,OAAYR,KAAKoJ,kBACpDD,cAAenJ,KAAKoJ,kBAAoB,EAAI5I,OAAYR,KAAKiJ,kBAGjE6D,GACAL,QAASzM,KAAK4L,mBAAqB5L,KAAK0L,aACxC5I,KAAMwJ,GAENS,GACAN,QAASzM,KAAK8L,mBAAqB9L,KAAK0L,aACxC5I,KAAMyJ,EAGVS,GAAOhE,SAAW1B,EAAkBuB,YAAY7I,KAAKgJ,SAAUhJ,KAAK4G,WACpEoG,EAAOP,QAAUzM,KAAKgM,eAAiBhM,KAAK0L,aAC5C1G,EAAegI,OAASA,EACQ,SAA5BhN,KAAK0K,oBACL1F,EAAe2F,SAAW;AAC1B3F,EAAe4F,cAAe,IAE9B5F,EAAe2F,SAAW,aAC1B3F,EAAe4F,cAAe,EAC9BkC,EAAWM,OAAS9C,EACpByC,EAAWK,OAASf,EACpBW,EAAOI,OAAS9C,GAGpBtF,EAAe8H,WAAaA,EAC5B9H,EAAe+H,WAAaA,EAC5B/H,EAAe4I,cAAgB,KAE/B5I,EAAeiC,IAAMK,EAAkBuB,YAAY7I,KAAK+G,QAAS/G,KAAK4G,WACtE5B,EAAe8D,IAAMxB,EAAkBuB,YAAY7I,KAAKgH,QAAShH,KAAK4G,WAEtE5B,EAAe6I,WAAa7N,KAAK6N,WACjC7I,EAAe8I,SAAW9N,KAAK8N,SAE/B9I,EAAeZ,MAAQkD,EAAkBuB,YAAY7I,KAAKoE,MAAOpE,KAAK4G,WACtE5B,EAAeyD,MAAQzI,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWK,MAAQ,IAAM7G,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWM,OAAS,KAAM,EAE5LrC,EAAe1G,SAASC,cAAc,OACtCyG,EAAapB,MAAMf,MAAQ,OAC3BmC,EAAapB,MAAMd,OAAS,OAE5BvC,KAAKzB,YAAYkG,GAEjBE,EAAQvH,EAAEqH,GAEVE,EAAMoJ,SAAS/I,GACfL,EAAM6E,GAAG,SAAU,SAAUC,GACzBA,EAAMG,oBAIVjF,EAAMmB,SAAS,gBAGnB,MAAOpF,IAGXhD,EAAMmF,YAAc,SAAUC,GAC1B3F,EAAOQ,UAAUkF,YAAY9C,KAAKC,KAAM8C,GACxC1F,EAAE4C,KAAK0E,mBAAmBqJ,SAASjL,IAGvCpF,EAAM6N,YAAc,SAAU5G,GAC1B,GAAI6G,IAAa/C,MAAOzI,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWK,MAAQ,IAAM7G,KAAK4G,YAAc3K,oBAAoBC,OAAOqK,WAAWC,WAAWM,OAAS,KAAM,EAC7L0E,GAAS1C,IAAMxB,EAAkBuB,YAAY7I,KAAKgH,QAAShH,KAAK4G,WAChE4E,EAASvE,IAAMK,EAAkBuB,YAAY7I,KAAK+G,QAAS/G,KAAK4G,WAChE4E,EAASpH,MAAQkD,EAAkBuB,YAAY7I,KAAKoE,MAAOpE,KAAK4G,WAEhEjC,EAAMoJ,SAASvC,IAGnB9N,EAAMsF,QAAU,SAAUC,EAAUC,EAAYC,EAAYC,GACxDjG,EAAOQ,UAAUqF,QAAQjD,KAAKC,KAAMiD,EAAUC,EAAYC,EAAYC,EAEtE,IAAIqB,GAAezE,KAAK0E,kBAEpBsI,GACAhE,SAAU1B,EAAkBuB,YAAY7I,KAAKgJ,SAAUhJ,KAAK4G,WAC5D6F,QAASzM,KAAKgM,eAAiBhM,KAAK0L,aACpCiC,SAAU,MACV1K,SAAUA,EACVC,WAAYA,EACZE,UAAWA,EACXD,WAAYA,EAGhB/F,GAAEqH,GAAcsJ,UAAWf,OAAQA,KAGvCtP,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,EAE5C,IACI4M,GACAC,EAFAtI,EAAezE,KAAK0E,kBAGpBC,EAAQvH,EAAEqH,EAEd,QAAQvE,GACJ,IAAK,YACDF,KAAKuL,YAAY5G,EACjB,MACJ,KAAK,aACDA,EAAMoJ,UAAUF,WAAY7N,KAAK6N,YACjC,MACJ,KAAK,WACDlJ,EAAMoJ,UAAUD,SAAU9N,KAAK8N,UAC/B,MACJ,KAAK,UACD9N,KAAKuL,YAAY5G,EACjB,MACJ,KAAK,UACD3E,KAAKuL,YAAY5G,EACjB,MACJ,KAAK,QACDA,EAAMoJ,UAAW3J,MAAOkD,EAAkBuB,YAAY7I,KAAKoE,MAAOpE,KAAK4G,YACvE,MACJ,KAAK,WACD5G,KAAKuL,YAAY5G,EACjB,MACJ,KAAK,eACDA,EAAMoJ,UAAWf,QAAUP,QAASzM,KAAKgM,eAAiBhM,KAAK0L,gBAC/DoB,EAAanI,EAAMoJ,SAAS,cAC5BpJ,EAAMoJ,UAAWjB,YAAc9D,SAAU8D,EAAW9D,SAAUyD,QAASzM,KAAK4L,mBAAqB5L,KAAK0L,aAAc5I,KAAMwJ,KAC1HS,EAAapI,EAAMoJ,SAAS,cAC5BpJ,EAAMoJ,UAAWhB,YAAc/D,SAAU+D,EAAW/D,SAAUyD,QAASzM,KAAK8L,mBAAqB9L,KAAK0L,aAAc5I,KAAMyJ,IAC1H,MACJ,KAAK,gBACD5H,EAAMoJ,UAAWf,QAAUP,QAASzM,KAAKgM,eAAiBhM,KAAK0L,eAC/D,MACJ,KAAK,oBACDoB,EAAanI,EAAMoJ,SAAS,cAC5BpJ,EAAMoJ,UAAWjB,YAAc9D,SAAU8D,EAAW9D,SAAUyD,QAASzM,KAAK4L,mBAAqB5L,KAAK0L,aAAc5I,KAAMwJ,IAC1H,MACJ,KAAK,oBACDS,EAAapI,EAAMoJ,SAAS,cAC5BpJ,EAAMoJ,UAAWhB,YAAc/D,SAAU+D,EAAW/D,SAAUyD,QAASzM,KAAK8L,mBAAqB9L,KAAK0L,aAAc5I,KAAMyJ,IAC1H,MACJ,KAAK,qBACD,GAAgC,SAA5BvM,KAAK0K,mBACL/F,EAAMoJ,UAAWf,QAAUP,QAASzM,KAAKgM,eAAiBhM,KAAK0L,gBAC/DoB,EAAanI,EAAMoJ,SAAS,cAC5BpJ,EAAMoJ,UAAWjB,YAAc9D,SAAU8D,EAAW9D,SAAUyD,QAASzM,KAAK4L,mBAAqB5L,KAAK0L,aAAc5I,KAAMwJ,KAC1HS,EAAapI,EAAMoJ,SAAS,cAC5BpJ,EAAMoJ,UAAWhB,YAAc/D,SAAU+D,EAAW/D,SAAUyD,QAASzM,KAAK8L,mBAAqB9L,KAAK0L,aAAc5I,KAAMyJ,KAC1H5H,EAAMoJ,UAAWpD,SAAU,YAC3BhG,EAAMoJ,UAAWnD,cAAc,QAC5B,CACH,GAAI5B,GAAWhJ,KAAK2G,UACpBhC,GAAMoJ,UAAWf,QAAUhE,SAAUA,EAAUyD,QAASzM,KAAKgM,eAAiBhM,KAAK0L,aAAc0B,OAAQ9C,KACzGwC,EAAanI,EAAMoJ,SAAS,cAC5BpJ,EAAMoJ,UAAWjB,YAAc9D,SAAUA,EAAUyD,QAASzM,KAAK4L,mBAAqB5L,KAAK0L,aAAc5I,KAAMwJ,EAAiBc,OAAQ9C,KACxIyC,EAAapI,EAAMoJ,SAAS,cAC5BpJ,EAAMoJ,UAAWhB,YAAc/D,SAAUA,EAAUyD,QAASzM,KAAK8L,mBAAqB9L,KAAK0L,aAAc5I,KAAMyJ,EAAiBa,OAAQf,KACxI1H,EAAMoJ,UAAWpD,SAAU,eAC3BhG,EAAMoJ,UAAWnD,cAAc,IAGnC,KACJ,KAAK,SACL,IAAK,oBACL,IAAK,kBACDjG,EAAMoJ,UACFf,QACI/J,SAAU7F,EAAE4C,MAAMZ,IAAI,aACtB8D,WAAY9F,EAAE4C,MAAMZ,IAAI,eACxBgE,UAAWhG,EAAE4C,MAAMZ,IAAI,cACvB+D,WAAY/F,EAAE4C,MAAMZ,IAAI,eACxBqN,QAASzM,KAAKgM,eAAiBhM,KAAK0L,aACpC6B,gBACI5E,eAAgC,mBAAhB3I,KAAK0H,OAA8B,UAAY,cAC/DkB,MAAO5I,KAAKkK,qBAAqBlK,KAAK0H,QACtCwB,OAAQlJ,KAAKoJ,kBAAoB,EAAIpJ,KAAKoJ,kBAAoB5I,OAC9D2I,cAAenJ,KAAKiJ,gBAAkB,EAAIjJ,KAAKiJ,gBAAkBzI,aAUzF9C,EAAMoE,kBAAkBpE,EAAO,WAAY,gBAC7CzB,oBAAoBC,OAAOC,SAASsR,MAAOxR,oBAAoBC,OAAOC,SAASiO,sBC7OjFnO,oBAAoBC,OAAOC,SAAS6R,YAAc,WAC9C,cAMH,SAAU9Q,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,QACdC,aAAc,EACdC,WAAW,EACXyE,yBAAyB,EACzBC,wBAAwB,IAG5BpH,EAAMuC,YAAYH,GACdI,aAAc,UACdC,aAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,UACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,cACdC,aAAc,iBAIxBlE,oBAAoBC,OAAOC,SAAS6R,YAAa/R,oBAAoBC,OAAOC,SAAS4G,QCnDvF9G,oBAAoBC,OAAOC,SAAS8R,kBAAoB,WACpD,cAMH,SAAU/Q,EAAOC,GACd,YAEA,IAAIC,GAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAM+C,iBAAmB,WACrB,GACIuE,GACAP,EACAE,EAHAjE,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KA2BvD,OAtBIU,MAAc,IACdsE,KACAA,EAAe0H,kBAAoB,GACnC1H,EAAeiC,IAAMjH,KAAK+G,QAC1B/B,EAAe8D,IAAM9I,KAAKgH,QAC1BhC,EAAeyF,YAAczK,KAAKyK,YAClCzF,EAAeZ,MAAQpE,KAAKoE,MAE5BK,EAAe1G,SAASC,cAAc,OACtCyG,EAAapB,MAAMf,MAAQ,OAC3BmC,EAAapB,MAAMd,OAAS,OAE5BvC,KAAKzB,YAAYkG,GAEjBE,EAAQvH,EAAEqH,GACVE,EAAMuJ,eAAelJ,GAGrBL,EAAMmB,SAAS,YACfnB,EAAMkF,KAAK,2BAA2B/D,SAAS,iBAG5CpF,GAGXhD,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,EAE5C,IAAIuE,GAAezE,KAAK0E,kBACpBC,EAAQvH,EAAEqH,EAEd,QAAQvE,GACR,IAAK,UACDyE,EAAMuJ,gBAAiBjH,IAAKjH,KAAK+G,SACjC,MACJ,KAAK,UACDpC,EAAMuJ,gBAAiBpF,IAAK9I,KAAKgH,SACjC,MACJ,KAAK,cACDrC,EAAMuJ,gBAAiBzD,YAAazK,KAAKyK,aACzC,MACJ,KAAK,QACD9F,EAAMuJ,gBAAiB9J,MAAOpE,KAAKoE,UAO3C1G,EAAMoE,kBAAkBpE,EAAO,yBAA0B,4BAC3DzB,oBAAoBC,OAAOC,SAAS8R,kBAAmBhS,oBAAoBC,OAAOC,SAAS6R,aC/E7F/R,oBAAoBC,OAAOC,SAASgS,mBAAqB,WACrD,cAMH,SAAUjR,EAAOC,GACd,YAEA,IAAIC,GAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAM0Q,YAAc,WAChB,GAAI5C,IACA6C,OACIC,MAAM,EACNC,UAAW,GAEfC,QAAQ,EACRC,QACIC,WAAY,EACZC,YACIC,UAAW,MAGnBC,YACIP,MAAM,GAEVQ,WACAC,WACAC,MACIC,aAAa,EACb/C,QAAS,MAEbgD,KACID,aAAa,GAEjBE,WACIhE,KAAM,MAId,OAAOK,IAGX9N,EAAM0R,eAAiB,WACnB,GAAIC,GACAC,EAAyBtP,KAAKoO,aAclC,KAb4B,KAAxBpO,KAAKuP,iBAC+B/O,SAAhC8O,EAAuBE,OACvBF,EAAuBE,SAG3BF,EAAuBE,KAAKC,OAASC,KAAKC,MAAM3P,KAAKuP,iBAIzDD,EAAuBR,SACvBQ,EAAuBP,SACvBO,EAAuBM,WAElBP,EAAI,EAAGA,EAAIrP,KAAK6P,KAAKC,OAAQT,IAAK,CACnC,GAAIU,GAAO/P,KAAK6P,KAAKR,GACjBW,EAAID,EAAKE,eAETD,MACIA,EAAE9C,UAA6B,SAAf8C,EAAE9C,UAAwC,UAAf8C,EAAE9C,UAC7CoC,EAAuBP,MAAMmB,KAAKF,IAGlCA,EAAE9C,UAA6B,QAAf8C,EAAE9C,UAAuC,WAAf8C,EAAE9C,UAC5CoC,EAAuBR,MAAMoB,KAAKF,IAK9C,IAAKX,EAAI,EAAGA,EAAIrP,KAAK4P,QAAQE,OAAQT,IAAK,CACtC,GAAIzP,GAASI,KAAK4P,QAAQP,GACtBc,EAAIvQ,EAAOqQ,eACfX,GAAuBM,QAAQM,KAAKC,GASxC,MANInQ,MAAKoQ,aACLd,EAAuBN,KAAKC,YAAcjP,KAAKoQ,WAAWC,wBAC1Df,EAAuBJ,IAAID,YAAcjP,KAAKoQ,WAAWE,YACzDhB,EAAuBH,UAAUhE,KAAgC,SAAzBnL,KAAKoQ,WAAWjF,KAAkB,QAAU,MAGjFmE,GAGX5R,EAAM6S,kBAAoB,WACtB,GAAIC,EACAxQ,MAAKyQ,MAAMX,OAAS,IACpBU,EAAaxQ,KAAKyQ,MAAM,GAAGR,gBAG/B,IAAIxL,GAAezE,KAAK0Q,QACxB,IAAqBlQ,SAAjBiE,EAAJ,CAIA,GAAIkM,GAAqB3Q,KAAK4Q,WAAW5Q,KAAKyQ,MAAOzQ,KAAK6Q,oBAAoBnB,KAAKC,MAAM3P,KAAKoE,SAC1FkL,EAAyBtP,KAAKoP,gBAClCpP,MAAK8Q,SAASH,EAAoBrB,EAElC,KACItP,KAAK+Q,MAAQ3T,EAAE4T,KAAKvM,EAAckM,EAAoBrB,GACxD,MAAOrL,GACL1G,EAAW0T,IAAIhN,EAAM/E,SAGzB9B,EAAE4C,MAAMkR,KAAK,QAASlR,KAAK+Q,QAG/B,IAAII,GAAa,SAAU/M,GACvB,OAASgN,MAAMC,QAAQjN,IAA4B,gBAAVA,IAAsBgN,MAAMC,QAAQjN,EAAMkN,GAGvF5T,GAAM6T,cAAgB,SAAUL,GAC5B,MAAIC,GAAWD,GACJ,mBAGNE,MAAMC,QAAQH,GAIC,IAAhBA,EAAKpB,OACE,QAGY,gBAAZoB,GAAK,GACL,iBAGPE,MAAMC,QAAQH,EAAK,IACZ,iBAGPA,EAAK,YAAc5U,QACZ,iBAGJ,UAnBI,UAsBf,IAAIkV,GAAuB,SAAUC,GACjC,OAAQA,EAASC,uBAGrBhU,GAAMmT,oBAAsB,SAAUK,GAClC,GACIS,GAEAtC,EAAGuC,EAAGC,EAHNC,IAKJ,QAAQ9R,KAAKuR,cAAcL,IACvB,IAAK,mBACD,GAAIO,GAAW,GAAIxV,qBAAoBC,OAAO6V,iBAAiBb,EAC/D,OAAOM,GAAqBC,EAChC,KAAK,iBACD,IAAKpC,EAAI,EAAGA,EAAI6B,EAAKpB,OAAQT,IACzBwC,KACAA,EAAiB3B,KAAKb,GACtBwC,EAAiB3B,KAAKgB,EAAK7B,IAC3ByC,EAAgB5B,KAAK2B,EAGzB,MACJ,KAAK,iBACD,IAAKxC,EAAI,EAAGA,EAAI6B,EAAKpB,OAAQT,IACzBwC,KACAA,EAAiB3B,KAAKb,GACtBwC,EAAiB3B,KAAKgB,EAAK7B,GAAG2C,MAC9BF,EAAgB5B,KAAK2B,EAGzB,MACJ,KAAK,iBAED,IADAF,KACKC,EAAI,EAAGA,EAAIV,EAAKpB,OAAQ8B,IAAK,CAE9B,IADAE,KACKzC,EAAI,EAAGA,EAAI6B,EAAKU,GAAG9B,OAAQT,IAC5BwC,KACAA,EAAiB3B,KAAKb,GACtBwC,EAAiB3B,KAAKgB,EAAKU,GAAGvC,IAC9ByC,EAAgB5B,KAAK2B,EAGzBF,GAAkBzB,KAAK4B,IAQnC,MAAOH,KAAsBG,IAGjCpU,EAAMuU,WAAa,WACf,GAAIlB,GAAQ/Q,KAAK+Q,KAEjBA,GAAMmB,QAAQlS,KAAK4Q,WAAW5Q,KAAKyQ,MAAOzQ,KAAK6Q,oBAAoBnB,KAAKC,MAAM3P,KAAKoE,UACnF2M,EAAMoB,YACNpB,EAAMqB,QAGV1U,EAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,QACdC,aAAc,OAElBzC,EAAMuC,YAAYH,GACdI,aAAc,iBACdC,aAAc,MAItBzC,EAAM2C,gBAAkB,WACpBlD,EAAOQ,UAAU0C,gBAAgBN,KAAKC,MAGtCA,KAAKyQ,SACLzQ,KAAK6P,QACL7P,KAAK4P,WACL5P,KAAKqS,WAAa,KAClBrS,KAAKsS,aAAe,KACpBtS,KAAKuS,YAAc,KACnBvS,KAAKoQ,WAAa,KAClBpQ,KAAK0Q,SAAWlQ,OAChBR,KAAKqL,QAAU,MAMnB3N,EAAM8U,qBAAuB,WACzB,GAGInD,GAHAoD,KACAC,EAAezW,oBAAoBC,OAAOC,SAASwW,cAAchV,UAAUiV,YAAYC,QAAQC,cAC/FC,EAAe9W,oBAAoBC,OAAOC,SAAS6W,cAAcrV,UAAUiV,YAAYC,QAAQC,aAGnG,KAAKzD,EAAI,EAAGA,EAAIrP,KAAKiT,SAASnD,OAAQT,IAC9BrP,KAAKiT,SAAS5D,GAAGwD,UAAYE,EAC7BN,EAAavC,KAAKlQ,KAAKiT,SAAS5D,IACzBrP,KAAKiT,SAAS5D,GAAGwD,UAAYH,GACpCD,EAAavC,KAAKlQ,KAAKiT,SAAS5D,GAIxC,OAAOoD,IAGX/U,EAAMmF,YAAc,SAAUC,GAC1B3F,EAAOQ,UAAUkF,YAAY9C,KAAKC,KAAM8C,EACxC,IAAIkO,GAAOhR,KAAK+Q,KACHvQ,UAATwQ,IACAA,EAAKkC,SACLlC,EAAKmB,YACLnB,EAAKoB,SAIb1U,EAAMyV,YAAc,WAChB,GAAIxS,GAAOX,KACPyE,EAAe1G,SAASC,cAAc,MAC1CyG,GAAapB,MAAMf,MAAQ,OAC3BmC,EAAapB,MAAMd,OAAS,OAC5BvC,KAAKzB,YAAYkG,EACjB,IAAI4G,GAAUtN,SAASC,cAAc,MACrCqN,GAAQ5H,GAAK,UAAYlG,EAAW6V,WACpC/H,EAAQgI,UAAY,mBACpBrT,KAAKzB,YAAY8M,GACjBrL,KAAKqL,QAAUA,EAEfrL,KAAK0Q,SAAWjM,CAEhB,IAAIkM,GAAqB3Q,KAAK4Q,WAAW5Q,KAAKyQ,MAAOzQ,KAAK6Q,oBAAoBnB,KAAKC,MAAM3P,KAAKoE,SAC1FkL,EAAyBtP,KAAKoP,gBAClCpP,MAAK8Q,SAASH,EAAoBrB,EAElC,KACItP,KAAK+Q,MAAQ3T,EAAE4T,KAAKvM,EAAckM,EAAoBrB,GACxD,MAAO3M,GACLpF,EAAW0T,IAAI,+FAGnB7T,EAAEqH,GAAc6O,KAAK,YAAa,SAAU7J,EAAO8J,EAAKC,GACpD,GAAIA,EAAM,CACN,GAAIC,GAAM,GACNC,EAAc/S,EAAK8P,MAAM+C,EAAKG,aAAaD,WAE3CD,GADgBjT,SAAhBkT,EACM/S,EAAK+G,OAAOgM,EAAaH,EAAIK,EAAGL,EAAIM,GAEpClT,EAAK+G,OAAO,WAAY6L,EAAIK,EAAGL,EAAIM,GAG7CzW,EAAEiO,GAASyI,KAAKL,GACSrU,KAAM2U,IAAKP,EAAKQ,MAAQrT,EAAKsT,UAAY,EAAGC,KAAMV,EAAKW,MAAQxT,EAAKyT,WAAa,IACjFC,OAAO,SAEhCjX,GAAEiO,GAASiJ,UAKvB5W,EAAM+C,iBAAmB,WACrB,GAA8D8T,GAA1D7T,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KAQvD,OANIU,MAAc,IACd6T,EAAqBvU,KAAKwS,uBAC1BxS,KAAKwU,sBAAsBD,GAC3BvU,KAAKmT,eAGFzS,GAGXhD,EAAM8W,sBAAwB,SAAUC,GACpC,GAAI9T,GAAOX,IACXW,GAAKM,iBAAiB,6BAA8B,SAAUkD,GAC1D,GAAIkL,EAEJ,IAAIlL,EAAIX,SAAW7C,EAAM,CAErB,IADAA,EAAK8P,MAAMP,KAAK/L,EAAIvC,OAAOC,SACtBwN,EAAI,EAAGA,EAAIoF,EAAc3E,OAAQT,IAClC,GAAIoF,EAAcpF,KAAOlL,EAAIvC,OAAOC,QAAS,CACzC4S,EAAcC,OAAOrF,EAAG,EACxB,OAIR1O,EAAK4P,oBACL5P,EAAKgU,iBAAiB,6BAA8BxQ,EAAIvC,OAAOC,YAIvElB,EAAKM,iBAAiB,6BAA8B,SAAUkD,GAC1D,GAAIkL,EAEJ,IAAIlL,EAAIX,SAAW7C,EAAM,CACrB,IAAK0O,EAAI,EAAGA,EAAI1O,EAAK8P,MAAMX,OAAQT,IAC/B,GAAI1O,EAAK8P,MAAMpB,KAAOlL,EAAIvC,OAAOC,QAAS,CACtClB,EAAK8P,MAAMiE,OAAOrF,EAAG,EACrB,OAIR1O,EAAK4P,oBACL5P,EAAKgU,iBAAiB,6BAA8BxQ,EAAIvC,OAAOC,YAIvElB,EAAKM,iBAAiB,6BAA8B,SAAUkD,GAC1D,GAAIkL,EAEJ,IAAIlL,EAAIX,SAAW7C,EAAM,CAUrB,IATyB,gBAAdA,GAAKkP,OACZlP,EAAKkP,SAGiB,gBAAflP,GAAK8P,QACZ9P,EAAK8P,UAGT9P,EAAKkP,KAAKK,KAAK/L,EAAIvC,OAAOC,SACrBwN,EAAI,EAAGA,EAAIoF,EAAc3E,OAAQT,IAClC,GAAIoF,EAAcpF,KAAOlL,EAAIvC,OAAOC,QAAS,CACzC4S,EAAcC,OAAOrF,EAAG,EACxB,OAIR1O,EAAK4P,oBACL5P,EAAKiU,kBAAkB,6BAA8BzQ,EAAIvC,OAAOC,YAIxElB,EAAKM,iBAAiB,6BAA8B,SAAUkD,GAC1D,GAAIkL,EAEJ,IAAIlL,EAAIX,SAAW7C,EAAM,CACrB,IAAK0O,EAAI,EAAGA,EAAI1O,EAAKkP,KAAKC,OAAQT,IAC9B,GAAI1O,EAAKkP,KAAKR,KAAOlL,EAAIvC,OAAOC,QAAS,CACrClB,EAAKkP,KAAK6E,OAAOrF,EAAG,EACpB,OAIR1O,EAAK4P,oBACL5P,EAAKiU,kBAAkB,6BAA8BzQ,EAAIvC,OAAOC,YAIxElB,EAAKM,iBAAiB,qBAAsB,SAAUkD,GAClD,GAAIkL,EAEJ,IAAIlL,EAAIX,SAAW7C,EAAM,CAMrB,IAL4B,gBAAjBA,GAAKiP,UACZjP,EAAKiP,YAGTjP,EAAKiP,QAAQM,KAAK/L,EAAIvC,OAAOC,SACxBwN,EAAI,EAAGA,EAAIoF,EAAc3E,OAAQT,IAClC,GAAIoF,EAAcpF,KAAOlL,EAAIvC,OAAOC,QAAS,CACzC4S,EAAcC,OAAOrF,EAAG,EACxB,OAIR1O,EAAK4P,oBACL5P,EAAKkU,mBAAmB,qBAAsB1Q,EAAIvC,OAAOC,YAIjElB,EAAKM,iBAAiB,qBAAsB,SAAUkD,GAClD,GAAIkL,EAEJ,IAAIlL,EAAIX,SAAW7C,EAAM,CACrB,IAAK0O,EAAI,EAAGA,EAAI1O,EAAKiP,QAAQE,OAAQT,IACjC,GAAI1O,EAAKiP,QAAQP,KAAOlL,EAAIvC,OAAOC,QAAS,CACxClB,EAAKiP,QAAQ8E,OAAOrF,EAAG,EACvB,OAIR1O,EAAK4P,oBACL5P,EAAKkU,mBAAmB,qBAAsB1Q,EAAIvC,OAAOC,YAIjElB,EAAKM,iBAAiB,kBAAmB,SAAUkD,GAC/CxD,EAAK4P,oBACL5P,EAAKiU,kBAAkB,kBAAmBzQ,EAAIvC,OAAOC,WAGzDlB,EAAKM,iBAAiB,4BAA6B,SAAUkD,GACzDxD,EAAK4P,oBACL5P,EAAKgU,iBAAiB,4BAA6BxQ,EAAIvC,OAAOC,WAGlElB,EAAKM,iBAAiB,oBAAqB,SAAUkD,GACjDxD,EAAK4P,oBACL5P,EAAKkU,mBAAmB,oBAAqB1Q,EAAIvC,OAAOC,WAG5DlB,EAAKM,iBAAiB,sCAAuC,WACzDN,EAAK4P,sBAGT5P,EAAKM,iBAAiB,sCAAuC,WACzDN,EAAK4P,sBAGT5P,EAAKM,iBAAiB,yBAA0B,WAC5CN,EAAK4P,uBAIb7S,EAAMoX,mBAAqB,SAAUzC,GACjC,GAAIhD,EAEJ,IADArP,KAAKqS,WAAaA,EACdrS,KAAKyQ,MAAMX,OAAS,EACpB,IAAKT,EAAI,EAAGA,EAAIrP,KAAKyQ,MAAMX,OAAQT,IAC/BrP,KAAK2U,iBAAiB,6BAA8B3U,KAAKyQ,MAAMpB,KAK3E3R,EAAMiX,iBAAmB,SAAUI,EAAMC,GACrC,GAAIC,EAEoB,QAApBjV,KAAKqS,aACL4C,GACIvT,SAAS,EACTC,YAAY,EACZC,QACIC,QAAS7B,KACTgV,eAAgBA,IAIxBhV,KAAKqS,WAAW7Q,cAAc,GAAIC,aAAYsT,EAAME,MAI5DvX,EAAMwX,qBAAuB,SAAU5C,GACnC,GAAIjD,EAEJ,IADArP,KAAKsS,aAAeA,EAChBtS,KAAK4P,QAAQE,OAAS,EACtB,IAAKT,EAAI,EAAGA,EAAIrP,KAAK4P,QAAQE,OAAQT,IACjCrP,KAAK6U,mBAAmB,qBAAsB7U,KAAK4P,QAAQP,KAKvE3R,EAAMmX,mBAAqB,SAAUE,EAAMC,GACvC,GAAIC,EAEsB,QAAtBjV,KAAKsS,eACL2C,GACIvT,SAAS,EACTC,YAAY,EACZC,QACIC,QAAS7B,KACTgV,eAAgBA,IAIxBhV,KAAKsS,aAAa9Q,cAAc,GAAIC,aAAYsT,EAAME,MAI9DvX,EAAMyX,oBAAsB,SAAU5C,GAClC,GAAIlD,EAEJ,IADArP,KAAKuS,YAAcA,EACfvS,KAAK6P,KAAKC,OAAS,EACnB,IAAKT,EAAI,EAAGA,EAAIrP,KAAK6P,KAAKC,OAAQT,IAC9BrP,KAAK4U,kBAAkB,6BAA8B5U,KAAK6P,KAAKR,KAK3E3R,EAAMkX,kBAAoB,SAAUG,EAAMC,GACtC,GAAIC,EAEqB,QAArBjV,KAAKuS,cACL0C,GACIvT,SAAS,EACTC,YAAY,EACZC,QACIC,QAAS7B,KACTgV,eAAgBA,IAIxBhV,KAAKuS,YAAY/Q,cAAc,GAAIC,aAAYsT,EAAME,MAI7DvX,EAAM0X,mBAAqB,SAAUhF,GACjC,GAAIzP,GAAOX,IACXA,MAAKoQ,WAAaA,EAElBpQ,KAAKuQ,oBAELnT,EAAE4C,KAAK0Q,UAAUlH,GAAG,eAAgB,SAAUC,EAAO4L,GACjD1U,EAAK2U,iBAAiB,mCAAqCD,OAAQA,MAGvEjY,EAAE4C,KAAK0Q,UAAUlH,GAAG,UAAW,SAAUC,EAAO4L,GAC5C1U,EAAK2U,iBAAiB,kCAAoCD,OAAQA,MAGtEjY,EAAE4C,KAAK0Q,UAAUlH,GAAG,WAAY,SAAUC,EAAO4L,GAC7C1U,EAAK2U,iBAAiB,kCAAoCD,OAAQA,OAK1E3X,EAAM4X,iBAAmB,SAAUP,EAAMC,GACrC,GAAIC,EAEoB,QAApBjV,KAAKoQ,aACL6E,GACIvT,SAAS,EACTC,YAAY,EACZC,QACIC,QAAS7B,KACTgV,eAAgBA,IAIxBhV,KAAKoQ,WAAW5O,cAAc,GAAIC,aAAYsT,EAAME,MAI5DvX,EAAM2D,gBAAkB,SAAUnB,GAG9B,OAFA/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,GAEpCA,GACJ,IAAK,QACDF,KAAKiS,YACL,MACJ,KAAK,iBACDjS,KAAKuQ,sBAKjB7S,EAAMgK,OAAS,WACX,GAAIiC,GAAO4L,UACP9B,EAAM9J,EAAK,EACf,OAAO8J,GAAI+B,QAAQ,WAAY,SAAUC,EAAOrI,GAC5C,GAAIsI,GAAQ9S,SAASwK,GAAU,EAC3BoG,EAAO7J,EAAK+L,EAEhB,IAAoB,mBAATlC,GAAsB,CAC7B,GAAImC,GAAOnC,EAAKoC,QAAQ,GAAG9F,OACvB+F,EAAOrC,EAAKsC,cAAc,GAAGhG,MACjC,OAAW+F,GAAPF,EACOnC,EAAKoC,QAAQ,GAEbpC,EAAKsC,cAAc,GAG9B,MAAOL,MAKnB/X,EAAMoT,SAAW,SAAUiF,EAAWC,GAClC,GAAI3G,GACA4G,GAAc,CAElB,KAAK5G,EAAI,EAAGA,EAAI0G,EAAUjG,OAAQT,IAC9B,GAAI0G,EAAU1G,GAAG6G,UAAW,CACxBD,GAAc,CACd,OAIJA,KAAgB,GACWzV,SAAvBwV,EAAcxG,OACdwG,EAAcxG,SAGlBwG,EAAcxG,KAAK0G,UAAYD,GAEV,OAAjBjW,KAAKqL,SACLjO,EAAE4C,KAAKqL,SAASiJ,SAI9BrY,oBAAoBC,OAAOC,SAASgS,mBAAoBlS,oBAAoBC,OAAOC,SAAS4G,QCzoB9F9G,oBAAoBC,OAAOC,SAASga,eAAiB,WACjD,cAMH,SAAUjZ,EAAOC,GACd,YAEA,IAAIC,GAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMkT,WAAa,SAAUH,EAAOS,GAChC,GAAIV,MAEA4F,KAEK,EAAG,IACH,EAAG,IACH,EAAG,IACH,EAAG,MAGH,EAAG,IACH,EAAG,IACH,EAAG,IACH,EAAG,MAGH,EAAG,IACH,EAAG,IACH,EAAG,IACH,EAAG,MAGH,EAAG,IACH,EAAG,IACH,EAAG,IACH,EAAG,MAGH,EAAG,IACH,EAAG,KACH,EAAG,IACH,EAAG,KASZ,OALA3F,GAAM4F,QAAQ,SAAUrF,EAAM3B,GAC1BmB,EAAWnB,GAAK2B,EAAKf,gBACrBO,EAAWnB,GAAG6B,KAAOA,EAAKpB,OAAS,EAAIoB,EAAK7B,GAAK+G,EAAgC/G,SAG9EmB,GAGX9S,EAAM6S,kBAAoB,WACtB,GAAI9L,GAAezE,KAAK0Q,QACxB,IAAqBlQ,SAAjBiE,EAAJ,CAIA,GAAIkM,GAAqB3Q,KAAK4Q,WAAW5Q,KAAKyQ,MAAOzQ,KAAK6Q,oBAAoBnB,KAAKC,MAAM3P,KAAKoE,SAC1FkL,EAAyBtP,KAAKoP,gBAClCpP,MAAK8Q,SAASH,EAAoBrB,EAClC,KACItP,KAAK+Q,MAAQ3T,EAAE4T,KAAKvM,EAAckM,EAAoBrB,EACtD,IAAI3O,GAAOX,IACXA,MAAK+Q,MAAMuF,aAAaD,QAAQ,SAAUzW,EAAQyP,GAE9CzP,EAAO2W,OAAS5V,EAAKiP,QAAQP,GAC7B1O,EAAKiP,QAAQP,GAAGmH,UAAU5W,KAEhC,MAAOqE,IAET7G,EAAE4C,MAAMkR,KAAK,QAASlR,KAAK+Q,SAG/BrT,EAAM+Y,gBAAkB,SAAUhN,EAAOiN,GACrCA,EAAWL,QAAQ,SAAUzW,EAAQyP,GACjCzP,EAAO4D,OAAO+S,OAAOI,oBAAoBD,EAAWrH,OAI5D3R,EAAMuU,WAAa,WACf,GAAIlB,GAAQ/Q,KAAK+Q,KAEjBA,GAAMmB,QAAQlS,KAAK4Q,WAAW5Q,KAAKyQ,MAAOzQ,KAAK6Q,oBAAoBnB,KAAKC,MAAM3P,KAAKoE,UACnF2M,EAAMoB,YACNpB,EAAMqB,QAGV1U,EAAMyV,YAAc,WAChBhW,EAAOQ,UAAUwV,YAAYpT,KAAKC,KAClC,KACIA,KAAK+Q,MAAM6F,iBAAiBtD,KAAK,gBAAiBtT,KAAKyW,gBACvD,IAAI9V,GAAOX,IACXA,MAAK+Q,MAAMuF,aAAaD,QAAQ,SAAUzW,EAAQyP,GAE9CzP,EAAO2W,OAAS5V,EAAKiP,QAAQP,GAC7B1O,EAAKiP,QAAQP,GAAGmH,UAAU5W,KAEhC,MAAO+C,MAGbjF,EAAMoE,kBAAkBpE,EAAO,qBAAsB,yBACvDzB,oBAAoBC,OAAOC,SAASga,eAAgBla,oBAAoBC,OAAOC,SAASgS,oBCrH1FlS,oBAAoBC,OAAOC,SAAS0a,MAAQ,WACxC,cAMH,SAAU3Z,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMoZ,iBAAmB,SAAUC,GAC/B/W,KAAK+W,cAAgBA,GAGzBrZ,EAAMsZ,iBAAmB,WACrB,MAAOhX,MAAK+W,eAGhBrZ,EAAM2C,gBAAkB,WACpBlD,EAAOQ,UAAU0C,gBAAgBN,KAAKC,MAGtCA,KAAK+W,cAAgB,MAMzBrZ,EAAM0Q,YAAc,WAChB,GAAI5C,GAAWrO,EAAOQ,UAAUyQ,YAAYrO,KAAKC,KAIjD,OAFAwL,GAASiD,OAAOsI,cAAgB/W,KAAK+W,cAE9BvL,GAGX9N,EAAMkT,WAAa,SAAUH,EAAOS,GAChC,GAAIV,KAYJ,OAVAC,GAAM4F,QAAQ,SAAUrF,GACpBR,EAAWN,KAAKc,EAAKf,mBAIzBQ,EAAM4F,QAAQ,SAAUrF,EAAM3B,GAC1BmB,EAAWnB,GAAK2B,EAAKf,gBACrBO,EAAWnB,GAAG6B,KAAOA,EAAKpB,OAAS,EAAIoB,EAAK7B,QAGzCmB,GAGX9S,EAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,aACdC,aAAc,QAItBzC,EAAMoE,kBAAkBpE,EAAO,WAAY,gBAC7CzB,oBAAoBC,OAAOC,SAAS0a,MAAO5a,oBAAoBC,OAAOC,SAASgS,oBCxEjFlS,oBAAoBC,OAAOC,SAAS6W,cAAgB,WAChD,cAMH,SAAU9V,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,UAQdsZ,EAAa,SAAUvP,GACvB,MAAqC,KAA7BA,EAAOwP,QAAQ,WAA0D,IAArCxP,EAAOwP,QAAQ,mBAG3DC,EAAmB,SAAUzP,GAC7B,MAAiC,KAA7BA,EAAOwP,QAAQ,UACR,KAG8B,IAArCxP,EAAOwP,QAAQ,kBACR,KAGJ,KAIXxZ,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,OACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,QACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,eACdC,aAAc,SAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,YACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,UACdC,aAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,UACdC,aAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,YACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,WACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,SACdC,aAAc,MAItBzC,EAAM2C,gBAAkB,WACpBlD,EAAOQ,UAAU0C,gBAAgBN,KAAKC,MAMtCA,KAAKoX,aAAe5W,QAGxB9C,EAAM2Z,uBAAyB,SAAUtC,GACrC,GAAIE,EAEsBzU,UAAtBR,KAAKoX,eACLnC,GACIvT,SAAS,EACTC,YAAY,EACZC,QACIC,QAAS7B,OAIjBA,KAAKoX,aAAa5V,cAAc,GAAIC,aAAYsT,EAAME,MAI9DvX,EAAM+C,iBAAmB,WACrB,GAAIC,GAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KAUvD,OARIA,MAAKsX,wBAAyBrb,qBAAoBC,OAAOC,SAASgS,oBAClEnO,KAAKoX,aAAepX,KAAKsX,cACzBtX,KAAKqX,uBAAuB,gCAE5B9Z,EAAW0G,MAAM,qDAAsDjE,KAAK0D,aAC5E1D,KAAKoX,aAAe5W,QAGjBE,GAGXhD,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,GAE5CF,KAAKqX,uBAAuB,oBAGhC3Z,EAAM4D,iBAAmB,WACrBnE,EAAOQ,UAAU2D,iBAAiBvB,KAAKC,MAEvCA,KAAKqX,uBAAuB,8BAC5BrX,KAAKoX,aAAe5W,QAIxB9C,EAAMuS,cAAgB,WAClB,OACIsH,UAAavX,KAAKwX,UAAYxX,KAAKyX,MAAQjX,OAC3C8N,KAAQtO,KAAKsO,KACbpB,SAAYlN,KAAK0X,aACjB5O,IAAO9I,KAAK2X,UAAYnX,OAAYR,KAAKgH,QACzCC,IAAOjH,KAAK2X,UAAYnX,OAAYR,KAAK+G,QACzCoE,KAAQnL,KAAK4X,SAAW,MAAQ,SAChC/V,QAAW7B,KACX0H,OAAUuP,EAAWjX,KAAK0H,QAAU,OAAS,KAC7CmQ,WAAcV,EAAiBnX,KAAK0H,UAK5ChK,EAAMoa,YAAc,WAChB,GAAI/G,GAAQ/Q,KAAKoX,aAAarG,MAC1BlB,EAAOkB,EAAMgH,UACbpX,EAAOX,KAEPgY,EAAO1b,OAAO2b,KAAKpI,GAAMqI,OAAO,SAAUnI,GAC1C,MAAOF,GAAKE,GAAMoI,QAAQtW,UAAYlB,IACvC,EAEH,OAAOkP,GAAKmI,IAIhBta,EAAM0a,UAAY,WACd,GAAIrI,GAAO/P,KAAK8X,aAEhB9X,MAAKgH,QAAkC,gBAAjB+I,GAAKsI,QAAuBtI,EAAKsI,QAAUrY,KAAKgH,QACtEhH,KAAK+G,QAAkC,gBAAjBgJ,GAAKuI,QAAuBvI,EAAKuI,QAAUtY,KAAK+G,SAI1ErJ,EAAM6a,aAAe,WACjB,GAAIxI,GAAO/P,KAAK8X,aAGgB,iBAArB/H,GAAKoI,QAAQrP,KACpB9I,KAAKwY,YAAa,EAClBxY,KAAKyY,SAAW1I,EAAKoI,QAAQrP,IAC7B9I,KAAK0Y,SAAW3I,EAAKoI,QAAQlR,KAE7BjH,KAAKwY,YAAa,GAI1B9a,EAAMoE,kBAAkBpE,EAAO,oBAAqB,wBACtDzB,oBAAoBC,OAAOC,SAAS6W,cAAe/W,oBAAoBC,OAAOC,SAAS4G,QC/LzF9G,oBAAoBC,OAAOC,SAASwW,cAAgB,WAChD,cAMH,SAAUzV,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,QACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,QACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,cACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,cACdC,aAAc,MAItBzC,EAAM2C,gBAAkB,WACpBlD,EAAOQ,UAAU0C,gBAAgBN,KAAKC,MAMtCA,KAAKoX,aAAe5W,QAGxB9C,EAAM2Z,uBAAyB,SAAUtC,EAAMC,GAC3C,GAAIC,EAEsBzU,UAAtBR,KAAKoX,eACLnC,GACIvT,SAAS,EACTC,YAAY,EACZC,QACIC,QAAS7B,KACTgV,eAAgBA,IAIxBhV,KAAKoX,aAAa5V,cAAc,GAAIC,aAAYsT,EAAME,MAI9DvX,EAAM+C,iBAAmB,WACrB,GAAIC,GAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KAWvD,OATIA,MAAKsX,wBAAyBrb,qBAAoBC,OAAOC,SAASga,gBAAkBnW,KAAKsX,wBAAyBrb,qBAAoBC,OAAOC,SAAS0a,OACtJ7W,KAAKoX,aAAepX,KAAKsX,cACzBtX,KAAK2Y,uBACL3Y,KAAKqX,uBAAuB,gCAE5B9Z,EAAW0G,MAAM,qDAAsDjE,KAAK0D,aAC5E1D,KAAKoX,aAAe5W,QAGjBE,GAGXhD,EAAMib,qBAAuB,WACzB,GAAIhY,GAAOX,IACXW,GAAKM,iBAAiB,sCAAuC,SAAUkD,GAC/DA,EAAIX,SAAW7C,IACfX,KAAK4Y,aAAezU,EAAIvC,OAAOC,QAC/B7B,KAAKqX,uBAAuB,0CAIpC1W,EAAKM,iBAAiB,sCAAuC,SAAUkD,GAC/DA,EAAIX,SAAW7C,IACfX,KAAK4Y,aAAepY,OACpBR,KAAKqX,uBAAuB,0CAIpC1W,EAAKM,iBAAiB,qCAAsC,SAAUkD,GAC9DA,EAAIX,SAAW7C,GACfX,KAAKqX,uBAAuB,4BAA6BlT,EAAIvC,OAAOC,YAKhFnE,EAAM4D,iBAAmB,WACrBnE,EAAOQ,UAAU2D,iBAAiBvB,KAAKC,MAEvCA,KAAKqX,uBAAuB,8BAC5BrX,KAAKoX,aAAe5W,QAGxB9C,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,GAE5CF,KAAKqX,uBAAuB,8BAGhC3Z,EAAMuS,cAAgB,WAClB,GAAIO,KAOJ,OAN0BhQ,UAAtBR,KAAK4Y,eACLpI,EAAaxQ,KAAK4Y,aAAa3I,iBAGnCO,EAAW0F,UAAYlW,KAAK6Y,YAErBrI,GAGX9S,EAAMoE,kBAAkBpE,EAAO,oBAAqB,wBACtDzB,oBAAoBC,OAAOC,SAASwW,cAAe1W,oBAAoBC,OAAOC,SAAS4G,QCxIzF9G,oBAAoBC,OAAOC,SAAS2c,sBAAwB,WACxD,cAMH,SAAU5b,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,YACdC,aAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,YACdC,aAAc,UAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,aACdC,aAAc,YAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,aACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,WACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,UACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,eACdC,aAAc,SAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,YACdC,aAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,aACdC,aAAc,aAItBzC,EAAM2C,gBAAkB,WACpBlD,EAAOQ,UAAU0C,gBAAgBN,KAAKC,MAMtCA,KAAK+Y,YAAcvY,QAGvB9C,EAAMsb,sBAAwB,SAAUjE,GACpC,GAAIE,EAEqBzU,UAArBR,KAAK+Y,cACL9D,GACIvT,SAAS,EACTC,YAAY,EACZC,QACIC,QAAS7B,OAIjBA,KAAK+Y,YAAYvX,cAAc,GAAIC,aAAYsT,EAAME,MAI7DvX,EAAM+C,iBAAmB,WACrB,GAAIC,GAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KAUvD,OARIA,MAAKsX,wBAAyBrb,qBAAoBC,OAAOC,SAASwW,eAClE3S,KAAK+Y,YAAc/Y,KAAKsX,cACxBtX,KAAKgZ,sBAAsB,yCAE3Bzb,EAAW0G,MAAM,6DAA8DjE,KAAK0D,aACpF1D,KAAK+Y,YAAcvY,QAGhBE,GAGXhD,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,GAE5CF,KAAKgZ,sBAAsB,uCAG/Btb,EAAM4D,iBAAmB,WACrBnE,EAAOQ,UAAU2D,iBAAiBvB,KAAKC,MAEvCA,KAAKgZ,sBAAsB,wCAG/Btb,EAAMub,gBAAkB,SAAU5V,GAC9B,OAAQA,GACJ,IAAK,QACD,MACJ,KAAK,MACD,OAAQrD,KAAKuO,UAA4B,EAAjBvO,KAAKuO,UACjC,KAAK,aACD,OAAyB,EAAjBvO,KAAKuO,UAAgC,EAAjBvO,KAAKuO,UACrC,KAAK,UACD,OAAyB,EAAjBvO,KAAKuO,UAAgC,EAAjBvO,KAAKuO,UAAevO,KAAKuO,UAA4B,EAAjBvO,KAAKuO,UACzE,KAAK,YACD,OAAyB,EAAjBvO,KAAKuO,UAAgC,EAAjBvO,KAAKuO,UACrC,SACI,QAIZ,IAAI2K,GAAkB,EAEtBxb,GAAMuS,cAAgB,WAClB,OACItQ,MAAOK,KAAKmZ,YAAcnZ,KAAKoZ,YAAcpZ,KAAKqZ,UAAYrZ,KAAKsZ,QACnEjL,OACIC,KAA0B,KAApBtO,KAAKmZ,YAAuC,KAAlBnZ,KAAKqZ,SACrC9K,UAAWvO,KAAKuO,UAChBgL,KAAwB,KAAlBvZ,KAAKqZ,SAAkBH,GAAkB,EAC/CM,MAAM,EACNC,OAAQzZ,KAAKiZ,gBAAgBjZ,KAAK0Z,YAEtCC,QACIrL,KAA0B,KAApBtO,KAAKoZ,WACXQ,OAAQ5Z,KAAK6Z,UAAY7Z,KAAK6Z,UAAY,EAAI,EAC9CC,OAAQ9Z,KAAK+Z,YAEjBC,MACI1L,KAAuB,KAAjBtO,KAAKsZ,QACXW,SAAU,IACVC,MAAO,SACPV,MAAM,KAKlB9b,EAAMoE,kBAAkBpE,EAAO,6BAA8B,gCAC/DzB,oBAAoBC,OAAOC,SAAS2c,sBAAuB7c,oBAAoBC,OAAOC,SAAS4G,QCzKjG9G,oBAAoBC,OAAOC,SAASge,OAAS,WACzC,cAMH,SAAUjd,EAAOC,GACd,YAEA,IAAIC,GAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,UAGdyc,EAAc,EAMlB1c,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,QACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,cACdC,aAAc,YAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,cACdC,aAAc,YAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,iBACdC,aAAc,SAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,OACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,YACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,YACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,aACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,IACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,IACdC,aAAc,MAItBzC,EAAM2C,gBAAkB,WACpBlD,EAAOQ,UAAU0C,gBAAgBN,KAAKC,MAGtCA,KAAKJ,OAAS,KAGdI,KAAKoX,aAAe5W,QAGxB9C,EAAM2Z,uBAAyB,SAAUtC,GACrC,GAAIE,EAEsBzU,UAAtBR,KAAKoX,eACLnC,GACIvT,SAAS,EACTC,YAAY,EACZC,QACIC,QAAS7B,OAIjBA,KAAKoX,aAAa5V,cAAc,GAAIC,aAAYsT,EAAME,MAI9DvX,EAAM+C,iBAAmB,WACrB,GAAIC,GAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KAYvD,OAVIA,MAAKsX,wBAAyBrb,qBAAoBC,OAAOC,SAASga,gBAClEnW,KAAKsX,wBAAyBrb,qBAAoBC,OAAOC,SAAS0a,OAClE7W,KAAKoX,aAAepX,KAAKsX,cACzB8C,EAAcrS,OAAOsS,iBAAiBra,MAAMsa,KAC5Cta,KAAKqX,uBAAuB,wBAE5B9Z,EAAW0G,MAAM,2DAA4DjE,KAAK0D,aAClF1D,KAAKoX,aAAe5W,QAGjBE,GAGXhD,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,GAE5CF,KAAKqX,uBAAuB,sBAGhC3Z,EAAM4D,iBAAmB,WACrBnE,EAAOQ,UAAU2D,iBAAiBvB,KAAKC,MAEvCA,KAAKqX,uBAAuB,sBAC5BrX,KAAKoX,aAAe5W,QAGxB9C,EAAM8Y,UAAY,SAAU5W,GACxBI,KAAKJ,OAASA,GAGlBlC,EAAMiZ,oBAAsB,SAAUzF,GAElClR,KAAKua,GAAKva,KAAKJ,OAAOsN,SAASsN,UAC/Bxa,KAAKya,GAAKza,KAAKJ,OAAOsN,SAASwN,UAC/Btd,EAAE4C,MAAMkM,QAAQ,gBAAiBgF,IAGrCxT,EAAMuS,cAAgB,WAClB,GACI9E,GADAwP,EAAkB3a,KAAK2a,cAa3B,OATIxP,GADmB,SAAnBwP,EACO,KACmB,eAAnBA,EACA,IACmB,aAAnBA,EACA,IAEA,MAIPrM,KAAQtO,KAAKsO,KACbkJ,UAAaxX,KAAKwX,UAClBoD,2BAA8B5a,KAAK6a,UAAY,EAAIra,OACnDuU,KAAQ/U,KAAKyX,MACb9X,MAASK,KAAK8a,YACdC,WAAc/a,KAAKgb,WAAa,EAAIxa,OACpC2K,KAAQA,EACR2O,OAAU9Z,KAAKib,YACfX,KAAQF,EACRlN,UACIsN,UAAaxa,KAAK4T,EAClB8G,UAAa1a,KAAK6T,KAK9BnW,EAAMsF,QAAU,SAAUC,EAAUC,EAAYC,EAAYC,GACxDjG,EAAOQ,UAAUqF,QAAQjD,KAAKC,KAAMiD,EAAUC,EAAYC,EAAYC,GACtEgX,EAAcpa,KAAKqD,MAAMiX,KACzBta,KAAKqX,uBAAuB,sBAGhC3Z,EAAMoE,kBAAkBpE,EAAO,YAAa,iBAC9CzB,oBAAoBC,OAAOC,SAASge,OAAQle,oBAAoBC,OAAOC,SAAS4G,QCrLlF9G,oBAAoBC,OAAOC,SAAS+e,cAAgB,WAChD,cAMH,SAAUhe,EAAOC,GACd,YAEA,IAAIC,GAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SAQlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,OACdC,aAAc,GACdC,WAAW,EACXyE,yBAAyB,EACzBC,wBAAwB,IAE5BpH,EAAMuC,YAAYH,GACdI,aAAc,gBACdC,cAAc,IAElBzC,EAAMuC,YAAYH,GACdI,aAAc,gBACdC,cAAc,KAItBzC,EAAM+C,iBAAmB,WACrB,GAAIgE,GACAE,EACAhE,EAAOX,KACPmb,GAAiB,EACjBza,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KAgDvD,OA9CIU,MAAc,IACd+D,EAAe1G,SAASC,cAAc,YACtCyG,EAAapB,MAAMf,MAAQ,OAC3BmC,EAAapB,MAAMd,OAAS,OAE5BvC,KAAKzB,YAAYkG,GAEjBE,EAAQvH,EAAEqH,GACVE,EAAMuB,KAAKlG,KAAKkG,MAChBvB,EAAMyW,KAAK,WAAYpb,KAAK4F,UAC5BjB,EAAMvF,IAAI,YAAahC,EAAE4C,MAAMZ,IAAI,cACnCuF,EAAMvF,IAAI,cAAehC,EAAE4C,MAAMZ,IAAI,gBACrCuF,EAAMvF,IAAI,cAAehC,EAAE4C,MAAMZ,IAAI,gBACrCuF,EAAMvF,IAAI,aAAchC,EAAE4C,MAAMZ,IAAI,eACpCuF,EAAMvF,IAAI,SAAU,QACpBuF,EAAM6E,GAAG,SAAU,WACf,GAAI6R,GAAS1W,EAAMqF,KACfrJ,GAAKuF,OAASmV,IACd1a,EAAKuF,KAAOmV,KAGpB1W,EAAM6E,GAAG,QAAS,WACV7I,EAAK2a,gBAAkBH,IACvBA,GAAiB,EACjBnb,KAAKub,QACLvb,KAAKwb,YAGb7W,EAAM6E,GAAG,OAAQ,WACb,GAAI6R,GAAS1W,EAAMqF,KACnBmR,IAAiB,EACbxa,EAAKuF,OAASmV,IACd1a,EAAKuF,KAAOmV,KAGpB1W,EAAM6E,GAAG,UAAW,SAAU7G,GAC1B,MAAIhC,GAAK8a,iBAAkB,GAAuB,KAAd9Y,EAAE+Y,SAClC/W,EAAMgX,QACC,GAFX,SAOJhX,EAAMmB,SAAS,kBAGZpF,GAGXhD,EAAMsF,QAAU,SAAUC,EAAUC,EAAYC,EAAYC,GACxDjG,EAAOQ,UAAUqF,QAAQjD,KAAKC,KAAMiD,EAAUC,EAAYC,EAAYC,EAEtE,IAAIqB,GAAezE,KAAK0E,kBACpBC,EAAQvH,EAAEqH,EAEdE,GAAMvF,KAAMgG,YAAanC,EACdkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,KAG7B1F,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,EAE5C,IAAIuE,GAAezE,KAAK0E,kBACpBC,EAAQvH,EAAEqH,EAEd,QAAQvE,GACJ,IAAK,WACDyE,EAAMyW,MAAMzV,SAAU3F,KAAK4F,UAC3B,MACJ,KAAK,OACDjB,EAAMuB,KAAKlG,KAAKkG,KAChB,MACJ,KAAK,gBACD,KACJ,KAAK,mBAObxI,EAAMoE,kBAAkBpE,EAAO,oBAAqB,wBACtDzB,oBAAoBC,OAAOC,SAAS+e,cAAejf,oBAAoBC,OAAOC,SAAS4G,QCrIzF9G,oBAAoBC,OAAOC,SAASyf,iBAAmB,WACnD,cAMH,SAAU1e,EAAOC,GACd,YAEA,IAAIC,GAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,UAMdke,EAAuB,SAAUzX,GACjC,MAAO,IAAKnI,qBAAoBC,OAAO4f,YAAY1X,GAAQ2X,SAI/Dre,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,QACdC,aAAc,MACdC,WAAW,EACXyE,yBAAyB,EACzBC,wBAAwB,IAG5BpH,EAAMuC,YAAYH,GACdI,aAAc,UACdC,aAAc,2BAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,UACdC,aAAc,0BAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,8BACdC,cAAc,KAItBzC,EAAM+C,iBAAmB,WACrB,GACIuE,GACAP,EACAE,EAHAjE,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,MAInDW,EAAOX,IAEX,IAAIU,KAAc,EAAM,CACpB,GAAIgH,GAAS,yBACTS,EAAUC,UAAUD,QAAQJ,OAAOE,kBAAkB+T,eACzD,IAAgBxb,SAAZ2H,EAAuB,CACvB,GAAI8T,GAAW9T,EAAQ8T,QACvBvU,GAASuU,EAASC,SAASC,EAAI,IAAMF,EAASC,SAASE,EAG3DpX,GACIW,SAAU3F,KAAK4F,SACfuC,QAASJ,OAAOE,kBAAkB+T,eAClCK,aAAc3U,EACdoB,IAAK+S,EAAqB7b,KAAKgH,SAC/BC,IAAK4U,EAAqB7b,KAAK+G,SAC/BuV,oBAAqBtc,KAAK4F,UAE9BnB,EAAe1G,SAASC,cAAc,OACtCyG,EAAapB,MAAMf,MAAQ,OAC3BmC,EAAapB,MAAMd,OAAS,OAE5BvC,KAAKzB,YAAYkG,GAEjBE,EAAQvH,EAAEqH,GACVE,EAAM4X,iBAAiBvX;AACvBL,EAAM4X,iBAAiB,UAAWV,EAAqB7b,KAAKoE,QAC5DO,EAAM6E,GAAG,eAAgB,SAAUC,GAC/B9I,EAAKyD,MAAQ,GAAKnI,qBAAoBC,OAAO4f,YAAYrS,EAAME,KAAK6S,MAAOpV,aAG3EpH,KAAKyc,+BAAgC,GACrC9X,EAAMkF,KAAK,uBAAuB1M,SAAS2I,SAAS,cAGxD1I,EAAE,IAAMqH,EAAahB,GAAK,wBAAwBrE,IAAI,YAAahC,EAAE4C,MAAMZ,IAAI,cAC/EhC,EAAE,IAAMqH,EAAahB,GAAK,wBAAwBrE,IAAI,cAAehC,EAAE4C,MAAMZ,IAAI,gBACjFhC,EAAE,IAAMqH,EAAahB,GAAK,wBAAwBrE,IAAI,cAAehC,EAAE4C,MAAMZ,IAAI,gBACjFhC,EAAE,IAAMqH,EAAahB,GAAK,wBAAwBrE,IAAI,aAAchC,EAAE4C,MAAMZ,IAAI,eAGhFuF,EAAMmB,SAAS,qBACfnB,EAAMkF,KAAK,UAAU/D,SAAS,iBAC9BnB,EAAMkF,KAAK,uBAAuB/D,SAAS,sBAC3CnB,EAAMkF,KAAK,uBAAuB/D,SAAS,oBAG/C,MAAOpF,IAGXhD,EAAMmF,YAAc,SAAUC,GAC1B3F,EAAOQ,UAAUkF,YAAY9C,KAAKC,KAAM8C,GACxC1F,EAAE4C,KAAK0E,mBAAmB6X,iBAAiBzZ,IAG/CpF,EAAMsF,QAAU,SAAUC,EAAUC,EAAYC,EAAYC,GACxDjG,EAAOQ,UAAUqF,QAAQjD,KAAKC,KAAMiD,EAAUC,EAAYC,EAAYC,EAEtE,IAAIqB,GAAezE,KAAK0E,kBACpBgC,EAAetJ,EAAE,IAAMqH,EAAahB,GAAK,uBAE7CiD,GAAatH,KACTgG,YAAanC,EACbkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,KAItB1F,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,EAE5C,IAAIuE,GAAezE,KAAK0E,kBACpBC,EAAQvH,EAAEqH,EAEd,QAAQvE,GACJ,IAAK,QACDyE,EAAM4X,iBAAiB,UAAWV,EAAqB7b,KAAKoE,UAOxE1G,EAAMoE,kBAAkBpE,EAAO,yBAA0B,2BAE3DzB,oBAAoBC,OAAOC,SAASyf,iBAAkB3f,oBAAoBC,OAAOC,SAAS4G,QC7I5F9G,oBAAoBC,OAAOC,SAASugB,sBAAwB,WACxD,cAMH,SAAUxf,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,cACdC,aAAc,OAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,eACdC,aAAc,UAIxBlE,oBAAoBC,OAAOC,SAASugB,sBAAuBzgB,oBAAoBC,OAAOC,SAASmH,gBCtCjGrH,oBAAoBC,OAAOC,SAASwgB,cAAgB,WAChD,cAMJ,SAAWzf,EAAOC,GACd,YAEA,IAAIC,GAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,UAMdif,EAAqB,SAAUpZ,EAAQqZ,EAAQpY,GAC/C,GACIqY,GADAnc,EAAO6C,CAGXsZ,GAAQ1f,EAAEqH,GACVoY,EAAOnQ,kBAAoB,GAC3BoQ,EAAMC,gBAAgBF,GAGtBC,EAAMC,gBAAgB,wBACtBD,EAAMjT,KAAK,4BAA4BzK,IAAI,YAAahC,EAAEuD,GAAMvB,IAAI,cACpE0d,EAAMjT,KAAK,4BAA4BzK,IAAI,cAAehC,EAAEuD,GAAMvB,IAAI,gBACtE0d,EAAMjT,KAAK,4BAA4BzK,IAAI,cAAehC,EAAEuD,GAAMvB,IAAI,gBACtE0d,EAAMjT,KAAK,4BAA4BzK,IAAI,aAAchC,EAAEuD,GAAMvB,IAAI,eAGrE0d,EAAMhX,SAAS,kBACfgX,EAAMjT,KAAK,+BAA+B/D,SAAS,eACnDgX,EAAMjT,KAAK,gCAAgC/D,SAAS,gBACpDgX,EAAMjT,KAAK,8BAA8B/D,SAAS,gBAClDgX,EAAMjT,KAAK,4BAA4B/D,SAAS,aAIhDkX,EAAyB,SAAUrY,EAAOpC,GAC1C,GAAIU,GAAoB,IAATV,CACfoC,GAAMvF,KAAMgG,YAAanC,EAAW,KAAMga,cAAe1a,EAAS,QAGlE2a,EAAoB,SAAU1Z,EAAQqZ,EAAQpY,GAC9C,GAAI9D,GAAO6C,EACP2Z,EAAc1Y,CAClB0Y,GAAYlf,UAAUC,IAAI,iBAC1B,IAAIkf,GAAY,IACZlX,EAAOnI,SAASuH,eAAe8X,EACnCD,GAAY5e,YAAY2H,GAExB8W,EAAuB5f,EAAE+f,GAAc/f,EAAEuD,GAAM4B,UAE/CnF,EAAEuD,GAAM0c,MAAM,WACVjgB,EAAE+f,GAAavY,YAAY,UAC5B,WACCxH,EAAE+f,GAAavY,YAAY,WAE/BxH,EAAEuD,GAAM6I,GAAG,QAAS,SAAUrF,GAC1BA,EAAImZ,oBAIRC,EAAoB,SAAU/Z,EAAQqZ,EAAQpY,GAC9C,GAAI9D,GAAO6C,EACPoE,EAAa7J,SAASC,cAAc,OACpCwf,EAAezf,SAASC,cAAc,SAEtCyf,EAAgB1f,SAASC,cAAc,SACvC0f,EAAe3f,SAASC,cAAc,SACtC2f,EAAW5f,SAASC,cAAc,QAGtC2f,GAAS1c,iBAAiB,QAAS,SAAUkD,GACzCA,EAAImZ,mBAIRG,EAAcxf,UAAUC,IAAI,gBAC5Buf,EAAcG,UAAYf,EAAOgB,SACjCJ,EAAcpa,MAAMJ,SAAW7F,EAAEuD,GAAMvB,IAAI,aAC3Cqe,EAAcpa,MAAMH,WAAa9F,EAAEuD,GAAMvB,IAAI,eAC7Cqe,EAAcpa,MAAMF,WAAa/F,EAAEuD,GAAMvB,IAAI,eAC7Cqe,EAAcpa,MAAMD,UAAYhG,EAAEuD,GAAMvB,IAAI,cAC5CwI,EAAWrJ,YAAYkf,GACvBC,EAAazf,UAAUC,IAAI,eAC3Bwf,EAAaE,UAAYf,EAAOiB,QAChCJ,EAAara,MAAMJ,SAAW7F,EAAEuD,GAAMvB,IAAI,aAC1Cse,EAAara,MAAMH,WAAc9F,EAAEuD,GAAMvB,IAAI,eAC7Cse,EAAara,MAAMF,WAAc/F,EAAEuD,GAAMvB,IAAI,eAC7Cse,EAAara,MAAMD,UAAYhG,EAAEuD,GAAMvB,IAAI,cAC3CwI,EAAWrJ,YAAYmf,GACvBjZ,EAAalG,YAAYqJ,GAGzB+V,EAAStf,KAAO,WAChBsf,EAASI,QAAUlB,EAAOkB,QAC1BtZ,EAAalG,YAAYof,GAGzBH,EAAavf,UAAUC,IAAI,WAC3BuG,EAAalG,YAAYif,IAGzBQ,EAAuB,SAAUxa,GACjC,GAAI7C,GAAO6C,EACPwB,IAMJ,OALAA,GAAe+Y,QAAUpd,EAAKyD,MAC9BY,EAAe8Y,QAAUnd,EAAKwF,eAAiBxF,EAAKsd,YAAc,GAClEjZ,EAAe6Y,SAAWld,EAAKwF,eAAiBxF,EAAKud,aAAe,GACpElZ,EAAeyF,YAAc9J,EAAK8J,YAClCzF,EAAeW,SAAWhF,EAAKiF,SACxBZ,GAGPmZ,EAA2B,SAAU3a,GACrC,GAAI7C,GAAO6C,EACPiB,EAAe1G,SAASC,cAAc,MAK1C,OAJAyG,GAAapB,MAAMf,MAAQ,OAC3BmC,EAAapB,MAAMd,OAAS,OAC5B5B,EAAKpC,YAAYkG,GAEVA,EAIX/G,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,QACdC,aAAc,WAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,cACdC,aAAc,gBAItBzC,EAAM+C,iBAAmB,WACrB,GAAIC,GAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KAEvD,IAAIU,KAAc,EAAM,CAEpB,GAAIsE,GAAiBgZ,EAAqBhe,MACtCyE,EAAe0Z,EAAyBne,KAE5C,QAAQA,KAAKoe,OACb,IAAK,QACDb,EAAkBvd,KAAMgF,EAAgBP,EACxC,MACJ,KAAK,SACDmY,EAAmB5c,KAAMgF,EAAgBP,EACzC,MACJ,KAAK,QACDyY,EAAkBld,KAAMgF,EAAgBP,GAI5CzE,KAAKwE,mBAGT,MAAO9D,IAGXhD,EAAMsF,QAAU,SAAUC,EAAUC,EAAYC,EAAYC,GACxDjG,EAAOQ,UAAUqF,QAAQjD,KAAKC,KAAMiD,EAAUC,EAAYC,EAAYC,EAEtE,IAA2CsD,GAAvCjC,EAAezE,KAAK0E,iBAGL,WAAf1E,KAAKoe,QACLhhB,EAAE,iBAAiBgC,KAAMgG,YAAanC,EAClCkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,IAClBhG,EAAE,gBAAgBgC,KAAMgG,YAAanC,EACjCkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,KAGH,WAAfpD,KAAKoe,QACL1X,EAAetJ,EAAEqH,GAAcoF,KAAK,4BACpCzM,EAAEsJ,GAActH,KAAMgG,YAAanC,EAC/BkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,MAI1B1F,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,EAC5C,IAAIuE,GAAezE,KAAK0E,kBACpBC,EAAQvH,EAAEqH,GACV9D,EAAOX,IAEX,QAAQE,GACR,IAAK,WACkB,UAAfF,KAAKoe,MACL3Z,EAAa2W,MACTzV,SAAUhF,EAAKiF,WAEG,WAAf5F,KAAKoe,MACZzZ,EAAMoY,iBACFpX,SAAUhF,EAAKiF,WAEG,UAAf5F,KAAKoe,OACZ3Z,EAAa2W,MACTzV,SAAUhF,EAAKiF,UAIvB,MACJ,KAAK,cACD,GAAmB,WAAf5F,KAAKoe,MAAoB,CAGzBpe,KAAKmM,YAAYnM,KAAK0E,kBAEtB,IAAIM,GAAiBgZ,EAAqBhe,KAI1CgF,GAAe1C,MAAQtC,KAAKqD,MAAMf,MAClC0C,EAAezC,OAASvC,KAAKqD,MAAMd,OAEnCkC,EAAe0Z,EAAyBne,MAExC4c,EAAmB5c,KAAMgF,EAAgBP,GAG7C,KACJ,KAAK,cAGkB,UAAfzE,KAAKoe,OACLhhB,EAAE,gBAAgB0W,KAAK9T,KAAKie,aAGb,WAAfje,KAAKoe,OACLzZ,EAAMoY,iBACFe,QAASnd,EAAKsd,aAItB,MACJ,KAAK,eAEkB,UAAfje,KAAKoe,OACLhhB,EAAE,iBAAiB0W,KAAK9T,KAAKke,cAGd,WAAfle,KAAKoe,OACLzZ,EAAMoY,iBACFc,SAAUld,EAAKud,cAIvB,MACJ,KAAK,iBAEkB,UAAfle,KAAKoe,OACLhhB,EAAE,iBAAiB0W,KAAK9T,KAAKmG,eAAiBnG,KAAKke,aAAe,IAGnD,UAAfle,KAAKoe,OACLhhB,EAAE,gBAAgB0W,KAAK9T,KAAKmG,eAAiBnG,KAAKie,YAAc,IAGjD,WAAfje,KAAKoe,OACLzZ,EAAMoY,iBACFe,QAASnd,EAAKwF,eAAiBxF,EAAKsd,YAAc,GAClDJ,SAAUld,EAAKwF,eAAiBxF,EAAKud,aAAe,IAI5D,MACJ,KAAK,QACkB,WAAfle,KAAKoe,OACLzZ,EAAMoY,iBACFgB,QAASpd,EAAKyD,QAItBpE,KAAKwE,qBAQb9G,EAAMmF,YAAc,SAAUC,GAC1B3F,EAAOQ,UAAUkF,YAAY9C,KAAKC,KAAM8C,EACxC,IAAI2B,GAAezE,KAAK0E,kBACpBoY,EAAQ1f,EAAEqH,EACK,YAAfzE,KAAKoe,QACLtB,EAAMuB,SACNvB,EAAMC,gBAAgBja,GACtB1F,EAAE4C,MAAMse,OAAOxB,IAGA,UAAf9c,KAAKoe,OAELpB,EAAuBF,EAAOha,EAAKP,SAI3C7E,EAAMoE,kBAAkBpE,EAAO,oBAAqB,wBACrDzB,oBAAoBC,OAAOC,SAASwgB,cAAe1gB,oBAAoBC,OAAOC,SAASugB,uBC7T1FzgB,oBAAoBC,OAAOC,SAASoiB,WAAa,WAC7C,cAMJ,SAAWrhB,EAAOC,GACd,YAEA,IAAIC,GAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAI7CpC,EAAMuC,YAAYH,GACdI,aAAc,QACdC,aAAc,UAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,YACdC,aAAc,MAItBzC,EAAM+C,iBAAmB,WACrB,GACIuE,GACAP,EACAE,EAHAjE,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KAmCvD,OA9BIU,MAAc,IACdsE,KACAA,EAAeC,QAAUjF,KAAKoE,MAE9BK,EAAe1G,SAASC,cAAc,SACtCyG,EAAapG,KAAO,SACpBoG,EAAapB,MAAMf,MAAQ,OAC3BmC,EAAapB,MAAMd,OAAS,OAC5ByC,EAAeW,SAAW3F,KAAK4F,SAC/B5F,KAAKzB,YAAYkG,GAEjBE,EAAQvH,EAAEqH,GACVE,EAAMkB,gBAAgBb,GACtBL,EAAMkB,gBAAgB,mBAEtB7F,KAAKwe,cAAcxe,KAAM2E,GAErB3E,KAAKoE,SAAU,EACfO,EAAMkB,gBAAgB,SAEtBlB,EAAMkB,gBAAgB,WAG1B7F,KAAKye,aAAaha,GAGlBE,EAAMmB,SAAS,kBACf9F,KAAKwE,oBAGF9D,GAGXhD,EAAM8gB,cAAgB,SAAU7d,EAAMgE,GAC9BhE,EAAKwF,kBAAmB,EACxBxB,EAAMyW,KAAK,QAASza,EAAKyD,MAAQzD,EAAKsd,YAActd,EAAKud,cAEzDvZ,EAAMyW,KAAK,QAAS,KAI5B1d,EAAM+gB,aAAe,SAAUha,GACvBzE,KAAKoE,SAAU,EACfhH,EAAEqH,GAAcrF,KAAMsf,mBAAoB1e,KAAK2e,UAAWC,eAAgB,YAE1ExhB,EAAEqH,GAAcrF,KAAMwf,eAAgB5e,KAAK2e,UAAWD,mBAAoB,aAIlFhhB,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,EAE5C,IAAIuE,GAAezE,KAAK0E,kBACpBC,EAAQvH,EAAEqH,EAEd,QAAQvE,GACJ,IAAK,QACDyE,EAAMkB,iBACFZ,QAASjF,KAAKoE,QAElBpE,KAAKwe,cAAcxe,KAAM2E,GACzB3E,KAAKye,aAAaha,GAClBzE,KAAKwE,kBACL,MACJ,KAAK,WACDG,EAAMkB,iBAAkBF,SAAU3F,KAAK4F,UACvC,MACJ,KAAK,iBACL,IAAK,cACL,IAAK,eACD5F,KAAKwe,cAAcxe,KAAM2E,EACzB,MACJ,KAAK,YACD3E,KAAKye,aAAaha,KAK9B/G,EAAMoE,kBAAkBpE,EAAO,iBAAkB,qBAClDzB,oBAAoBC,OAAOC,SAASoiB,WAAYtiB,oBAAoBC,OAAOC,SAASugB,uBC5HvFzgB,oBAAoBC,OAAOC,SAAS0iB,SAAW,WAC3C,cAMH,SAAU3hB,EAAOC,GACd,YAEA,IAAIC,GAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAM+C,iBAAmB,WACrB,GACIuE,GACAP,EACAE,EAHAjE,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KAKvD,IAAIU,KAAc,EAAM,CACpBsE,KACAA,EAAe+Y,QAAU/d,KAAKoE,MAE9BK,EAAe1G,SAASC,cAAc,OACtCgC,KAAKzB,YAAYkG,EAEjB,IAAIrG,GAAcL,SAASC,cAAc,QACzCgC,MAAKzB,YAAYH,GACjBA,EAAY0gB,UAAY9e,KAAKmG,eAAiBnG,KAAK0F,QAAU,GAC7DtH,EAAYiF,MAAMJ,SAAW7F,EAAE4C,MAAMZ,IAAI,aACzChB,EAAYiF,MAAMH,WAAc9F,EAAE4C,MAAMZ,IAAI,eAC5ChB,EAAYiF,MAAMF,WAAc/F,EAAE4C,MAAMZ,IAAI,eAC5ChB,EAAYiF,MAAMD,UAAahG,EAAE4C,MAAMZ,IAAI,cAC3CuF,EAAQvH,EAAEqH,GACVE,EAAMoa,YAAY/Z,GAClBL,EAAMoa,YAAY,mBAGlB3gB,EAAYsE,aAAa,MAAO+B,EAAahB,IAEzCzD,KAAKoE,SAAU,GACfO,EAAMoa,YAAY,SAClBpa,EAAMkF,KAAK,gCAAgC/D,SAAS,wBAEpDnB,EAAMoa,YAAY,WAClBpa,EAAMkF,KAAK,gCAAgCmV,YAAY,uBAI3Dra,EAAMmB,SAAS,kBACfnB,EAAMkF,KAAK,0BAA0B/D,SAAS,qBAGlD,MAAOpF,IAGXhD,EAAMsF,QAAU,SAAUC,EAAUC,EAAYC,EAAYC,GACxDjG,EAAOQ,UAAUqF,QAAQjD,KAAKC,KAAMiD,EAAUC,EAAYC,EAAYC,EAEtE,IAAIhF,GAAc4B,KAAKif,gBAEvB7hB,GAAEgB,GAAagB,KAAMgG,YAAanC,EAC9BkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,KAGtB1F,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,EAE5C,IAAIuE,GAAezE,KAAK0E,kBACpBtG,EAAc4B,KAAKif,iBACnBta,EAAQvH,EAAEqH,GACV9D,EAAOX,IAEX,QAAQE,GACR,IAAK,UACD9B,EAAY0gB,UAAY9e,KAAKmG,eAAiBnG,KAAK0F,QAAU,EAC7D,MACJ,KAAK,iBACDtH,EAAY0gB,UAAY9e,KAAKmG,eAAiBnG,KAAK0F,QAAU,EAC7D,MACJ,KAAK,QACDf,EAAMoa,aACFhB,QAASpd,EAAKyD,QAEdzD,EAAKyD,SAAU,EACfO,EAAMkF,KAAK,gCAAgC/D,SAAS,sBAEpDnB,EAAMkF,KAAK,gCAAgCmV,YAAY,wBASnEthB,EAAMoE,kBAAkBpE,EAAO,eAAgB,mBACjDzB,oBAAoBC,OAAOC,SAAS0iB,SAAU5iB,oBAAoBC,OAAOC,SAASmH,gBC7GpFrH,oBAAoBC,OAAOC,SAAS+iB,UAAY,WAC5C,cAMH,SAAUhiB,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,OACdC,aAAc,GACd2E,wBAAwB,IAG5BpH,EAAMuC,YAAYH,GACdI,aAAc,UACdC,aAAc,MAItBzC,EAAM+C,iBAAmB,WACrB,GACIgE,GADA/D,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KAkBvD,OAfIU,MAAc,IACd+D,EAAe1G,SAASC,cAAc,KACtCyG,EAAalG,YAAYR,SAASuH,eAAe,KACjDb,EAAapB,MAAMf,MAAQ,OAC3BmC,EAAapB,MAAMd,OAAS,OAC5BkC,EAAapB,MAAMoM,OAAS,MAE5BhL,EAAa/B,aAAa,OAAQ1C,KAAKmf,MACvC1a,EAAa/B,aAAa,SAAU,UACpC+B,EAAa2a,WAAWC,UAAYrf,KAAK0F,QACzCjB,EAAapB,MAAM1D,MAAQK,KAAKqD,MAAM1D,MAEtCK,KAAKzB,YAAYkG,IAGd/D,GAGXhD,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,EAE5C,IAAIuE,GAAezE,KAAK0E,iBAExB,QAAQxE,GACJ,IAAK,OACDuE,EAAa/B,aAAa,OAAQ1C,KAAKmf,KACvC,MACJ,KAAK,UACD1a,EAAa2a,WAAWC,UAAYrf,KAAK0F,UAOrDhI,EAAMoE,kBAAkBpE,EAAO,eAAgB,oBACjDzB,oBAAoBC,OAAOC,SAAS+iB,UAAWjjB,oBAAoBC,OAAOC,SAAS4G,QC7ErF9G,oBAAoBC,OAAOC,SAASmjB,KAAO,WACvC,cAMH,SAAUpiB,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,OACdC,aAAc,MAItBzC,EAAM+C,iBAAmB,WACrB,GACI8e,GADA7e,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KASvD,OANIU,MAAc,IACd6e,EAASxhB,SAASC,cAAc,OAChCuhB,EAAOT,UAAY9e,KAAKkG,KACxBlG,KAAKzB,YAAYghB,IAGd7e,GAGXhD,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,EAE5C,IAAI0H,GAAa5H,KAAK0E,iBAEtB,QAAQxE,GACJ,IAAK,OACD0H,EAAWkX,UAAY9e,KAAKkG,OAOxCxI,EAAMoE,kBAAkBpE,EAAO,UAAW,eAC5CzB,oBAAoBC,OAAOC,SAASmjB,KAAMrjB,oBAAoBC,OAAOC,SAAS4G,QC3DhF9G,oBAAoBC,OAAOC,SAASqjB,MAAQ,WACxC,cAMH,SAAUtiB,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,OACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,YACdC,aAAc,MAItBzC,EAAM+C,iBAAmB,WACrB,GACIgf,GADA/e,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KAavD,OAVIU,MAAc,IACd+e,EAAW1hB,SAASC,cAAc,SAClCgC,KAAKzB,YAAYkhB,GACjBA,EAASX,UAAY9e,KAAKkG,MAOvBxF,GAGXhD,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,EAE5C,IAAIsd,GAAexd,KAAK0E,iBAExB,QAAQxE,GACJ,IAAK,OACDsd,EAAasB,UAAY9e,KAAKkG,OAO1CxI,EAAMoE,kBAAkBpE,EAAO,WAAY,gBAC7CzB,oBAAoBC,OAAOC,SAASqjB,MAAOvjB,oBAAoBC,OAAOC,SAAS4G,QCpEjF9G,oBAAoBC,OAAOC,SAASujB,aAAe,WAC/C,cAIJzjB,oBAAoBC,OAAOC,SAASujB,aAAaC,aAAerjB,OAAOC,QACnEqjB,SAAU,WACVC,SAAU,aAGb,SAAU3iB,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,UACxCJ,EAAInB,oBAAoBoB,QAAQC,MAEpCC,GAAWE,kBAAkBP,EAAOC,EACpC,IACI2iB,GAAcC,EAAcC,EAD5BtiB,EAAQR,EAAMS,UAIdsiB,EAAiBhkB,oBAAoBC,OAAOC,SAASujB,aAAaC,YAGtEK,GAAoB,SAAUvM,GAC1B,MAAsB,KAAfA,EAAI3D,QAGfgQ,EAAe,SAAUI,GAErB,GACI7hB,GADA8hB,EAAaD,EAAWE,MAAM,IASlC,OANI/hB,GADyB,IAAzB8hB,EAAW,GAAGrQ,OACPmQ,EAAeL,SAEfK,EAAeJ,SAG1BM,EAAaA,EAAWjI,OAAO8H,IACtBG,WAAYA,EAAY9hB,KAAMA,IAG3C0hB,EAAe,SAAUM,GAIrB,GAFAA,EAAa3Q,KAAKC,MAAM0Q,GAEL7f,SAAf6f,GAAsD7f,SAA1B6f,EAAWF,WACvC,MAAO,EAGX,IAAID,GAAaG,EAAWF,WAAWG,KAAK,IAU5C,OATID,GAAWhiB,OAAS4hB,EAAeL,WACnCM,EAAa,IAAMA,EAGkB,IAAjCG,EAAWF,WAAWrQ,SACtBoQ,GAAc,MAIfA,GAIXxiB,EAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,OACdC,aAAcuP,KAAK6Q,WAAYJ,cAAgB9hB,KAAM4hB,EAAeL,WACpExf,WAAW,EACXyE,yBAAyB,EACzBC,wBAAwB,IAG5BpH,EAAMuC,YAAYH,GACdI,aAAc,SACdC,aAAc,aAItBzC,EAAM8iB,QAAU,SAAUC,GAGhBzgB,KAAK0gB,cAA8B,KAAdD,IACvBzgB,KAAK2gB,KAAOjR,KAAK6Q,UAAUT,EAAaW,MAIhD/iB,EAAMkjB,YAAc,WAChB5gB,KAAK2gB,KAAOjR,KAAK6Q,WAAYJ,cAAgB9hB,KAAM4hB,EAAeL,YAGtEliB,EAAMgjB,WAAa,WACf,GAAID,GAAY/Q,KAAKC,MAAM3P,KAAK2gB,KAChC,OAAkBngB,UAAdigB,GAAyC,OAAdA,GAA+CjgB,SAAzBigB,EAAUN,YACpD,EAG4B,IAAhCM,EAAUN,WAAWrQ,QAAgB2Q,EAAUpiB,OAAS4hB,EAAeL,UAGlFliB,EAAM+C,iBAAmB,WACrB,GACIuE,GACAP,EACAE,EACAkc,EACAC,EALApgB,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,MAMnDW,EAAOX,IAgDX,OA9CIU,MAAc,IACdsE,KACAA,EAAeY,SAAW5F,KAAK4F,SAC/BZ,EAAe+b,WAAa/gB,KAAK0H,OACjC1C,EAAegc,OAAS,IAExBvc,EAAe1G,SAASC,cAAc,OACtCyG,EAAapB,MAAMf,MAAQ,OAC3BmC,EAAapB,MAAMd,OAAS,OAE5BvC,KAAKzB,YAAYkG,GAEjBE,EAAQvH,EAAEqH,GACVE,EAAMsc,eAAejc,GACrBL,EAAMsc,eAAe,MAAOlB,EAAa/f,KAAK2gB,OAG9Chc,EAAMkF,KAAK,4BAA4B/D,SAAS,iBAChDnB,EAAMkF,KAAK,6BAA6B/D,SAAS,sBAEjD+a,EAAU9iB,SAASC,cAAc,OACjC8iB,EAAS/iB,SAASC,cAAc,SAEhCZ,EAAE0jB,GAAQ1F,KAAK,OAAQ,UACvBhe,EAAE0jB,GAAQ1F,KAAK,QAAS7d,EAAW2jB,KAAK,0BACxC9jB,EAAE0jB,GAAQK,WAAWC,SAAU,SAC/BhkB,EAAE0jB,GAAQtX,GAAG,QAAS,WAClBpM,EAAEyjB,GAASQ,WAAW,SACtB1gB,EAAKigB,gBAGTC,EAAQtiB,YAAYuiB,GACpB1jB,EAAEyjB,GAASQ,YAAaC,SAAU3c,EAAMkF,KAAK,uBAAwBqD,SAAU,UAE/EvI,EAAMkF,KAAK,kBAAkBzK,KACzBgG,YAAahI,EAAE4C,MAAMZ,IAAI,aACzB+F,cAAe/H,EAAE4C,MAAMZ,IAAI,eAC3B4G,cAAe5I,EAAE4C,MAAMZ,IAAI,eAC3B6G,aAAc7I,EAAE4C,MAAMZ,IAAI,gBAG9BuF,EAAM6E,GAAG,SAAU,WACf7I,EAAK6f,QAAQ7b,EAAMqF,IAAI,YAIxBtJ,GAGXhD,EAAMmF,YAAc,SAAUC,GAC1B3F,EAAOQ,UAAUkF,YAAY9C,KAAKC,KAAM8C,GACxC1F,EAAE4C,KAAK0E,mBAAmBuc,eAAene,IAG7CpF,EAAMsF,QAAU,SAAUC,EAAUC,EAAYC,EAAYC,GACxDjG,EAAOQ,UAAUqF,QAAQjD,KAAKC,KAAMiD,EAAUC,EAAYC,EAAYC,EAEtE,IAAIqB,GAAezE,KAAK0E,kBACpBC,EAAQvH,EAAEqH,EAEdE,GAAMkF,KAAK,kBAAkBzK,KACzBgG,YAAanC,EACbkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,KAItB1F,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,EAE5C,IAAIuE,GAAezE,KAAK0E,kBACpBC,EAAQvH,EAAEqH,EAEd,QAAQvE,GACJ,IAAK,WACDyE,EAAMsc,gBAAiBrb,SAAU5F,KAAK4F,UACtC,MACJ,KAAK,OACG5F,KAAK0gB,aACL/b,EAAMsc,eAAe,SAErBtc,EAAMsc,eAAe,MAAOlB,EAAa/f,KAAK2gB,MAGlD,MACJ,KAAK,SACDhc,EAAMsc,gBAAiBF,WAAY/gB,KAAK0H,WAOpDhK,EAAMoE,kBAAkBpE,EAAO,mBAAoB,uBACrDzB,oBAAoBC,OAAOC,SAASujB,aAAczjB,oBAAoBC,OAAOC,SAAS4G,QC9MxF9G,oBAAoBC,OAAOC,SAASolB,SAAW,WAC3C,cAIJtlB,oBAAoBC,OAAOC,SAASolB,SAASC,YAAcllB,OAAOC,QAC9DklB,KAAM,OACNC,QAAS,UACTC,gBAAiB,gBACjBC,KAAM,SAGT,SAAU1kB,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,UACxCqkB,EAAe5lB,oBAAoBC,OAAOC,SAASolB,SAASC,WAEhEjkB,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,UAMdmkB,EAAc,SAAUC,GACxB,GAAIphB,GAAOohB,EAIPtd,EAAe1G,SAASC,cAAc,MAC1CyG,GAAaxG,UAAUC,IAAI,gBAC3BuG,EAAapB,MAAMf,MAAQ,OAC3BmC,EAAapB,MAAMd,OAAS,OAER,KAAhB5B,EAAKqhB,SACLvd,EAAapB,MAAM4e,gBAAkB,OAASthB,EAAKqhB,OAAS,KAI3C,KAAjBrhB,EAAKuhB,SAAkBvhB,EAAKuhB,UAAYL,EAAaJ,MACrDhd,EAAaxG,UAAUC,IAAI,cAAgByC,EAAKuhB,SAGpDzd,EAAa0d,MAAQxhB,EAAKyhB,UAC1BzhB,EAAKme,UAAY,GACjBne,EAAKpC,YAAYkG,GAIrB/G,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,SACdC,aAAc,GACd2E,wBAAwB,IAG5BpH,EAAMuC,YAAYH,GACdI,aAAc,YACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,UACdC,aAAc0hB,EAAaH,WAKnChkB,EAAM+C,iBAAmB,WACrB,GAAIC,GAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KAMvD,OAJIU,MAAc,GACdohB,EAAY9hB,MAGTU,GAGXhD,EAAM2D,gBAAkB,SAAUnB,GAG9B,OAFA/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,GAEpCA,GACJ,IAAK,SACD4hB,EAAY9hB,KACZ,MACJ,KAAK,YACD8hB,EAAY9hB,KACZ,MACJ,KAAK,UACD8hB,EAAY9hB,QAKxBtC,EAAMoE,kBAAkBpE,EAAO,eAAgB,mBACjDzB,oBAAoBC,OAAOC,SAASolB,SAAUtlB,oBAAoBC,OAAOC,SAAS4G,QClGpF9G,oBAAoBC,OAAOC,SAASkmB,MAAQ,WACxC,cAIJpmB,oBAAoBC,OAAOC,SAASkmB,MAAMb,YAAcllB,OAAOC,QAC3DklB,KAAM,OACNC,QAAS,UACTC,gBAAiB,gBACjBC,KAAM,SAGT,SAAU1kB,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,UACxCqkB,EAAe5lB,oBAAoBC,OAAOC,SAASkmB,MAAMb,WAE7DjkB,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,UAMdmkB,EAAc,SAAUQ,GACxB,GAAI3hB,GAAO2hB,EAIP7d,EAAe1G,SAASC,cAAc,MAC1CyG,GAAaxG,UAAUC,IAAI,gBAC3BuG,EAAapB,MAAMf,MAAQ,OAC3BmC,EAAapB,MAAMd,OAAS,OAER,KAAhB5B,EAAKqhB,SACLvd,EAAapB,MAAM4e,gBAAkB,oBAAsBthB,EAAKqhB,OAAS,KAIxD,KAAjBrhB,EAAKuhB,SAAkBvhB,EAAKuhB,UAAYL,EAAaJ,MACrDhd,EAAaxG,UAAUC,IAAI,cAAgByC,EAAKuhB,SAGpDvhB,EAAKme,UAAY,GACjBne,EAAKpC,YAAYkG,GAIrB/G,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,SACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,UACdC,aAAc0hB,EAAaH,WAInChkB,EAAM+C,iBAAmB,WACrB,GAAIC,GAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KAMvD,OAJIU,MAAc,GACdohB,EAAY9hB,MAGTU,GAGXhD,EAAM2D,gBAAkB,SAAUnB,GAG9B,OAFA/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,GAEpCA,GACJ,IAAK,SACD4hB,EAAY9hB,KACZ,MACJ,KAAK,UACD8hB,EAAY9hB,QAKxBtC,EAAMoE,kBAAkBpE,EAAO,WAAY,gBAC7CzB,oBAAoBC,OAAOC,SAASkmB,MAAOpmB,oBAAoBC,OAAOC,SAAS4G,QCvFjF9G,oBAAoBC,OAAOC,SAASomB,SAAW,WAC3C,cAMH,SAAUrlB,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,SACdC,aAAc,SAIxBlE,oBAAoBC,OAAOC,SAASomB,SAAUtmB,oBAAoBC,OAAOC,SAAS4G,QC/BpF9G,oBAAoBC,OAAOC,SAASqmB,SAAW,WAC3C,cAMH,SAAUtlB,EAAOC,GACd,YAEA,IAAIC,GAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,gBACdC,aAAc,GACdC,WAAW,EACXyE,yBAAyB,EACzBC,wBAAwB,KAIhCpH,EAAM+C,iBAAmB,WACrB,GACIuE,GACAP,EACAE,EAHAjE,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,MAInDW,EAAOX,IAsBX,OApBIU,MAAc,IACdsE,KAEAP,EAAe1G,SAASC,cAAc,OACtCyG,EAAapB,MAAMf,MAAQ,OAC3BmC,EAAapB,MAAMd,OAAS,OAC5BkC,EAAapB,MAAMJ,SAAW7F,EAAE4C,MAAMZ,IAAI,aAC1CqF,EAAapB,MAAMH,WAAa9F,EAAE4C,MAAMZ,IAAI,eAC5CqF,EAAapB,MAAMF,WAAa/F,EAAE4C,MAAMZ,IAAI,eAC5CqF,EAAapB,MAAMD,UAAYhG,EAAE4C,MAAMZ,IAAI,cAC3CY,KAAKzB,YAAYkG,GAEjBE,EAAQvH,EAAEqH,GACVE,EAAM8d,gBAAgBzd,GACtBL,EAAM8d,iBAAkBT,OAAQtS,KAAKC,MAAM3P,KAAKgiB,QAASU,cAAe1iB,KAAK0iB,cAAeC,oBAAoB,EAAMhd,SAAU3F,KAAK4F,WACrIjB,EAAM6E,GAAG,SAAU,SAAUC,GACzB9I,EAAK+hB,cAAgBjZ,EAAME,KAAK+L,SAIjChV,GAGXhD,EAAMmF,YAAc,SAAUC,GAC1B3F,EAAOQ,UAAUkF,YAAY9C,KAAKC,KAAM8C,GACxC1F,EAAE4C,KAAK0E,mBAAmB+d,gBAAgB3f,IAG9CpF,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,EAE5C,IAAIuE,GAAezE,KAAK0E,kBACpBC,EAAQvH,EAAEqH,EAEd,QAAQvE,GACJ,IAAK,SACDyE,EAAM8d,iBAAkBT,OAAQtS,KAAKC,MAAM3P,KAAKgiB,SAChD,MACJ,KAAK,gBACDrd,EAAM8d,iBAAkBC,cAAe1iB,KAAK0iB,kBAKxDhlB,EAAMoE,kBAAkBpE,EAAO,eAAgB,mBACjDzB,oBAAoBC,OAAOC,SAASqmB,SAAUvmB,oBAAoBC,OAAOC,SAASomB,UCvFpFtmB,oBAAoBC,OAAOC,SAASymB,QAAU,WAC1C,cAIJ3mB,oBAAoBC,OAAOC,SAASymB,QAAQC,kBAAoBvmB,OAAOC,QACnEumB,YAAa,YACbC,IAAK,MACLC,aAAc,aACdC,YAAa,cAMhB,SAAU/lB,EAAOC,GACd,YAEA,IAAI+lB,GAAsBjnB,oBAAoBC,OAAOC,SAASymB,QAAQC,kBAClEzlB,EAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,UAMdwlB,EAA+B,SAAUxe,GACzC,GAAIye,GAAQze,EAAM0e,WAAW,mBAC7B,OAAqB,KAAjBD,EAAMtT,QAAkC,IAAjBsT,EAAMtT,QAA6BtP,SAAb4iB,EAAM,MAIhDA,EAAME,IAAI,SAAUC,GACvB,MAAOA,GAAI7N,SAIf8N,EAA+B,SAAU7e,EAAO8e,GAChD,GAAIpU,EAEJ,KADA1K,EAAM0e,WAAW,kBACZhU,EAAI,EAAGA,EAAIoU,EAAQ3T,OAAQT,IAC5B1K,EAAM0e,WAAW,cAAeI,EAAQpU,KAI5CqU,EAAuB,SAAU/e,EAAOgf,GACxC,GAAItU,GAAGuU,EAAaT,EAA6Bxe,GAAOkf,OAAQC,EAAgBpU,KAAKC,MAAMgU,GAAwBE,MACnH,IAAID,EAAW9T,SAAWgU,EAAchU,OACpC,OAAO,CAGX,KAAKT,EAAI,EAAGA,EAAIuU,EAAW9T,OAAQT,IAC/B,GAAIuU,EAAWvU,KAAOyU,EAAczU,GAChC,OAAO,CAIf,QAAO,EAIX3R,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,gBACdC,aAAc,KACdC,WAAW,EACXyE,yBAAyB,EACzBC,wBAAwB,IAG5BpH,EAAMuC,YAAYH,GACdI,aAAc,gBACdC,aAAc+iB,EAAoBH,OAI1CrlB,EAAMqmB,oBAAsB,SAAUpf,GAClC,GAAI6G,IACAwY,SAAUhkB,KAAKikB,gBAAkBf,EAAoBH,IAGzDpe,GAAM0e,WAAW7X,IAGrB9N,EAAMwmB,gBAAkB,SAAUvf,GAC9B,GAOIwf,GAAoBC,EAAwBC,EAAKC,EAPjD5B,EAAgBhT,KAAKC,MAAM3P,KAAK0iB,eAChCU,EAAQD,EAA6Bxe,GACrC4f,EAAenB,EAAMlL,OAAO,SAAUlI,GACtC,MAAoC,KAA7B0S,EAAcxL,QAAQlH,KAE7BwU,EAAmBpB,EAAMtT,OAAS,IAAM9P,KAAKikB,gBAAkBf,EAAoBH,KAAO/iB,KAAKikB,gBAAkBf,EAAoBJ,cACjG,IAAjBM,EAAMtT,SAAiB9P,KAAKikB,gBAAkBf,EAAoBH,KAAO/iB,KAAKikB,gBAAkBf,EAAoBD,YAE3I,IAAIuB,EAAiB,CASjB,OARAH,EAAM3U,KAAKC,MAAM3P,KAAKgiB,QACtBsC,EAAuBlT,MAAMC,QAAQgT,IAAQA,EAAIvU,OAAS,GAAK,MAE3DqU,EADAI,EAAazU,OAAS,GACAyU,EAAa,IAEd7B,EAAc5S,OAAS,GAAK4S,EAAc,OAG3D1iB,KAAKikB,eACT,IAAKf,GAAoBJ,YACrBsB,EAAyBD,CACzB,MACJ,KAAKjB,GAAoBH,IACrBqB,EAAuD,IAA9BD,EAAmBrU,OAAeqU,EAAqBG,CAChF,MACJ,KAAKpB,GAAoBD,YACrBmB,EAAyB1B,EAAc5S,OAAS,EAAI4S,EAAgB4B,EAI5Ed,EAA6B7e,EAAOyf,OAEpCpkB,MAAK0iB,cAAgBhT,KAAK6Q,UAAU6C,IAI5C1lB,EAAM+C,iBAAmB,WACrB,GACIuE,GACAP,EACAE,EAHAjE,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,MAInDW,EAAOX,IA0BX,OAxBIU,MAAc,IACdsE,KAEAP,EAAe1G,SAASC,cAAc,OACtCyG,EAAapB,MAAMf,MAAQ,OAC3BmC,EAAapB,MAAMd,OAAS,OAC5BkC,EAAapB,MAAMJ,SAAW7F,EAAE4C,MAAMZ,IAAI,aAC1CqF,EAAapB,MAAMH,WAAa9F,EAAE4C,MAAMZ,IAAI,eAC5CqF,EAAapB,MAAMF,WAAa/F,EAAE4C,MAAMZ,IAAI,eAC5CqF,EAAapB,MAAMD,UAAYhG,EAAE4C,MAAMZ,IAAI,cAC3CY,KAAKzB,YAAYkG,GAEjBE,EAAQvH,EAAEqH,GACVO,EAAegd,OAAStS,KAAKC,MAAM3P,KAAKgiB,QACxCrd,EAAM0e,WAAWre,GACjBwe,EAA6B7e,EAAO3E,KAAK0iB,eACzC1iB,KAAK+jB,oBAAoBpf,GACzBA,EAAM6E,GAAG,SAAU,WACVka,EAAqB/e,EAAOhE,EAAK+hB,gBAClC/hB,EAAKujB,gBAAgBvf,MAK1BjE,GAGXhD,EAAMmF,YAAc,SAAUC,GAC1B3F,EAAOQ,UAAUkF,YAAY9C,KAAKC,KAAM8C,GACxC1F,EAAE4C,KAAK0E,mBAAmB2e,WAAWvgB,IAGzCpF,EAAMsF,QAAU,SAAUC,EAAUC,EAAYC,EAAYC,GACxDjG,EAAOQ,UAAUqF,QAAQjD,KAAKC,KAAMiD,EAAUC,EAAYC,EAAYC,EAEtE,IAAIqB,GAAezE,KAAK0E,kBACpBC,EAAQvH,EAAEqH,EAEdE,GAAMvF,KACFgG,YAAanC,EACbkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,KAItB1F,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,EAE5C,IAAIuE,GAAezE,KAAK0E,kBACpBC,EAAQvH,EAAEqH,EAEd,QAAQvE,GACJ,IAAK,SACDyE,EAAM0e,YAAarB,OAAQtS,KAAKC,MAAM3P,KAAKgiB,SAC3C,MACJ,KAAK,gBACI0B,EAAqB/e,EAAO3E,KAAK0iB,gBAClCc,EAA6B7e,EAAO+K,KAAKC,MAAM3P,KAAK0iB,eAGxD,MACJ,KAAK,gBACD1iB,KAAK+jB,oBAAoBpf,KAKrCjH,EAAMoE,kBAAkBpE,EAAO,cAAe,kBAChDzB,oBAAoBC,OAAOC,SAASymB,QAAS3mB,oBAAoBC,OAAOC,SAASomB,UCzMnFtmB,oBAAoBC,OAAOC,SAASsoB,QAAU,WAC1C,cAMH,SAAUvnB,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,UACxCknB,EAAmBzoB,oBAAoBC,OAAOqL,gBAAgBod,qBAElEpnB,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,QACdC,aAAc,KACdC,WAAW,EACXyE,yBAAyB,EACzB+f,sBAAsB,EACtB9f,wBAAwB,KAIhCpH,EAAMmnB,aAAe,WACjB,GAAIxV,GACAyV,IACJ,KAAKzV,EAAI,EAAGA,EAAIrP,KAAK+F,WAAW+J,OAAQT,IACpC,GAAIrP,KAAK+F,WAAWsJ,YAAcpT,qBAAoBC,OAAOC,SAASiG,kBAAoB,GAAuC,aAA/BpC,KAAK+F,WAAWsJ,GAAGwD,SAAqFrS,SAA3DR,KAAK+F,WAAWsJ,GAAGuD,YAAYmS,wBAAuC,CACjN,GAAI7kB,GAAeF,KAAK+F,WAAWsJ,GAAGuD,YAAYmS,wBAAwB7kB,YAC1E4kB,GAAS9kB,KAAK+F,WAAWsJ,GAAG2V,WAAahlB,KAAKilB,SAASjlB,KAAK+F,WAAWsJ,GAAInP,GAInF,MAAO4kB,IAGXpnB,EAAMwnB,aAAe,SAAU/gB,GAC3B,GAAIA,EAAIghB,aAAehhB,EAAIX,QAAUxD,KAAKolB,uBAAwB,EAAO,CACrE,GAAIN,GAAW9kB,KAAK6kB,cACpB7kB,MAAKolB,qBAAsB,EAC3BplB,KAAKoE,MAAQsL,KAAK6Q,UAAUuE,GAC5B9kB,KAAKolB,qBAAsB,IAInC1nB,EAAM2nB,mBAAqB,SAAUtQ,EAAM3Q,GACvC,GAAI0gB,GAAWpV,KAAKC,MAAM3P,KAAKoE,MAC/B0gB,GAAS/P,GAAQ3Q,EACjBpE,KAAKslB,kBAAoB5V,KAAK6Q,UAAUuE,IAG5CpnB,EAAM6nB,wBAA0B,SAAUxQ,GACtC,GAAI+P,GAAWpV,KAAKC,MAAM3P,KAAKoE,aACxB0gB,GAAS/P,GAChB/U,KAAKslB,kBAAoB5V,KAAK6Q,UAAUuE,IAG5CpnB,EAAM8nB,0BAA4B,SAAUC,EAASC,GACjD,GAAIZ,GAAWpV,KAAKC,MAAM3P,KAAKoE,OAC3BuhB,EAAOb,EAASW,SACbX,GAASW,GAChBX,EAASY,GAAWC,EACpB3lB,KAAKslB,kBAAoB5V,KAAK6Q,UAAUuE,IAG5CpnB,EAAM2C,gBAAkB,WACpBlD,EAAOQ,UAAU0C,gBAAgBN,KAAKC,MAGtCA,KAAKolB,qBAAsB,EAC3BplB,KAAK4lB,kBAAoB,KACzB5lB,KAAK6lB,uBAAyB,MAGlCnoB,EAAM+C,iBAAmB,WACrB,GACiB4O,GADb3O,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,MACnDW,EAAOX,KACP8lB,EAAmB,SAAU3hB,GAC7BxD,EAAKukB,aAAa/gB,GAGtB,IAAIzD,EAuCA,IAtCAV,KAAK4lB,kBAAoB,GAAI7d,QAAOge,iBAAiB,SAAUC,GAC3DA,EAAU3P,QAAQ,SAAU4P,GACxB,GAAe,cAAXA,EAAE5nB,MACE4nB,EAAEziB,SAAW7C,EACb,GAAIslB,EAAEC,WAAWpW,OAAS,EACtB,IAAKT,EAAI,EAAGA,EAAI4W,EAAEC,WAAWpW,OAAQT,IAC7B4W,EAAEC,WAAW7W,YAAcpT,qBAAoBC,OAAOC,SAASiG,kBAAoB,GAAoC,aAA5B6jB,EAAEC,WAAW7W,GAAGwD,SAC3GlS,EAAKwlB,WAAWF,EAAEC,WAAW7W,QAGlC,IAAI4W,EAAEG,aAAatW,OAAS,EAC/B,IAAKT,EAAI,EAAGA,EAAI4W,EAAEG,aAAatW,OAAQT,IAAK,CACxC,GAAIgX,GAAUJ,EAAEG,aAAa/W,EAC7B,IAAIgX,YAAmBpqB,qBAAoBC,OAAOC,SAASiG,kBAAoB,GAA4B,aAApBikB,EAAQxT,SAA0ErS,SAAhD6lB,EAAQzT,YAAYmS,wBAAuC,CAChL,GAAIuB,GAAYD,EAAQzT,YAAYmS,wBAAwBuB,SAC5DD,GAAQE,oBAAoBD,EAAWR,GACvCnlB,EAAK4kB,wBAAwBc,EAAQrB,eAC9BqB,aAAmBpqB,qBAAoBC,OAAOC,SAASiG,kBAAoB,GAA4B,aAApBikB,EAAQxT,SAC7D,OAAjCwT,EAAQG,uBAC+C,kBAA5CH,GAAQG,qBAAqBC,YACpCJ,EAAQG,qBAAqBC,aAGjCJ,EAAQG,qBAAuB,WAWxBhmB,SAAnCR,KAAK4lB,kBAAkBc,SACvB1mB,KAAK4lB,kBAAkBc,QAAQ1mB,MAAQ2mB,WAAW,EAAMC,YAAY,EAAOC,SAAS,IAGnFxX,EAAI,EAAGA,EAAIrP,KAAK+F,WAAW+J,OAAQT,IAAK,CACzC,GAAInS,GAAQ8C,KAAK+F,WAAWsJ,EACxBnS,aAAiBjB,qBAAoBC,OAAOC,SAASiG,kBAAoB,GAA0B,aAAlBlF,EAAM2V,SACvFlS,EAAKwlB,WAAWjpB,GAK5B,MAAOwD,IAGXhD,EAAM4D,iBAAmB,WACrB,GAAI+N,EAWJ,KAVAlS,EAAOQ,UAAU2D,iBAAiBvB,KAAKC,MAER,OAA3BA,KAAK4lB,oBAC4C,kBAAtC5lB,MAAK4lB,kBAAkBa,YAC9BzmB,KAAK4lB,kBAAkBa,aAG3BzmB,KAAK4lB,kBAAoB,MAGxBvW,EAAI,EAAGA,EAAIrP,KAAK+F,WAAW+J,OAAQT,IAAK,CACzC,GAAInS,GAAQ8C,KAAK+F,WAAWsJ,EACxBnS,aAAiBjB,qBAAoBC,OAAOC,SAASiG,kBAAoB,GAA0B,aAAlBlF,EAAM2V,SACpD,OAA/B3V,EAAMspB,uBAC+C,kBAA1CtpB,GAAMspB,qBAAqBC,YAClCvpB,EAAMspB,qBAAqBC,aAG/BvpB,EAAMspB,qBAAuB,QAM7C9oB,EAAM2D,gBAAkB,SAAUnB,GAG9B,OAFA/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,GAEpCA,GACJ,IAAK,QACkB,OAAfF,KAAKoE,OAAkBpE,KAAKolB,uBAAwB,GACpDplB,KAAK8mB,sBASrBppB,EAAMopB,kBAAoB,WACtB,GAAIzX,GAAI,EACJyV,EAAWpV,KAAKC,MAAM3P,KAAKoE,MAC/B,KAAKiL,EAAI,EAAGA,EAAIrP,KAAK+F,WAAW+J,OAAQT,IAAK,CACzC,GAAInS,GAAQ8C,KAAK+F,WAAWsJ,EAC5B,IAAInS,YAAiBjB,qBAAoBC,OAAOC,SAASiG,kBAAoB,GAA0B,aAAlBlF,EAAM2V,SAAwErS,SAA9CtD,EAAM0V,YAAYmS,wBAAuC,CAC1K,GAAIgC,GAAa7pB,EAAM0V,YAAYmS,wBAAwB7kB,YACzBM,UAA9BskB,EAAS5nB,EAAM8nB,aACfhlB,KAAKolB,qBAAsB,EAC3BplB,KAAKgnB,SAAS9pB,EAAO6pB,EAAYjC,EAAS5nB,EAAM8nB,YAChDhlB,KAAKolB,qBAAsB,MAM3C1nB,EAAMyoB,WAAa,SAAU1O,GACzB,GAAI9W,GAAOX,IACQ,MAAfyX,EAAMvR,MACNlG,KAAKinB,YAAYxP,EAAO,MAGOjX,SAA/BiX,EAAM+O,uBACN/O,EAAM+O,qBAAuB,GAAIze,QAAOge,iBAAiB,SAAUC,GAC/DA,EAAU3P,QAAQ,SAAU4P,GACT,eAAXA,EAAE5nB,MACE4nB,EAAEziB,SAAWiU,GAA6B,SAApBwO,EAAEiB,eACxBvmB,EAAKsmB,YAAYxP,EAAOwO,EAAEkB,cAMC3mB,SAAvCiX,EAAM+O,qBAAqBE,SAC3BjP,EAAM+O,qBAAqBE,QAAQjP,GAASkP,WAAW,EAAOC,YAAY,EAAMC,SAAS,MAKrGnpB,EAAMupB,YAAc,SAAUxP,EAAO0P,GACjC,GAEI9X,GAFAnJ,EAAOuR,EAAMvR,KACbkhB,EAAY3P,EAAM/T,YAElB/C,EAAOX,KACP8lB,EAAmB,SAAU3hB,GAC7BxD,EAAKukB,aAAa/gB,GAGtB,KAAKkL,EAAI,EAAGA,EAAIrP,KAAK+F,WAAW+J,OAAQT,IAAK,CACzC,GAAInS,GAAQ8C,KAAK+F,WAAWsJ,EAC5B,IAAInS,EAAMmqB,UAAYD,EAAW,CAE7B,GADAlqB,EAAM8nB,UAAY9e,EACgC1F,SAA9CtD,EAAM0V,YAAYmS,wBAAuC,CACzD,GAAI7kB,GAAehD,EAAM0V,YAAYmS,wBAAwB7kB,aACzDomB,EAAYppB,EAAM0V,YAAYmS,wBAAwBuB,SACzC,QAAba,EACAnnB,KAAKqlB,mBAAmBnf,EAAMlG,KAAKilB,SAAS/nB,EAAOgD,IAEnDF,KAAKwlB,0BAA0B2B,EAAUjhB,GAGR1F,SAAjCtD,EAAMoqB,yBACNpqB,EAAM+D,iBAAiBqlB,EAAWR,GAClC5oB,EAAMoqB,wBAAyB,GAIvC,SAKZ5pB,EAAMunB,SAAW,SAAUpjB,EAAS3B,GAChC,GAAIkE,GAAQvC,EAAQ3B,GAChBqnB,EAAiB7C,EAAiB8C,YAAY3lB,EAASuC,EAC3D,OAAOmjB,IAGX7pB,EAAMspB,SAAW,SAAUnlB,EAAS3B,EAAckE,GAC9C,GAAImjB,GAAiB7C,EAAiB+C,QAAQ5lB,EAASuC,EACvDvC,GAAQ3B,GAAgBqnB,GAG5B7pB,EAAMoE,kBAAkBpE,EAAO,aAAc,kBAC/CzB,oBAAoBC,OAAOC,SAASsoB,QAASxoB,oBAAoBC,OAAOC,SAAS4G,QC7QnF9G,oBAAoBC,OAAOC,SAASurB,YAAc,WAC9C,cAMH,SAAUxqB,EAAOC,GACd,YAEA,IAAIC,GAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,UACxCknB,EAAmBzoB,oBAAoBC,OAAOqL,gBAAgBod,qBAElEpnB,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,UAGdgqB,GAAkB,WAAY,aAAc,aAAc,YAAa,QAAS,SAAU,OAAQ,OAQlGC,EAA4B,SAAU/lB,EAASgmB,EAAmBC,GAClE,GAAgEzY,GAAG0Y,EAAGC,EAAlE1G,EAAWzf,EAAQgR,QAAS1V,EAAS0E,EAAQyV,aACjD,IAAIna,YAAkBlB,qBAAoBC,OAAOC,SAASsoB,QAAS,CAE/D,IADAsD,EAAI,EACC1Y,EAAI,EAAGA,EAAIlS,EAAO4I,WAAW+J,SAC9BkY,EAAU7qB,EAAO4I,WAAWsJ,GACxB2Y,IAAYnmB,GAFsBwN,IAI3B2Y,EAAQnV,UAAYhR,EAAQgR,SACnCkV,GAIRzG,GAAWA,EAAW,gBAAkByG,EAAI,IAehD,MAZKF,IAA6CrnB,SAAxBqB,EAAQ6B,cAC9B4d,EAAWA,EAAW,mBAAsBzf,EAAQ6B,YAAc,MAGlE7B,YAAmB5F,qBAAoBC,OAAOC,SAASurB,aAAeI,KAAkB,IACpFD,EACAvG,GAAsB,6EAEtBA,EAAWA,EAAW,0BAA4Bzf,EAAQ4C,aAAahB,IAIxE6d,GAMP2G,EAAgC,SAAUC,EAAaC,GAIvD,IAHA,GACI7G,GADA8G,KAA2BJ,EAAUG,EAGlCH,IAAYE,GAA2B,OAAZF,GAC9BI,EAAqBlY,KAAK8X,GAC1BA,EAAUA,EAAQ1Q,aAGtB,IAAgB,OAAZ0Q,EACA,MAAO,KAKX,KAFA1G,EAAWsG,EAA0BM,GAAa,EAAuC,IAAhCE,EAAqBtY,QAEvEsY,EAAqBtY,OAAS,GACjCkY,EAAUI,EAAqBC,MAC/B/G,EAAWA,EAASgH,OAAO,MAAOV,EAA0BI,GAAS,EAAsC,IAAhCI,EAAqBtY,QAGpG,OAAOwR,GAIX5jB,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,QACdC,aAAc,KACd0E,yBAAyB,EACzB+f,sBAAsB,EACtB9f,wBAAwB,IAG5BpH,EAAMuC,YAAYH,GACdI,aAAc,aACdC,aAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,cACdC,aAAc,eAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,mBACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,kBACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,8BACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,gCACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,cACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,iBACdC,aAAc,SAItBzC,EAAMuqB,8BAAgC,SAAUE,GAC5C,MAAOF,GAA8BjoB,KAAMmoB,IAG/CzqB,EAAM6qB,wBAA0B,SAAUC,GACtC,GAAIC,GAAUpZ,EAAGqZ,EAAWC,EAAUC,EAClCtmB,EAAQkmB,EAAYlmB,MACpBC,EAASimB,EAAYjmB,MAEzB,IAAID,IAAUtC,KAAK6oB,eAAiBtmB,IAAWvC,KAAK8oB,eAgBpD,IAZA9oB,KAAK6oB,cAAgBvmB,EACrBtC,KAAK8oB,eAAiBvmB,EAEtBomB,EAAWrmB,EAAQ,KACnBsmB,EAAYrmB,EAAS,KAErBvC,KAAK+oB,QAAQ/oB,KAAKgpB,gBAAgBtlB,aAAapB,MAAQqmB,EACvD3oB,KAAK+oB,QAAQ/oB,KAAKgpB,gBAAgBtlB,aAAanB,OAASqmB,EAExDxrB,EAAE4C,KAAKyE,cAAcwkB,SAAS,gBAAiB3mB,EAAOC,GAEtDkmB,EAAW1qB,SAASmrB,iBAAiBtB,EAA0B5nB,MAAM,IAChEqP,EAAI,EAAGA,EAAIoZ,EAAS3Y,OAAQT,IAC7BqZ,EAAYD,EAASpZ,GAAG3K,kBACxBgkB,EAAUrlB,MAAMf,MAAQqmB;AACxBD,EAAUrlB,MAAMd,OAASqmB,GAIjClrB,EAAMyrB,cAAgB,SAAUnf,GACxBhK,KAAKopB,sBAAuB,IAIhCppB,KAAKopB,oBAAqB,EAI1BppB,KAAKqpB,WAAqB,OAARrf,EAAeA,KAE7BhK,KAAKspB,YACLtpB,KAAKwB,cAAc,GAAIC,aAAY,iBAC/BC,SAAS,EACTC,YAAY,EACZC,QAAUwC,MAAO4F,MAEQ,OAAtBhK,KAAKyE,cACZrH,EAAE4C,KAAKyE,cAAcwkB,UAAW7kB,MAAOpE,KAAKqpB,aAGhDrpB,KAAKopB,oBAAqB,IAG9B1rB,EAAM6rB,cAAgB,WAClB,MAAOvpB,MAAKqpB,YAGhB3rB,EAAM2C,gBAAkB,WACpB,GAAIM,GAAOX,IACX7C,GAAOQ,UAAU0C,gBAAgBN,KAAKC,MAGtCA,KAAKyE,aAAe,KACpBzE,KAAKqpB,WAAa3Z,KAAKC,MAAM3P,KAAKoE,OAClCpE,KAAK+oB,WACL/oB,KAAKgpB,gBAAkB,KACvBhpB,KAAKwpB,iBAAmB,KACxBxpB,KAAKypB,0BAA4B,KACjCntB,OAAOotB,eAAe1pB,KAAM,eACxB2pB,cAAc,EACdC,YAAY,EACZC,IAAK,WACD,OAASvnB,MAAOtC,KAAK6oB,cAAetmB,OAAQvC,KAAK8oB,iBAErDgB,IAAK,SAAU1lB,GACXzD,EAAK4nB,wBAAwBnkB,MAGrCpE,KAAK+pB,KAAO,EACZ/pB,KAAKgqB,QAAU,EAEfhqB,KAAKspB,aAAc,EACnBtpB,KAAKopB,oBAAqB,EAC1BppB,KAAKiqB,+BAAgC,EACrCjqB,KAAK6oB,cAAgB,EACrB7oB,KAAK8oB,eAAiB,EACtB9oB,KAAKkqB,kBAGTxsB,EAAMysB,eAAiB,SAAUC,GACzBA,EAEAhtB,EAAE4C,KAAKyE,cAAcwkB,UACjB5qB,KAAM,OACNgsB,WAAYrqB,KAAKqqB,WACjBC,aAActqB,KAAKuqB,iBACnBC,iBAAkBxqB,KAAKyqB,kBAG3BrtB,EAAE4C,KAAKyE,cAAcwkB,UACjB3mB,MAAQtC,KAAKqD,MAAMf,MACnBC,OAASvC,KAAKqD,MAAMd,OACpBlE,KAAM,OACNgsB,WAAYrqB,KAAKqqB,WACjBC,aAActqB,KAAKuqB,iBACnBC,iBAAkBxqB,KAAKyqB,mBAKnC/sB,EAAMmF,YAAc,SAAUC,GAC1B3F,EAAOQ,UAAUkF,YAAY9C,KAAKC,KAAM8C,GACX,OAAzB9C,KAAKgpB,iBACL5rB,EAAE4C,KAAKyE,cAAcwkB,UACjB3mB,MAAOQ,EAAKR,MAAQ,KACpBC,OAAQO,EAAKP,OAAS,QAKlC7E,EAAM+C,iBAAmB,WACrB,GAAIC,GAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KAEvD,IAAIU,EAAW,CACX,GAAiB2O,GAAbqb,EAAO,KACP/pB,EAAOX,IAIX,KAFAA,KAAK2qB,sBAEAtb,EAAI,EAAGA,EAAIrP,KAAK+F,WAAW+J,OAAQT,IACpC,GAAmC,aAA/BrP,KAAK+F,WAAWsJ,GAAGwD,QAAwB,CAC3C6X,EAAO1qB,KAAK+F,WAAWsJ,EACvB,OAIRrP,KAAKyE,aAAe1G,SAASC,cAAc,OAC3CgC,KAAKzB,YAAYyB,KAAKyE,cACT,OAATimB,EACIA,YAAgBzuB,qBAAoBC,OAAOC,SAASiG,iBAAmBhF,EAAEstB,GAAMpoB,QAAU,GAAKlF,EAAEstB,GAAMnoB,SAAW,EACjHvC,KAAK4qB,YAAYF,GAEjB3iB,OAAO8iB,sBAAsB,WACzBlqB,EAAKiqB,YAAYF,KAIzB1qB,KAAKmqB,gBAAe,EAGxB,IAAIX,GAAmB,GAAIzhB,QAAOge,iBAAiB,SAAUC,GACzDA,EAAU3P,QAAQ,SAAU4P,GACT,cAAXA,EAAE5nB,MACE4nB,EAAEziB,SAAW7C,IACb6oB,EAAiB/C,aACW,IAAxBR,EAAEC,WAAWpW,QAAgBmW,EAAEC,WAAW,YAAcjqB,qBAAoBC,OAAOC,SAASiG,kBAAoB,GAAoC,aAA5B6jB,EAAEC,WAAW,GAAGrT,SACxI6X,EAAOzE,EAAEC,WAAW,GACpB9oB,EAAEstB,GAAM5kB,SAAS,kBACjBnF,EAAKiqB,YAAYF,IACVzE,EAAEG,aAAatW,OAAS,GAAKmW,EAAEG,aAAa,YAAcnqB,qBAAoBC,OAAOC,SAASiG,kBAAoB,IACzHzB,EAAKqoB,gBAAkB,KACvBroB,EAAKwpB,gBAAe,IAGS3pB,SAA7BgpB,EAAiB9C,SACjB8C,EAAiB9C,QAAQ/lB,GAAQgmB,WAAW,EAAMC,YAAY,EAAOC,SAAS,QAOjErmB,UAA7BgpB,EAAiB9C,SACjB8C,EAAiB9C,QAAQ1mB,MAAQ2mB,WAAW,EAAMC,YAAY,EAAOC,SAAS,IAGlF7mB,KAAKwpB,iBAAmBA,EAExBpsB,EAAE4C,KAAKyE,cAAc+E,GAAG,SAAU,WAC9B7I,EAAK2oB,aAAc,EACnB3oB,EAAKwoB,cAAc/rB,EAAEuD,EAAK8D,cAAcuF,OACxCrJ,EAAK2oB,aAAc,IAEvBlsB,EAAE4C,KAAKyE,cAAc+E,GAAG,SAAU,WAC9B,GAAIia,GAAUrmB,EAAEuD,EAAK8D,cAAcwkB,SAAS,mBACxChU,GACAvT,SAAS,EACTC,YAAY,EACZC,QACI6hB,QAASA,EACTzO,eAAgBhV,KAAKyE,cAG7B9D,GAAKa,cAAc,GAAIC,aAAY,iBAAkBwT,MAI7D,MAAOvU,IAGXhD,EAAM4D,iBAAmB,WACrBnE,EAAOQ,UAAU2D,iBAAiBvB,KAAKC,MAET,OAA1BA,KAAKwpB,mBAC2C,kBAArCxpB,MAAKwpB,iBAAiB/C,YAC7BzmB,KAAKwpB,iBAAiB/C,aAG1BzmB,KAAKwpB,iBAAmB,MAG5BxpB,KAAKgpB,gBAAkB,MAG3BtrB,EAAMotB,mBAAqB,SAAUC,EAASL,EAAMM,GAChD,GAAI3b,GAAGuC,EAAGmX,CA0BV,KAzBAgC,EAAQrnB,YAAcnG,EAAW6V,WACjC2X,EAAQE,uBAAwB,EAChCF,EAAQte,SAAU,EAClBsc,EAAU/oB,KAAK+oB,QAAQ2B,EAAKhnB,aACZlD,SAAZuoB,IACAA,EAAU3rB,EAAEstB,GAAMtrB,IAAIuoB,GACtB3nB,KAAK+oB,QAAQ2B,EAAKhnB,aAAeqlB,GAGrCgC,EAAQ1nB,MAAMf,MAAQymB,EAAQzmB,MAC9ByoB,EAAQ1nB,MAAMd,OAASwmB,EAAQxmB,OAC/BwoB,EAAQ1nB,MAAM6nB,QAAU,eACpBF,GACAD,EAAQ1nB,MAAM6Q,KAAO6U,EAAQ7U,KAC7B6W,EAAQ1nB,MAAM0Q,IAAMgV,EAAQhV,MAE5BgX,EAAQ1nB,MAAM6Q,KAAO,GACrB6W,EAAQ1nB,MAAM0Q,IAAM,IAGxBgX,EAAQ1nB,MAAMJ,SAAW8lB,EAAQ9lB,SACjC8nB,EAAQ1nB,MAAMH,WAAa6lB,EAAQ7lB,WACnC6nB,EAAQ1nB,MAAMF,WAAa4lB,EAAQ5lB,WACnC4nB,EAAQ1nB,MAAMD,UAAY2lB,EAAQ3lB,UAClCwO,EAAI,EACCvC,EAAI,EAAGA,EAAIqb,EAAK3kB,WAAW+J,OAAQT,IAChCqb,EAAK3kB,WAAWsJ,YAAcpT,qBAAoBC,OAAOC,SAASiG,kBAAoB,GAAkC5B,SAA1BuqB,EAAQhlB,WAAW6L,KACjH5R,KAAK8qB,mBAAmBC,EAAQhlB,WAAW6L,GAAI8Y,EAAK3kB,WAAWsJ,IAAI,GAEhC,aAA/Bqb,EAAK3kB,WAAWsJ,GAAGwD,UACnB7S,KAAKkqB,cAAcQ,EAAK3kB,WAAWsJ,GAAG3L,aAAeqnB,EAAQhlB,WAAW6L,GAAGlO,aAG/EkO,MAKZlU,EAAMytB,eAAiB,SAAUT,GAC7B,GAAIrb,GAAGoI,CACP,IAAIiT,YAAgBzuB,qBAAoBC,OAAOC,SAASiG,kBAAoB,EACxE,MAAO,KAGX,KAAKiN,EAAI,EAAGA,EAAIqb,EAAK3kB,WAAW+J,OAAQT,IACD,aAA/Bqb,EAAK3kB,WAAWsJ,GAAGwD,UACnB4E,EAAQzX,KAAKkqB,cAAcQ,EAAK3kB,WAAWsJ,GAAGgY,SAChC7mB,SAAViX,IACAA,EAAQ,IAGZiT,EAAK3kB,WAAWsJ,GAAGgY,QAAU5P,EAC7BzX,KAAKmrB,eAAeT,EAAK3kB,WAAWsJ,MAKhD3R,EAAM0tB,cAAgB,SAAUV,GAC5B,GAAIA,YAAgBzuB,qBAAoBC,OAAOC,SAASiG,kBAAoB,EACxE,MAAO,KAGX,IAAIipB,GAAUX,EAAKY,WAAU,EAI7B,IADAD,EAAQE,cAAuC/qB,SAAvBkqB,EAAKa,cAA8Bb,EAAKa,cAAgBb,EAAKhnB,YACjFgnB,EAAK3kB,WAAW+J,OAAS,EACzB,IAAK,GAAIT,GAAI,EAAGA,EAAIqb,EAAK3kB,WAAW+J,OAAQT,IAAK,CAC7C,GAAImc,GAAYxrB,KAAKorB,cAAcV,EAAK3kB,WAAWsJ,GACjC,QAAdmc,GACAH,EAAQ9sB,YAAYitB,GAKhC,MAAOH,IAGX3tB,EAAM+tB,kBAAoB,SAAUC,GAChC,GAAIC,GAAavuB,EAAEsuB,GAAoBtsB,IAAIuoB,EAC3C3nB,MAAK+oB,QAAQ2C,EAAmBhoB,aAAeioB,GAGnDjuB,EAAMkuB,cAAgB,SAAUC,GAC5B,GAAIC,GAAG3b,EAAG4b,EAAMprB,EAAOX,KAEnBgsB,EAAe,SAAUF,EAAG3b,GAC5B,GAAInG,GAAKiiB,CAET,IADAF,EAAO3uB,EAAEuD,EAAK8D,cAAcwkB,SAAS,aAAc6C,EAAG3b,GACzC,OAAT4b,GAA0BvrB,SAATurB,EAAoB,CAGrC,IAFAE,EAAe7uB,EAAE2uB,GACjB/hB,EAAM5M,EAAEuD,EAAK8D,cAAcwkB,SAAS,kBAAmBgD,GAAgBrY,EAAGzD,EAAG0D,EAAGiY,IACzEC,EAAKG,iBACRH,EAAK5f,YAAY4f,EAAKI,UAG1B/uB,GAAEuD,EAAK8D,cAAcwkB,SAAS,kBAAmBgD,GACjD7uB,EAAEuD,EAAK8D,cAAcwkB,SAAS,kBAAmBjf,EAAKiiB,GAAgBrY,EAAGzD,EAAG0D,EAAGiY,KAIvF,IAAID,EACA,IAAKC,EAAI,EAAGA,EAAI9rB,KAAK+pB,KAAM+B,IACvB,IAAK3b,EAAI,EAAGA,EAAInQ,KAAKgqB,QAAS7Z,IAC1B6b,EAAaF,EAAG3b,OAGO3P,UAAxBR,KAAKosB,gBAAqD5rB,SAArBR,KAAKqsB,aACjDL,EAAahsB,KAAKqsB,YAAarsB,KAAKosB,eAGxCrkB,QAAO8iB,sBAAsB,WACzBlqB,EAAK2rB,uBAIb5uB,EAAMktB,YAAc,SAAUF,GAC1B,GAMIiB,GANAhrB,EAAOX,KACP4S,EAAc8X,EAAK9X,YACnB1S,EAAe0S,EAAYmS,wBAAwB7kB,aACnDomB,EAAY1T,EAAYmS,wBAAwBuB,UAChDiG,EAA2B3Z,EAAYmS,wBAAwByH,yBAC/DrsB,EAAeuqB,EAAKxqB,EAExBwqB,GAAKrnB,MAAM6Q,KAAO,MAClBwW,EAAKrnB,MAAM0Q,IAAM,MACjB2W,EAAKrnB,MAAM6nB,QAAU,OAErBR,EAAKrD,QAAU,GACfrnB,KAAKgpB,gBAAkB0B,EAEFlqB,SAAjBL,IACAA,EAAeukB,EAAiB8C,YAAYkD,EAAMvqB,IAGtDH,KAAK+oB,WACL4C,EAAavuB,EAAEstB,GAAMtrB,IAAIuoB,GACzB3nB,KAAK+oB,QAAQ2B,EAAKhnB,aAAeioB,EAEjC3rB,KAAK6oB,cAAgBjmB,SAAS+oB,EAAWrpB,OACzCtC,KAAK8oB,eAAiBlmB,SAAS+oB,EAAWppB,QAE1CnF,EAAE4C,KAAKyE,cAAcwkB,UACjBwD,aAAczsB,KAAK6oB,cACnB6D,cAAe1sB,KAAK8oB,eACpB6D,gBAAiB,SAAUC,GACvBjsB,EAAKupB,gBACL,IAAIa,GAAUpqB,EAAKyqB,cAAcV,GAC7B9iB,EAAaglB,EAAI,GACjBjB,EAAahrB,EAAKooB,QAAQ2B,EAAKhnB,YACnC/C,GAAKmqB,mBAAmBC,EAASL,GAAM,GACvC/pB,EAAKwqB,eAAeJ,GACpBnjB,EAAWvE,MAAMf,MAAQqpB,EAAWrpB,MACpCsF,EAAWvE,MAAMd,OAASopB,EAAWppB,OACrCqF,EAAWrJ,YAAYwsB,GACvB3tB,EAAE2tB,GAASvhB,GAAG8c,EAAW,SAAU7c,GAC3BA,EAAMojB,cAAc1H,aAAe4F,GAAWthB,EAAMojB,cAAc1H,aAAe1b,EAAMojB,cAAcrpB,SAChGopB,EAAIE,eACLF,EAAI1gB,QAAQ,cAK5B6gB,eAAgB,SAAUC,EAAU5oB,EAAO6oB,GACtB,UAAbD,EACAC,EAAQ7tB,KAAMkD,MAAO8B,IACD,WAAb4oB,EACPC,EAAQ7tB,KAAMmD,OAAQ6B,IACF,aAAb4oB,GACPC,EAAQ7tB,KAAMuG,SAAUvB,KAGhC8oB,gBAAiB,SAAUN,EAAKvC,GAE5B,GAAIxoB,GAAU+qB,EAAI,GAAGloB,kBACjBsF,EAAMnI,EAAQ3B,EAClB,OAAYM,UAARwJ,EACO0a,EAAiB8C,YAAY3lB,EAASmI,GAG1CA,GAEXmjB,gBAAiB,SAAU/oB,EAAOwoB,EAAKvC,GAEnC,GAAc7pB,SAAV4D,EAAqB,CACrB,GAAIvC,GAAU+qB,EAAI,GAAGloB,iBACrB7C,GAAQ0qB,GAA4B7H,EAAiB+C,QAAQ5lB,EAASuC,KAG9E/F,KAAM,SACNgsB,WAAYrqB,KAAKqqB,WACjBC,aAActqB,KAAKuqB,iBACnBC,iBAAkBxqB,KAAKyqB,gBACvB2C,wBAAyBptB,KAAKqtB,8BAC9BC,sBAAuBttB,KAAKutB,4BAC5BC,yBAA0BrtB,EAC1BiE,MAAOzD,EAAK0oB,aAMhBjsB,EAAE4C,KAAKyE,cAAcwkB,UACjBc,KAAM/pB,KAAK+pB,KACXC,QAAShqB,KAAKgqB,SAIlB,IAAIrlB,GAAQvH,EAAE4C,KAAKyE,aACnBE,GAAMmB,SAAS,uBACfnB,EAAMkF,KAAK,uBAAuB/D,SAAS,kBAC3CnB,EAAMkF,KAAK,uBAAuB/D,SAAS,iBAC3CnB,EAAMkF,KAAK,wBAAwB/D,SAAS,gBAC5CnB,EAAMkF,KAAK,uBAAuB/D,SAAS,kBAC3CnB,EAAMkF,KAAK,uBAAuB/D,SAAS,qBAC3CnB,EAAMkF,KAAK,yBAAyB/D,SAAS,qBAE7C9F,KAAKssB,qBAGT5uB,EAAM2D,gBAAkB,SAAUnB,GAG9B,OAFA/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,GAEpCA,GACJ,IAAK,aACD9C,EAAE4C,KAAKyE,cAAcwkB,UAAWoB,WAAYrqB,KAAKqqB,YACjD,MACJ,KAAK,mBACDjtB,EAAE4C,KAAKyE,cAAcwkB,UAAWqB,aAActqB,KAAKuqB,kBACnD,MACJ,KAAK,kBACDntB,EAAE4C,KAAKyE,cAAcwkB,UAAWuB,iBAAkBxqB,KAAKyqB,iBACvD,MACJ,KAAK,8BACDrtB,EAAE4C,KAAKyE,cAAcwkB,UAAWqE,sBAAuBttB,KAAKutB,6BAC5D,MACJ,KAAK,gCACDnwB,EAAE4C,KAAKyE,cAAcwkB,UAAWmE,wBAAyBptB,KAAKqtB,+BAC9D,MACJ,KAAK,cACD,KACJ,KAAK,cACDrtB,KAAKssB,mBACL,MACJ,KAAK,iBACDtsB,KAAKytB,yBAOjB/vB,EAAM4uB,kBAAoB,WACtB,GAAI7I,GAASpU,EAAGqe,EAASC,EAASC,EAAe9B,EAAG3b,CAEpD,IAA6B,OAAzBnQ,KAAKgpB,gBAIT,GAAgC,gBAArBhpB,MAAK6tB,aAA4B7tB,KAAK6tB,YAAY/d,OAAS,IAClE2T,EAAUzjB,KAAK6tB,YAAYzN,MAAM,KACV,IAAnBqD,EAAQ3T,QAFhB,CASQ,GANAgc,EAAIlpB,SAAS6gB,EAAQ,IACrBtT,EAAIvN,SAAS6gB,EAAQ,IACrBzjB,KAAKqsB,YAAcP,EACnB9rB,KAAKosB,eAAiBjc,EAEtBud,EAAUtwB,EAAE4C,KAAKyE,cAAcwkB,SAAS,aAAc6C,EAAG3b,GACzC3P,SAAZktB,GAAqC,OAAZA,EAGzB,MAIJ,KADAC,EAAUD,EAAQxE,iBAAiB,mBAC9B7Z,EAAI,EAAGA,EAAIse,EAAQ7d,OAAQT,IACK7O,SAA7BmtB,EAAQte,GAAGkc,gBACXqC,EAAgB7vB,SAAS+vB,cAAc,mBAAsBH,EAAQte,GAAGkc,cAAgB,MAClE,OAAlBqC,IACAA,EAAcG,kBAAoBJ,EAAQte,GAAG3L,kBAajE,KAJA1D,KAAKqsB,YAAc7rB,OACnBR,KAAKosB,eAAiB5rB,OACtBmtB,EAAUvc,MAAMzT,UAAUqwB,MAAMjuB,KAAKC,KAAKgpB,gBAAgBE,iBAAiB,oBAC3EyE,EAAQzd,KAAKlQ,KAAKgpB,iBACb3Z,EAAI,EAAGA,EAAIse,EAAQ7d,OAAQT,IAC5Bse,EAAQte,GAAG0e,kBAAoBvtB,QAIvC9C,EAAMitB,oBAAsB,WACxB,GAAIlH,EAC+B,iBAAxBzjB,MAAKiuB,gBAA+BjuB,KAAKiuB,eAAene,OAAS,IACxE2T,EAAUzjB,KAAKiuB,eAAe7N,MAAM,KACb,IAAnBqD,EAAQ3T,SACR9P,KAAK+pB,KAAOnnB,SAAS6gB,EAAQ,IAC7BzjB,KAAKgqB,QAAUpnB,SAAS6gB,EAAQ,OAK5C/lB,EAAM+vB,qBAAuB,WACzB,GAAIS,GAASC,CAEbnuB,MAAK2qB,sBAKwB,OAAzB3qB,KAAKgpB,kBAITkF,EAAU9wB,EAAE4C,KAAKyE,cAAcwkB,SAAS,QACxCkF,EAAa/wB,EAAE4C,KAAKyE,cAAcwkB,SAAS,WAEvCjpB,KAAK+pB,OAASmE,GAAWluB,KAAKgqB,UAAYmE,IACP,OAA/B/wB,EAAE4C,KAAKyE,cAAcuF,OAGrB5M,EAAE4C,KAAKyE,cAAcwkB,UAAW7kB,WAGpChH,EAAE4C,KAAKyE,cAAcwkB,UAAWc,KAAM/pB,KAAK+pB,KAAMC,QAAShqB,KAAKgqB,WAGnEhqB,KAAKssB,sBAGT5uB,EAAMoE,kBAAkBpE,EAAO,kBAAmB,sBACpDzB,oBAAoBC,OAAOC,SAASurB,YAAazrB,oBAAoBC,OAAOC,SAAS4G,QCprBvF9G,oBAAoBC,OAAOC,SAASiyB,SAAW,WAC3C,cAMH,SAAUlxB,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,UACxCJ,EAAInB,oBAAoBoB,QAAQC,OAChCgK,EAAoBrL,oBAAoBC,OAAOqL,gBAAgBC,qBAEnEjK,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,UAGd0wB,EAAqB,GACrBC,EAAe,MACfC,EAAuB,oBACvBC,EAAwB,sBACxBC,EAAyB,eACzBC,EAAoB,iBACpBC,EAAuB,YACvBC,EAA4B,yBAC5BC,EAAyB,eACzBC,EAAW,GAAI1xB,GAAE2xB,IAAIC,KAKrBC,EAAgB,WAChB,OAAO,GAGPC,EAAmB,SAAUC,GAC7B,GAAIA,EAAgBrf,OAAS,EAAG,CAC5B,GAAIjO,GAAUstB,EAAgB,EAC9B,IAA8B,SAA1BttB,EAAQwB,MAAM6nB,SAAmD,WAA7BrpB,EAAQwB,MAAM+rB,WAClD,MAAOvtB,GAAQwtB,aAIvB,MAAO,IAGPC,EAAoB,SAAUnuB,EAAOqJ,GAMrC,GAAI+kB,IAAYpuB,EAAQquB,KAAKC,MAAM,EAAItuB,GAASqJ,EAAO,KAAOA,EAAO,EACrE,QACIklB,QAASllB,EACT+kB,SAAUA,IAKdI,EAAsB,SAAUC,EAAUC,EAAKC,EAAQ1rB,EAAO2rB,GAC9D,GAAIC,GAA2B,gBAARH,GAAoBA,EAAMA,EAAII,aACjDC,EAA+B,gBAAXJ,GAAuBA,EAASA,EAAOI,UAC3DC,EAAYJ,EAAYrrB,iBAC5ByrB,GAAUC,aAAeJ,EACzBG,EAAUE,gBAAkBH,EAC5BI,EAAkBH,EAAUI,UAAUC,eAAeL,EAAW/rB,IAGhEqsB,EAAwB,SAAUb,EAAUC,EAAKC,EAAQ1rB,EAAO2rB,GAChE,IAAKA,EAAYrrB,kBAAmB,CAChC,GAAIgsB,GAAcZ,EAAOI,UACrBS,EAAWf,EAAS5F,QAAQ0G,GAC5B1H,EAAkB2H,EAASjsB,kBAC3BksB,EAAe5H,EAAgBuH,SAC/BM,EAAmBP,EAAkBM,GACrC7F,EAAU/B,EAAgBsC,WAAU,EAIxCP,GAAQroB,aAAa,QAAS,GAC9B,IAAIouB,EACJ/F,GAAQrnB,YAAcnG,EAAW6V,WACjC2X,EAAQqF,aAAeP,EAAII,aAC3BlF,EAAQsF,gBAAkBP,EAAOI,UACjCnF,EAAQE,uBAAwB,EAChCF,EAAQte,SAAU,EAClBse,EAAQ1nB,MAAMf,MAAQ,OACtByoB,EAAQ1nB,MAAMd,OAAS,OACvBuuB,EAAa/oB,OAAOsS,iBAAiB2O,GACrC+B,EAAQ1nB,MAAMJ,SAAW6tB,EAAW7tB,SACpC8nB,EAAQ1nB,MAAMH,WAAa4tB,EAAW5tB,WACtC6nB,EAAQ1nB,MAAMF,WAAa2tB,EAAW3tB,WACtC4nB,EAAQ1nB,MAAMD,UAAY0tB,EAAW1tB,UACrCytB,EAAiBL,eAAezF,EAAS3mB,GACzC2rB,EAAYxxB,YAAYwsB,GACwB,kBAArC8F,GAAiBE,iBACxBF,EAAiBE,gBAAgBnB,EAAU7E,EAASgF,GAGjB,kBAA5Bc,GAAiB3d,SACxB6X,EAAQtqB,mBACRowB,EAAiB3d,OAAO6X,GAAWzoB,MAAOquB,EAASruB,MAAOC,OAAQqtB,EAASoB,sBAKnFC,EAAuB,SAAUrB,EAAUsB,GAC3CA,EAAUC,WAAa,SACvBD,EAAUE,aAAe,SAAUvB,EAAKC,EAAQ1rB,EAAO2rB,GACnDU,EAAsBb,EAAUC,EAAKC,EAAQ1rB,EAAO2rB,IAGxDmB,EAAUG,WAAa,SAAUxB,EAAKC,EAAQ1rB,EAAO2rB,GACjDJ,EAAoBC,EAAUC,EAAKC,EAAQ1rB,EAAO2rB,IAGtDmB,EAAUI,cAAgBrC,GAG1BsC,EAA0B,SAAUC,EAAWxnB,GAC/C,GAAIZ,GAAoBooB,EAAUpoB,kBAC9BH,EAAkBuoB,EAAUvoB,eAEhC,IAAyB,gBAArBuoB,EAAU9pB,OAKV,MAJsB,GAAlBuB,IACAA,EAAkBzI,QAGfsuB,EAAS2C,mBAAmBznB,EAAKwnB,EAAU9pB,OAAQuB,EAAiBG,EAG/E,IAAIA,GAAqB,EACrB,MAAOsoB,QAAO1nB,EAAI2nB,YAAYvoB,IAAoBhC,UAC/C,IAAI6B,GAAmB,EAC1B,MAAOe,GAAI4L,QAAQ3M,EAEnB,MAAM,IAAI2oB,OAAM,wEAIpBC,EAAqB,SAAUC,EAAYC,GAC3C,GAAIC,IAAQ,EACRC,EAAY,EACuBzxB,UAAnCsxB,EAAWI,sBACXD,EAAY,sBAAyBH,EAAWI,oBAAsB,IAG1E,IAAIC,GAAe,gCAAoCF,EAAY,GAiBnE,OAhBA70B,GAAEg1B,KAAKL,EAAe,SAAU/Z,EAAK5T,GACjC,GAAIotB,GAAYM,EAAW1O,MAAMpL,GAC7BP,EAAQ+Z,EAAU/Z,KACRjX,UAAViX,IACAA,EAAQ,IAGRua,EACAA,GAAQ,EAERG,GAAgB,SAGpBA,GAAgB,WAAa1a,EAAQ,cAAgB8Z,EAAwBC,EAAWptB,KAE5F+tB,GAAgB,UAMhBE,EAAqC,SAAUzC,EAAUE,GACzD,GAAIwC,GAAUC,EAAgB1B,EAAkB2B,EAC5CxJ,EAAkB8G,EAAOprB,iBAEL,QAApBskB,IAIJwJ,EAAkB1C,EAAOpa,MAAMtO,WAC/BypB,EAAmBP,EAAkBtH,EAAgBuH,UACrD+B,EAAW,GAAIvqB,QAAOge,iBAAiB,SAAUC,GAC7C,GAAIyM,EACqDjyB,UAArDqwB,EAAiB6B,kCACjBD,KACAzM,EAAU3P,QAAQ,SAAUsc,GACxB,GAAIC,GAAWD,EAASzL,aACP,QAAb0L,IACAH,EAAkBG,IAAY,KAGtC/B,EAAiB6B,gCAAgC9C,EAAUE,EAAQ2C,MAI3EF,GAAmB3L,YAAY,GAC/BkJ,EAAO+C,iCAAmCP,EACV,kBAArBA,GAAS5L,SAChB4L,EAAS5L,QAAQsC,EAAiBuJ,KAItCO,EAAwC,SAAUhD,GAClD,GAAIiD,GAAiBjD,EAAO+C,gCACLryB,UAAnBuyB,GAAsE,kBAA9BA,GAAetM,aACvDsM,EAAetM,aACfqJ,EAAO+C,iCAAmCryB,SAI9CwyB,EAA2C,SAAUpD,EAAUE,EAAQlJ,GACvE,GAEIkK,GAAY8B,EAAwCK,EAAiBlI,EAAS1b,EAF9EmjB,EAAkB1C,EAAOpa,MAAMtO,WAC/B4hB,EAAkB8G,EAAOprB,kBACHwuB,IAC1B,KAAKN,IAAYhM,GACTA,EAAWuM,eAAeP,KACT,UAAbA,EACA9B,EAAa1zB,EAAE4rB,GAAiB5pB,KAAK,WAAY,aAAc,aAAc,cACtE4pB,EAAgBoK,aAAaR,KACpCM,EAAwBN,GAAY5J,EAAgBvmB,aAAamwB,IAO7E,KAFAK,EAAkBrD,EAASjrB,MAAM,GAAGukB,iBAAiBF,EAAgBnW,SAEhExD,EAAI,EAAGA,EAAI4jB,EAAgBnjB,OAAQT,IAEpC,GADA0b,EAAUkI,EAAgB5jB,GACtB0b,EAAQsF,kBAAoBmC,EAC5B,IAAKI,IAAYhM,GACTA,EAAWuM,eAAeP,KACT,UAAbA,EACA7H,EAAQ/nB,QAAQ8tB,EAAW7tB,SAAU6tB,EAAW5tB,WAAY4tB,EAAW3tB,WAAY2tB,EAAW1tB,WACjD5C,SAAtC0yB,EAAwBN,GAC/B7H,EAAQroB,aAAakwB,EAAUM,EAAwBN,IAEvD7H,EAAQsI,gBAAgBT,KAQ5CU,EAAiC,SAAU1D,EAAU2D,GACrDA,EAActyB,iBAAiB,gBAAiB,SAAUwI,GACtD,GAAI+pB,GAAalsB,EAAkBuB,YAAYY,EAAM7H,OAAOwC,MAAOmvB,EAAc3sB,UACjFgpB,GAAS6D,4BAA4BF,EAAeC,MAIxDE,EAAyB,SAAU/wB,GAMTnC,SAAtBmC,EAAEiH,iBACFjH,EAAEiH,mBAIN+pB,EAAyB,SAAU9xB,EAASiB,GAC5CjB,EAAQL,cAAc,GAAIC,aAAY,mBAAqBG,OAAQkB,EAAMpB,SAAS,MAGlF4uB,IAEJA,GAAkB/B,IACdqF,iBAAkB3C,EAClBT,eAAgB,SAAUL,EAAW/rB,GACjC,GAAI/F,SAAc+F,EACL,YAAT/F,IACA8xB,EAAU0D,iBAAmBzvB,IAGrC0vB,gBAAiB,WACb,MAAO,IAEXpB,gCAAiCM,EACjCjC,gBAAiB,SAAUnB,EAAU2D,GACjCA,EAActyB,iBAAiB,eAAgB,SAAUkD,GACrDyrB,EAAS6D,4BAA4BF,EAAepvB,EAAIvC,OAAOsE,QAEnEqtB,EAActyB,iBAAiB,UAAWyyB,GAAwB,KAI1EpD,EAAkB9B,IACdoF,iBAAkB3C,EAClBT,eAAgB,SAAUL,EAAW/rB,GACjC+rB,EAAU7K,kBAAoBhe,EAAkBoC,QAAQtF,IAE5D8O,OAAQygB,EACRG,gBAAiB,SAAUC,GACvB,GAA8DntB,GAA1DotB,EAAgBD,EAAgBnN,WAAW,cAC3CzmB,GAAgBkG,YAAa,IAAKC,YAAa,EAKnD,OAJsB9F,UAAlBwzB,IACAptB,EAAYotB,EAAc5vB,OAGvBkD,EAAkBuB,YAAY1I,EAAcyG,IAEvD8rB,gCAAiCM,EACjCjC,gBAAiB,SAAUnB,EAAU2D,GACjCD,EAA+B1D,EAAU2D,GACzCA,EAActyB,iBAAiB,UAAWyyB,GAAwB,KAI1EpD,EAAkB7B,IACdmF,iBAAkB,SAAUhE,EAAUsB,GAClCA,EAAUC,WAAa,YAE3B2C,gBAAiB7E,GAGrBqB,EAAkB5B,IACdkF,iBAAkB3C,EAClBT,eAAgB,SAAUL,EAAW/rB,GACZ,iBAAVA,KACP+rB,EAAU7K,kBAAoBlhB,IAGtCsuB,gCAAiCM,EACjCjC,gBAAiB,SAAUnB,EAAU2D,GACjCA,EAAc9yB,mBACd8yB,EAActyB,iBAAiB,gBAAiB,SAAUwI,GACtDmmB,EAAS6D,4BAA4BF,EAAe9pB,EAAM7H,OAAOwC,UAGzE0vB,gBAAiB7E,EACjB/b,OAAQ,SAAUrR,EAASiB,GACvB,GAAImxB,GAAezE,KAAK1mB,IAAIhG,EAAKR,MAAOQ,EAAKP,QAAU,CACvDV,GAAQwB,MAAM6Q,MAASpR,EAAKR,MAAQ2xB,EAAe,GAAK,EAAK,KAC7DpyB,EAAQwB,MAAM0Q,KAAQjR,EAAKP,OAAS0xB,EAAe,GAAK,EAAK,KAC7DpyB,EAAQwB,MAAMf,MAAQ2xB,EAAe,KACrCpyB,EAAQwB,MAAMd,OAAS0xB,EAAe,OAI9C3D,EAAkB3B,IACdiF,iBAAkB3C,EAClBT,eAAgBF,EAAkB9B,GAAuBgC,eACzDsD,gBAAiBxD,EAAkB9B,GAAuBsF,gBAC1D5gB,OAAQ,SAAUrR,EAASiB,GACvB,GAAIoxB,IAAY5xB,MAAOQ,EAAKR,MAAQ,EAAGC,OAAQO,EAAKP,OACpDoxB,GAAuB9xB,EAASqyB,IAEpCxB,gCAAiCM,EACjCjC,gBAAiB,SAAUnB,EAAU2D,GACjCD,EAA+B1D,EAAU2D,KAIjDjD,EAAkB1B,IACdgF,iBAAkB3C,EAClBT,eAAgB,SAAUL,EAAW/rB,GACjC,GAAI/F,SAAc+F,EACL,YAAT/F,IACA8xB,EAAU7K,kBAAoBlhB,IAGtC0vB,gBAAiB,WACb,MAAO,IAEXpB,gCAAiCM,GAGrC1C,EAAkBzB,IACd+E,iBAAkB3C,EAClBT,eAAgB,SAAUL,EAAW/rB,GACjC,GAAI/F,SAAc+F,EACL,YAAT/F,IACA8xB,EAAUgE,0BAA4B/vB,IAG9C0vB,gBAAiB,WACb,MAAO,IAEX5gB,OAAQygB,EACRjB,gCAAiCM,EACjCjC,gBAAiB,SAAUnB,EAAU2D,GACjCA,EAActyB,iBAAiB,yBAA0B,SAAUkD,GAC/DyrB,EAAS6D,4BAA4BF,EAAepvB,EAAIvC,OAAO8gB,kBAM3E,IAAI0R,GAAuB,SAAUxE,GACjC,GAAIyE,GAAWj3B,EAAE,mCACbk3B,EAAgBl3B,EAAE,4DACtBi3B,GAAS/V,OAAOgW,GAChBD,EAAS/V,OAAOsR,EAAS2E,aAAe,KACxC,IAAIC,GAAYp3B,EAAE,oDAClBi3B,GAAS/V,OAAOkW,EAChB,IAAIC,GAAWr3B,EAAE,0CACjBq3B,GAASnW,OAAO+V,IACZzE,EAAShqB,UAAagqB,EAAS8E,qBAC/BD,EAAS,GAAGpxB,MAAM6nB,QAAU,QAGhC0E,EAASjrB,MAAM2Z,OAAOmW,GACtB7E,EAAS+E,kBAAoBF,EAC7BH,EAAcM,gBAAiBC,UAAW,SAAU1rB,cAAe,EAAGL,IAAK,EAAG1E,MAAO,IACrFkwB,EAAc,GAAGjxB,MAAMf,MAAQ,OAC/BgyB,EAAc,GAAG5vB,kBAAkBrB,MAAMf,MAAQ,OACjDgyB,EAAcxuB,SAAS,+BACvBwuB,EAAczqB,KAAK,UAAU/D,SAAS,2BACtC0uB,EAAU,GAAGpwB,MAAQwrB,EAASkF,mBAC9BN,EAAUrT,WAAY7e,MAAO,OAC7BkyB,EAAU1uB,SAAS,sBACnB0uB,EAAUhrB,GAAG,QAAS,WACKhJ,SAAnBovB,EAASjrB,QAIbirB,EAASmF,aAAaT,EAAcM,eAAe,QAEnDJ,EAAU7Y,UAKlBje,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,QACdC,aAAc,KACdC,WAAW,EACXyE,yBAAyB,EACzBC,wBAAwB,IAG5BpH,EAAMuC,YAAYH,GACdI,aAAc,mBACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,sBACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,qBACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,eACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,cACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,iBACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,gBACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,YACdC,aAAckuB,IAGlB3wB,EAAMuC,YAAYH,GACdI,aAAc,eACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,cACdC,aAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,aACdC,aAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,eACdC,cAAc,EACdC,WAAW,EACXyE,yBAAyB,IAG7BnH,EAAMuC,YAAYH,GACdI,aAAc,iBACdC,aAAc,MAItBzC,EAAM2C,gBAAkB,WACpBlD,EAAOQ,UAAU0C,gBAAgBN,KAAKC,MAGtCA,KAAKgqB,WACLhqB,KAAKg1B,wBAA0Bx0B,OAC/BR,KAAKi1B,uBACLj1B,KAAKk1B,eACLl1B,KAAKm1B,YACLn1B,KAAKo1B,mBACLp1B,KAAKq1B,SAAW,EAChBr1B,KAAK80B,mBAAqBv3B,EAAW2jB,KAAK,mCAC1ClhB,KAAKu0B,aAAeh3B,EAAW2jB,KAAK,6BACpClhB,KAAKgxB,iBAAmB3C,EACxBruB,KAAKs1B,gBAAiB,EACtBt1B,KAAKu1B,2BAA6B,GAMtC73B,EAAM83B,kBAAoB,WAEtB,QACItvB,KAAM,GACNgqB,UAAW5B,EACXhsB,MAAO,GACPmzB,WAAY,SACZtE,WAAY,SACZC,aAAc,SAAUvB,EAAKC,EAAQ1rB,EAAO2rB,GACnCA,EAAYrrB,mBACbtH,EAAE2yB,GAAazR,OAAO,0IAC+Cla,EAAMgD,WAAa,kBAGhGiqB,WAAY,SAAUxB,EAAKC,EAAQ1rB,EAAO2rB,GACtC,GAAI0E,GAAW1E,EAAYrrB,iBACV,QAAb+vB,IACAA,EAAS/vB,kBAAkBtG,YAAcgG,EAAMgD,aAGvDkqB,cAAerC,EACfyG,QAAS11B,KAAK21B,iBACdC,OAAQ51B,KAAKgqB,QAAQ6L,KAAK,SAAUC,GAChC,MAAOA,GAAIF,YAKvBl4B,EAAMsF,QAAU,aAOhBtF,EAAM+1B,4BAA8B,SAAU5xB,EAAS2xB,GACnD,GAAI3D,GAAMhuB,EAAQuuB,aAAcN,EAASjuB,EAAQwuB,gBAC7C0F,EAAW/1B,KAAKm1B,SAAStF,GAAKC,EAC9BiG,KAAavC,IACbxzB,KAAKm1B,SAAStF,GAAKC,GAAU0D,EAC7BxzB,KAAKk1B,YAAYrF,GAAK7vB,KAAKgqB,QAAQ8F,GAAQkG,WAAaxC,EACxDxzB,KAAKoE,MAAQsL,KAAK6Q,UAAUvgB,KAAKk1B,eAIzCx3B,EAAMu4B,sBAAwB,WAC1B,GACI5mB,GAEA6mB,EAAWtF,EAAcmD,EAAiBlD,EAC1CiB,EAJAnxB,EAAOX,KAEPgqB,EAAUhqB,KAAKw1B,oBAEHF,GAAiB,EAAOa,EAAiB,EACrDZ,EAA6B,EAC7Ba,GAAiB,GACjBC,GAAe,CAInB,KAAKhnB,EAAI,EAAGA,EAAIrP,KAAKgqB,QAAQla,OAAQT,IACjC,GAAIA,IAAMrP,KAAKgqB,QAAQ3a,GAAGqG,MAAO,CAC7B2gB,GAAe,CACf,OAIR,GAAIA,EAAc,CACd,IAAKhnB,EAAI,EAAGA,EAAIrP,KAAKgqB,QAAQla,OAAQT,IAC7BrP,KAAKgqB,QAAQ3a,GAAGumB,QAChBQ,EAAclmB,KAAKb,EAAI,EAM/BrP,MAAKgqB,QAAQ3T,QAAQ,SAAUyZ,EAAQzgB,GACnCygB,EAAOwG,iBAAmB5mB,KAAKC,MAAMmgB,EAAOgC,YAC5CA,KACAqE,EAAiB,CACjB,KAAK,GAAI3E,KAAa1B,GAAOwG,iBAAiBlT,MACtC0M,EAAOwG,iBAAiBlT,MAAM+P,eAAe3B,KAC7CM,EAAW5hB,KAAKshB,GAChB2E,IACAb,GAAiB,EAwBzB,IApBAC,EAA6B/F,KAAKvoB,IAAIsuB,EAA4BY,GAClED,GACIhc,MAAO,SACPhU,KAAM4pB,EAAOyG,OACbrG,UAAW7gB,EAAEjI,WACb9E,MAAOwtB,EAAOxtB,MACdszB,OAAQ9F,EAAO8F,OACf9D,WAAYA,GAEZA,EAAWhiB,OAAS,IACpBomB,EAAUM,mBAAqB,SAAU1E,GACrC,MAAOD,GAAmB/B,EAAOwG,iBAAkBxE,KAItDhC,EAAO8F,QACRQ,EAAclmB,KAAKb,EAAI,GAG3B0kB,EAAkBjE,EAAOprB,kBACD,OAApBqvB,EAA0B,CAE1B,GADAnD,EAAemD,EAAgBxD,UAC1BD,EAAkB6C,eAAevC,GAClC,KAAM,IAAIgB,OAAM,gDAAkDviB,EAAI,KAAOuhB,EAGjFC,GAAmBP,EAAkBM,GACrCd,EAAO2G,sBAAwB5F,EAAiBiD,gBAAgBC,GAChElD,EAAiB+C,iBAAiBjzB,EAAMu1B,GAExClM,EAAQ9Z,KAAKgmB,MAKzBl2B,KAAKs1B,eAAiBA,EACtBt1B,KAAKu1B,2BAA6BA,EAClCv1B,KAAKi1B,oBAAsBmB,EAC3Bp2B,KAAK02B,gBAAkB1M,GAG3BtsB,EAAMq3B,aAAe,SAAU4B,GAC3B,GAAI9G,GAAK+G,EAAQ7M,EAAM1a,EAAGuC,EAAGmW,EAAG+H,EAAQ+G,CACxC,IAAIF,EAAQ,EAAG,CAIX,IAHA5M,KACA8M,EAAY72B,KAAKk1B,YAAYplB,OAC7BiY,EAAI8O,EACCxnB,EAAI,EAAOsnB,EAAJtnB,EAAWA,IAAK,CAIxB,IAHAwgB,KACA+G,KACAA,EAAOtI,GAAgBvG,IAClBnW,EAAI,EAAGA,EAAI5R,KAAKgqB,QAAQla,OAAQ8B,IACjCke,EAAS9vB,KAAKgqB,QAAQpY,GACtBglB,EAAOhlB,GAAKke,EAAO2G,sBACnB5G,EAAIC,EAAOkG,WAAalG,EAAO2G,qBAGnC1M,GAAK7Z,KAAK0mB,GACV52B,KAAKm1B,SAASjlB,KAAK0mB,GACnB52B,KAAKk1B,YAAYhlB,KAAK2f,GAGtB7vB,KAAKs1B,gBAAgC,IAAduB,IAEvB72B,KAAK82B,kBACL92B,KAAK+2B,kBAGT/2B,KAAK2E,MAAMqyB,QAAQ,SAAU,KAAMjN,GACnC/pB,KAAKoE,MAAQsL,KAAK6Q,UAAUvgB,KAAKk1B,eAIzCx3B,EAAMu5B,8BAAgC,WAelC,GAAI5nB,GAAGuC,EAAGslB,EAAQC,CAElB,KADAA,KACK9nB,EAAI,EAAGA,EAAIrP,KAAKk1B,YAAYplB,OAAQT,IAAK,CAG1C,IAFA6nB,KACAA,EAAO5I,GAAgBjf,EAClBuC,EAAI,EAAGA,EAAI5R,KAAKgqB,QAAQla,OAAQ8B,IACjCslB,EAAOtlB,GAAK5R,KAAKk1B,YAAY7lB,GAAGrP,KAAKgqB,QAAQpY,GAAGokB,UAGpDmB,GAAOjnB,KAAKgnB,GAGhBl3B,KAAKm1B,SAAWgC,GAGpBz5B,EAAM05B,yBAA2B,WAC7Bp3B,KAAKi2B,wBACLj2B,KAAKk1B,YAAcxlB,KAAKC,MAAM3P,KAAKoE,OACnCpE,KAAKi3B,gCACLj3B,KAAKq3B,YACDC,SAAU,QACVC,UAAWv3B,KAAKm1B,UAEpBn1B,KAAKw3B,YAAc,GAAIp6B,GAAE2xB,IAAIyI,YAAYx3B,KAAKq3B,YAC9Cr3B,KAAK82B,kBACL92B,KAAK2E,MAAMqyB,SAAUhN,QAAShqB,KAAK02B,gBAAiB1U,OAAQhiB,KAAKw3B,eAGrE95B,EAAM0Q,YAAc,WAChB,GAAIqpB,GAAiBnI,EAAkBtvB,KAAK03B,YAAa13B,KAAK23B,WAC9D,QACIC,UAAW53B,KAAK4F,SAChBiyB,cAAc,EACdC,cAAe,OACfC,WAAY/3B,KAAKg4B,oBACjBC,eAAe,EACfC,aAAa,EACbC,SAAUn4B,KAAKo4B,aACfC,WAAYr4B,KAAKs4B,eACjBC,cAAev4B,KAAKs4B,eACpBE,SAAUx4B,KAAKy4B,YACfC,UAAW14B,KAAK24B,cAChBC,QAAS54B,KAAK64B,aACdtJ,SAAUkI,EAAelI,SACzBG,QAAS+H,EAAe/H,QACxBptB,MAAOtC,KAAK84B,YACZv2B,OAAQvC,KAAKqvB,aACb0J,cAAe1K,EACf2K,WAAYh5B,KAAKgxB,mBAIzBtzB,EAAMu7B,kBAAoB,SAAUnJ,GAChC,GAAIoJ,GAAsBC,CAErBn5B,MAAK2E,OAIL3E,KAAKo5B,eAINtJ,GAAU,GAAKA,EAAS9vB,KAAKgqB,QAAQla,QACrCqpB,EAAiBrJ,EACjBoJ,EAAuBpJ,EAAO1oB,YAE9B+xB,EAAiB,GAGjBA,IAAmBn5B,KAAKq5B,iBACxBr5B,KAAKq5B,eAAiBF,GAGtBn5B,KAAKg1B,0BAA4BkE,IACI14B,SAAjCR,KAAKg1B,yBACL53B,EAAE4C,KAAK2E,MAAMqyB,QAAQ,YAAah3B,KAAKg1B,yBAAyBnzB,SAASmd,YAAY,sBAGzFhf,KAAKg1B,wBAA0BkE,EAC/Bl5B,KAAKs5B,wBAELt5B,KAAKwB,cAAc,GAAIC,aAAY,2BAC/BG,QAAUy3B,eAAgBr5B,KAAKq5B,sBAK3C37B,EAAM47B,sBAAwB,WAC1B,GAAIjqB,GAAG6hB,EAAWqI,CAClB,IAAIv5B,KAAKo5B,aAAc,CACnB,GAA4B,KAAxBp5B,KAAKq5B,eACL,IAAKhqB,EAAI,EAAGA,EAAIrP,KAAK02B,gBAAgB5mB,OAAQT,IACzC6hB,EAAYlxB,KAAK2E,MAAMqyB,QAAQ,YAAah3B,KAAK02B,gBAAgBrnB,GAAG6gB,WAClD,OAAdgB,GAAoC1wB,SAAd0wB,IACtBA,EAAUsI,cAAgB,QAKlC,KADAD,EAAYv5B,KAAKi1B,oBAAoBj1B,KAAKi1B,oBAAoB/d,QAAQlX,KAAKq5B,eAAiB,GAAK,GAC5FhqB,EAAI,EAAGA,EAAIrP,KAAK02B,gBAAgB5mB,OAAQT,IACzC6hB,EAAYlxB,KAAK2E,MAAMqyB,QAAQ,YAAah3B,KAAK02B,gBAAgBrnB,GAAG6gB,WAClD,OAAdgB,GAAoC1wB,SAAd0wB,IAClB7hB,IAAMkqB,EACNrI,EAAUsI,cAAgB,mBACnBnqB,IAAMrP,KAAKq5B,eAAiB,GACnCnI,EAAUsI,cAAgB,mBAC1Bp8B,EAAE8zB,EAAUrvB,SAASiE,SAAS,uBAE9BorB,EAAUsI,cAAgB,GAM1Cp8B,GAAE4C,KAAK2E,OAAOqyB,QAAQ,oBAI9Bt5B,EAAM+7B,uBAAyB,WAC3Bz5B,KAAKgxB,iBAAmBhxB,KAAK05B,WAAa,EAAI15B,KAAK05B,UAAYrL,GAGnE3wB,EAAM+C,iBAAmB,WACrB,GACIuE,GACAP,EACAk1B,EACAh1B,EAJAjE,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,MAKnDW,EAAOX,IAgHX,OA9GIU,MAAc,IACdi5B,EAAe35B,KAAK45B,qBACpB55B,KAAK65B,mBAAmBF,GAExB35B,KAAKy5B,yBAELz0B,EAAiBhF,KAAKoO,cAEtB3J,EAAe1G,SAASC,cAAc,OACtCyG,EAAapB,MAAMf,MAAQ,OAC3BmC,EAAapB,MAAMd,OAAS,OAG5BkC,EAAapB,MAAMJ,SAAW,OAC9BwB,EAAapB,MAAMH,WAAa,uBAChCuB,EAAapB,MAAMF,WAAa,SAChCsB,EAAapB,MAAMD,UAAY,SAC/BpD,KAAKzB,YAAYkG,GAEjBE,EAAQvH,EAAEqH,GACVE,EAAMqyB,QAAQhyB,GACdhF,KAAK2E,MAAQA,EACbyvB,EAAqBp0B,MACrBA,KAAK82B,kBACL92B,KAAK85B,uBAEuB,IAAxBH,EAAa7pB,QACb9P,KAAKo3B,2BAITzyB,EAAMkF,KAAK,wBAAwB/D,SAAS,iBAC5CnB,EAAMmB,SAAS,kBACfnB,EAAMmB,SAAS,0BACfnB,EAAMkF,KAAK,gBAAgB/D,SAAS,kBACpCnB,EAAMkF,KAAK,wBAAwB/D,SAAS,0BAC5CnB,EAAMkF,KAAK,4BAA4B/D,SAAS,oBAChDnB,EAAMkF,KAAK,oBAAoB/D,SAAS,gBACxCnB,EAAMkF,KAAK,0BAA0B/D,SAAS,uBAC9CnB,EAAMkF,KAAK,mCAAmC/D,SAAS,eACvDnB,EAAMkF,KAAK,kBAAkB/D,SAAS,qBACtCnB,EAAMkF,KAAK,4BAA4B/D,SAAS,oBAChDnB,EAAMkF,KAAK,sBAAsB/D,SAAS,mBAC1CnB,EAAMkF,KAAK,8BAA8B/D,SAAS,iBAClDnB,EAAMkF,KAAK,mBAAmB/D,SAAS,WACvCnB,EAAMkF,KAAK,yBAAyB/D,SAAS,iBAE7CnB,EAAM6E,GAAG,cAAe,SAAUC,GAC9B,GAAIumB,GAAWvmB,EAAME,KAAKqmB,SAAUE,EAAYzmB,EAAME,KAAKumB,UAAW9rB,EAAQqF,EAAME,KAAKvF,KACzFzD,GAAKw0B,SAASnF,GAAUE,GAAa9rB,EACrCzD,EAAKu0B,YAAYlF,GAAUrvB,EAAKqpB,QAAQkG,GAAW8F,WAAa5xB,EAChEzD,EAAKyD,MAAQsL,KAAK6Q,UAAU5f,EAAKu0B,eAGrCvwB,EAAM6E,GAAG,cAAe,SAAUC,GAC9B,GAAIswB,GAAiBtwB,EAAME,KAAKkjB,cAAcA,aAC9ClsB,GAAKs4B,kBAAkBr2B,SAAS6G,EAAME,KAAKumB,YAEpB1vB,SAAnBu5B,GAAqDv5B,SAArBu5B,EAAenmB,GAAwCpT,SAArBu5B,EAAelmB,IACjFlT,EAAKq5B,mBAAsBpmB,EAAGmmB,EAAenmB,EAAGC,EAAGkmB,EAAelmB,MAI1ElP,EAAM6E,GAAG,YAAa,SAAUC,GAC5B,GAAIswB,GAAiBtwB,EAAME,KAAKkjB,cAAcA,aAC9ClsB,GAAKs4B,kBAAkBr2B,SAAS6G,EAAME,KAAKumB,YAEpB1vB,SAAnBu5B,GAAqDv5B,SAArBu5B,EAAenmB,GAAwCpT,SAArBu5B,EAAelmB,IACjFlT,EAAKq5B,mBAAsBpmB,EAAGmmB,EAAenmB,EAAGC,EAAGkmB,EAAelmB,MAI1ElP,EAAM6E,GAAG,QAAS,SAAUC,GAGxB,GAAIswB,GAAiBtwB,EAAMojB,aACJrsB,UAAnBu5B,GAA2Dv5B,SAA3BG,EAAKq5B,mBACrCD,EAAenmB,IAAMjT,EAAKq5B,kBAAkBpmB,GAAKmmB,EAAelmB,IAAMlT,EAAKq5B,kBAAkBnmB,IAIjGlT,EAAKs4B,kBAAkB,IACvBt4B,EAAKq5B,kBAAoBx5B,UAG7BmE,EAAM6E,GAAG,gBAAiB,SAAUC,GAChC,GAOIwpB,GAAiB5jB,EAAG0b,EAPpBphB,EAAOF,EAAME,KACbswB,EAAYtwB,EAAKumB,UACjBgK,EAAWvwB,EAAKwwB,SAChBC,EAAYz5B,EAAKqwB,iBACjBlB,EAASnvB,EAAKqpB,QAAQiQ,GACtBjR,EAAkB8G,EAAOprB,kBACzB21B,EAAe/J,EAAkBtH,EAAgBuH,SAGrD,IAAmC,kBAAxB8J,GAAannB,OAMxB,IAFA+f,EAAkBtuB,EAAM,GAAGukB,iBAAiBF,EAAgBnW,SAEvDxD,EAAI,EAAGA,EAAI4jB,EAAgBnjB,OAAQT,IACpC0b,EAAUkI,EAAgB5jB,GACtB0b,EAAQsF,kBAAoB4J,GAC5BI,EAAannB,OAAO6X,GAAWzoB,MAAO43B,EAAU33B,OAAQ63B,OAMjE15B,GAGXhD,EAAMmF,YAAc,SAAUC,GAC1B3F,EAAOQ,UAAUkF,YAAY9C,KAAKC,KAAM8C,EACxC,IAAI6B,GAAQ3E,KAAK2E,KAEHnE,UAAVmE,IACAA,EAAQvH,EAAE4C,MAAMiT,SAAS,QAG7BtO,EAAMqyB,QAAQl0B,GACd9C,KAAK+2B,kBAGTr5B,EAAM48B,qBAAuB,SAAUC,GAChB/5B,SAAfR,KAAK2E,OAA8C,OAAvB3E,KAAKsX,gBAIrCtX,KAAKi2B,wBAGLj2B,KAAK2E,MAAMqyB,QAAQ,eAEnBh3B,KAAK2E,MAAMqyB,SAAUhN,QAAShqB,KAAK02B,kBAE/B6D,GACAv6B,KAAK2E,MAAMqyB,QAAQ,WAGvBh3B,KAAKs5B,0BAGT57B,EAAM88B,kBAAoB,WACtBx6B,KAAKq3B,WAAWE,UAAYv3B,KAAKm1B,SACjCn1B,KAAK2E,MAAMqyB,SAAUhV,OAAQhiB,KAAKw3B,eAGtC95B,EAAMuU,WAAa,WACf,GAAIwoB,EAEJ,IAAmBj6B,SAAfR,KAAK2E,MAiBT,GAbA81B,EAAgBz6B,KAAKk1B,YAAYplB,OACjC9P,KAAKk1B,YAAcxlB,KAAKC,MAAM3P,KAAKoE,OACnCpE,KAAKi3B,gCAEDj3B,KAAKs1B,gBAAqC,IAAlBmF,IAAsD,IAA5Bz6B,KAAKk1B,YAAYplB,SAGnE9P,KAAK82B,kBAML2D,IAAkBz6B,KAAKk1B,YAAYplB,OAAQ,CAC3C,GACIT,GADA0a,IAEJ,KAAK1a,EAAI,EAAOorB,EAAJprB,EAAmBA,IAC3B0a,EAAK1a,GAAKA,CAGdrP,MAAK2E,MAAMqyB,QAAQ,YAAajN,EAAM/pB,KAAKm1B,cAE3Cn1B,MAAKw6B,qBAIb98B,EAAMk8B,mBAAqB,WACvB,GAEIvqB,GAFAsqB,KACAe,EAAiBz+B,oBAAoBC,OAAOC,SAASw+B,eAAeh9B,UAAUiV,YAAYC,QAAQC,aAGtG,KAAKzD,EAAI,EAAGA,EAAIrP,KAAKiT,SAASnD,OAAQT,IAC9BrP,KAAKiT,SAAS5D,GAAGwD,UAAY6nB,GAC7Bf,EAAazpB,KAAKlQ,KAAKiT,SAAS5D,GAIxC,OAAOsqB,IAGXj8B,EAAMk9B,YAAc,WAChB56B,KAAKgqB,QAAQnG,KAAK,SAAU7T,EAAG6qB,GAC3B,MAAO7qB,GAAE0F,MAAQmlB,EAAEnlB,SAI3BhY,EAAMm8B,mBAAqB,SAAUiB,GACjC,GAAIn6B,GAAOX,IAEXW,GAAKM,iBAAiB,+BAAgC,SAAUkD,GAC5D,GAAIkL,GAAGygB,EAAQwC,EAAUC,CAEzB,IAAIpuB,EAAIX,SAAW7C,EAAM,CA0BrB,IAzBAmvB,EAAS3rB,EAAIvC,OAAOC,QACpBlB,EAAKqpB,QAAQ9Z,KAAK4f,GAClBnvB,EAAKi6B,cAELtI,EAAW,GAAIvqB,QAAOge,iBAAiB,SAAUC,GAC7CA,EAAU3P,QAAQ,SAAUsc,GACpBA,EAASvM,aAAatW,OAAS,GAC/BgjB,EAAsCnyB,EAAMmvB,GAG5C6C,EAASzM,WAAWpW,OAAS,IAC7BuiB,EAAmC1xB,EAAMmvB,GACzCnvB,EAAK25B,sBAAqB,QAKtC/H,GAAmB5L,WAAW,GAC9BmJ,EAAOiL,kBAAoBzI,EACK,kBAArBA,GAAS5L,SAChB4L,EAAS5L,QAAQoJ,EAAQyC,GAG7BF,EAAmC1xB,EAAMmvB,GAEpCzgB,EAAI,EAAGA,EAAIyrB,EAAehrB,OAAQT,IACnC,GAAIyrB,EAAezrB,KAAOlL,EAAIvC,OAAOC,QAAS,CAC1Ci5B,EAAepmB,OAAOrF,EAAG,EACzB,OAIsB,IAA1ByrB,EAAehrB,SACStP,SAApBR,KAAKq3B,WACLr3B,KAAKo3B,2BAELz2B,EAAK25B,sBAAqB,OAM1C35B,EAAKM,iBAAiB,+BAAgC,SAAUkD,GAC5D,GAAIkL,GAAGygB,CACP,IAAI3rB,EAAIX,SAAW7C,EAAM,CAErB,IADAmvB,EAAS3rB,EAAIvC,OAAOC,QACfwN,EAAI,EAAGA,EAAI1O,EAAKqpB,QAAQla,OAAQT,IACjC,GAAI1O,EAAKqpB,QAAQ3a,KAAOygB,EAAQ,CAC5BnvB,EAAKqpB,QAAQtV,OAAOrF,EAAG,GAE4B,kBAAxCygB,GAAOiL,kBAAkBtU,YAChCqJ,EAAOiL,kBAAkBtU,aAG7BqM,EAAsCnyB,EAAMmvB,EAC5C,OAIRnvB,EAAK25B,sBAAqB,MAIlC35B,EAAKM,iBAAiB,8BAA+B,SAAUkD,GAC3D,GAAI62B,GAAW72B,EAAIvC,OAAO1B,YACT,WAAb86B,GACAr6B,EAAKi6B,cAGTj6B,EAAK25B,sBAAqB,GAET,eAAbU,GACAr6B,EAAKm2B,kBACLn2B,EAAKo2B,kBACe,UAAbiE,GAAqC,cAAbA,IAC/Br6B,EAAKs2B,gCACLt2B,EAAK65B,wBAKjB98B,EAAMo5B,gBAAkB,WACpB,GAEImE,GAFAt6B,EAAOX,KACP00B,GAAuB/zB,EAAKiF,UAAYjF,EAAK+zB,kBAElBl0B,UAA3BG,EAAKg0B,mBACLh0B,EAAKg0B,kBAAkBuG,OAAOxG,GAGfl0B,SAAfG,EAAKgE,QACLs2B,EAAkBvG,EAAqB,GAAK,EACxC10B,KAAKk1B,YAAYplB,OAAS,GAAKnP,EAAK40B,2BAA6B,IACjE0F,GAAmBt6B,EAAK40B,2BAA6BlH,EAAqB,GAK9E1tB,EAAKgE,MAAMqyB,SACPmE,gBAAiBF,IAErBt6B,EAAKgE,MAAMqyB,SACPoE,cAAe1G,GAAsB/zB,EAAK20B,eAC1C+F,eAAgB16B,EAAK20B,iBAErB30B,EAAK20B,gBACL30B,EAAKgE,MAAMqyB,QAAQ,uBAK/Bt5B,EAAMq5B,eAAiB,WACnB,GAAIp2B,GAAOX,IAEsBQ,UAA7BR,KAAKs7B,qBACLC,aAAav7B,KAAKs7B,qBAGtBt7B,KAAKs7B,oBAAsBE,WAAW,WAElC,GADA76B,EAAK26B,oBAAsB96B,OACvBG,EAAK83B,YAAa,CAClB,GAAIgD,GACAl5B,EAAS5B,EAAKgE,MAAMpC,QACxBA,IAAU2sB,EAAiBvuB,EAAKgE,MAAMkF,KAAK,wBAC3CtH,GAAU2sB,EAAiBvuB,EAAKgE,MAAMkF,KAAK,+BAC3CtH,GAAU2sB,EAAiBvuB,EAAKgE,MAAMkF,KAAK,uBAC3CtH,GAAU2sB,EAAiBvuB,EAAKgE,MAAMkF,KAAK,qBAC3C,IAAI6xB,GAAiB/6B,EAAKgE,MAAMkF,KAAK,qBAAqBga,KAAK,SAAU7T,EAAG6qB,GACxE,MAAO7qB,GAAEoE,WAAaymB,EAAEzmB,YAG5B7R,IAAU2sB,EAAiBwM,GAC3BD,EAAUjM,KAAKC,MAAMltB,EAAS5B,EAAKqwB,kBAIpB,GAAXyK,IACAA,EAAU,IAGV96B,EAAK00B,WAAaoG,IAClB96B,EAAK00B,SAAWoG,EAChB96B,EAAKgE,MAAMqyB,SAAU2E,SAAUF,EAASG,iBAAkBH,QAGnE,KAGP/9B,EAAMo8B,qBAAuB,WACzB,GAAI+B,EAEJ77B,MAAK2E,MAAMqyB,SAAUwB,SAAUx4B,KAAKy4B,cACpCoD,EAAW77B,KAAK2E,MAAMkF,KAAK,sBAI3BgyB,EAASX,OAAOl7B,KAAKy4B,aAEjBz4B,KAAKy4B,eAAgB,EACrBz4B,KAAK20B,kBAAkB,GAAGtxB,MAAMy4B,OAASD,EAASE,cAAgB,KAElE/7B,KAAK20B,kBAAkB,GAAGtxB,MAAMy4B,OAAS,MAG7C97B,KAAK+2B,kBAGTr5B,EAAM2D,gBAAkB,SAAUnB,GAG9B,GAFA/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,GAEzBM,SAAfR,KAAK2E,MAIT,OAAQzE,GACJ,IAAK,mBACDF,KAAK2E,MAAMqyB,QAAQ,oBAAqB1I,EAAc,UAAWtuB,KAAK21B,iBACtE,MACJ,KAAK,sBACD31B,KAAK2E,MAAMqyB,SAAUe,WAAY/3B,KAAKg4B,sBACtCh4B,KAAK+2B,gBACL,MACJ,KAAK,eACD/2B,KAAK2E,MAAMqyB,SAAUiB,eAAgBj4B,KAAKo5B,eAC1Cp5B,KAAK2E,MAAMqyB,QAAQ,SACnB,MACJ,KAAK,QACDh3B,KAAKiS,YACL,MACJ,KAAK,qBACDjS,KAAK82B,kBACL92B,KAAK+2B,gBACL,MACJ,KAAK,eACD/2B,KAAK2E,MAAMqyB,SAAUmB,SAAUn4B,KAAKo4B,cACpC,MACJ,KAAK,cACDp4B,KAAK85B,sBACL,MACJ,KAAK,iBACD95B,KAAK2E,MAAMqyB,SAAUqB,WAAYr4B,KAAKs4B,eAAgBC,cAAev4B,KAAKs4B,iBAC1Et4B,KAAK+2B,gBACL,MACJ,KAAK,gBACD/2B,KAAK2E,MAAMqyB,SAAU0B,UAAW14B,KAAK24B,gBACrC34B,KAAK+2B,gBACL,MACJ,KAAK,YACD/2B,KAAKy5B,yBACLz5B,KAAK2E,MAAMqyB,SAAUgC,WAAYh5B,KAAKgxB,mBACtChxB,KAAK2E,MAAMqyB,QAAQ,SACnB,MACJ,KAAK,eACDh3B,KAAK2E,MAAMqyB,SAAU4B,QAAS54B,KAAK64B,cACnC,MACJ,KAAK,cACD74B,KAAK2E,MAAMqyB,QAAQ1H,EAAkBtvB,KAAK03B,YAAa13B,KAAK23B,YAC5D,MACJ,KAAK,aACD33B,KAAK2E,MAAMqyB,QAAQ1H,EAAkBtvB,KAAK03B,YAAa13B,KAAK23B,YAC5D,MACJ,KAAK,WACD33B,KAAK2E,MAAMqyB,SAAUY,UAAW53B,KAAK4F,WACrC5F,KAAK82B,kBACL92B,KAAK+2B,gBACL,MACJ,KAAK,iBACD/2B,KAAKi5B,kBAAkBj5B,KAAKq5B,kBAOxC37B,EAAMoE,kBAAkBpE,EAAO,eAAgB,mBACjDzB,oBAAoBC,OAAOC,SAASiyB,SAAUnyB,oBAAoBC,OAAOC,SAAS4G,QCtvCpF9G,oBAAoBC,OAAOC,SAASw+B,eAAiB,WACjD,cAMH,SAAUz9B,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,QACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,SACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,YACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,QACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,SACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,aACdC,aAAc,QAItBzC,EAAM2C,gBAAkB,WACpBlD,EAAOQ,UAAU0C,gBAAgBN,KAAKC,MAMtCA,KAAKg8B,gBAAkBx7B,QAG3B9C,EAAMu+B,0BAA4B,SAAUlnB,EAAM7U,GAC9C,GAAI+U,EAEyBzU,UAAzBR,KAAKg8B,kBACL/mB,GACItT,YAAY,EACZC,QACIC,QAAS7B,KACTE,aAAcA,IAItBF,KAAKg8B,gBAAgBx6B,cAAc,GAAIC,aAAYsT,EAAME,MAIjEvX,EAAM+C,iBAAmB,WACrB,GAAIC,GAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KAUvD,OARIA,MAAKsX,wBAAyBrb,qBAAoBC,OAAOC,SAASiyB,UAClEpuB,KAAKg8B,gBAAkBh8B,KAAKsX,cAC5BtX,KAAKi8B,0BAA0B,kCAE/B1+B,EAAW0G,MAAM,0EAA2EjE,KAAK0D,aACjG1D,KAAKg8B,gBAAkBx7B,QAGpBE,GAGXhD,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,GAE5CF,KAAKi8B,0BAA0B,8BAA+B/7B,IAGlExC,EAAM4D,iBAAmB,WACrBnE,EAAOQ,UAAU2D,iBAAiBvB,KAAKC;AAEvCA,KAAKi8B,0BAA0B,gCAC/Bj8B,KAAKg8B,gBAAkBx7B,QAG3B9C,EAAMoE,kBAAkBpE,EAAO,sBAAuB,yBACxDzB,oBAAoBC,OAAOC,SAASw+B,eAAgB1+B,oBAAoBC,OAAOC,SAAS4G,QChH1F9G,oBAAoBC,OAAOC,SAAS+/B,cAAgB,WAChD,cAMH,SAAUh/B,EAAOC,GACd,YAEA,IAAIC,GAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,SACdC,aAAc,KACdC,WAAW,EACXyE,yBAAyB,IAG7BnH,EAAMuC,YAAYH,GACdI,aAAc,gBACdC,aAAc,GACdC,WAAW,EACXyE,yBAAyB,EACzBC,wBAAwB,IAE5BpH,EAAMuC,YAAYH,GACdI,aAAc,yBACdC,cAAc,IAElBzC,EAAMuC,YAAYH,GACdI,aAAc,uBACdC,cAAc,IAElBzC,EAAMuC,YAAYH,GACdI,aAAc,yBACdC,cAAc,IAElBzC,EAAMuC,YAAYH,GACdI,aAAc,eACdC,cAAc,IAElBzC,EAAMuC,YAAYH,GACdI,aAAc,gBACdC,cAAc,KAItBzC,EAAM+C,iBAAmB,WACrB,GACIuE,GAAgBL,EADhBjE,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,MAC5BW,EAAOX,IAClC,IAAIU,KAAc,EAAM,CACpBsE,IAEA,IAAIP,GAAe1G,SAASC,cAAc,MAC1CyG,GAAaL,MAAQpE,KAAKoE,MAC1BK,EAAapB,MAAMf,MAAQ,OAC3BmC,EAAapB,MAAMd,OAAS,OAE5BvC,KAAKzB,YAAYkG,GACjBE,EAAQvH,EAAEqH,GAEVO,EAAe0d,cAAgB,GAC/B1d,EAAeW,UAAW,EAC1BX,EAAe2d,oBAAqB,CACpC,IAAIwZ,GAAczsB,KAAKC,MAAM3P,KAAKgiB,OAClChd,GAAe0d,cAAgByZ,EAAYjlB,QAAQlX,KAAKo8B,eAExDz3B,EAAM8d,iBAAkBT,OAAQma,IAChCx3B,EAAM8d,gBAAgBzd,GAEtBL,EAAM6E,GAAG,SAAU,SAAUC,GACzB,GAAIE,GAAOF,EAAME,IACjB,IAAIA,EAAM,CACN,GAAI6J,GAAO7J,EAAK6J,IACH,QAATA,EACA7S,EAAKy7B,cAAgB,GAErBz7B,EAAKy7B,cAAgB5oB,EAAKpP,SAM1C,MAAO1D,IAGXhD,EAAMmF,YAAc,SAAUC,GAC1B3F,EAAOQ,UAAUkF,YAAY9C,KAAKC,KAAM8C,GACxC1F,EAAE4C,KAAK0E,mBAAmB+d,gBAAgB3f,IAG9CpF,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,EAC5C,IAAIuE,GAAezE,KAAK0E,iBACxB,QAAQxE,GACJ,IAAK,gBACD,GAAI8hB,GAAS5kB,EAAEqH,GAAcge,gBAAgB,UACzC/M,EAAQsM,EAAO9K,QAAQlX,KAAKo8B,cAEhCh/B,GAAEqH,GAAcge,iBAAkBC,cAAehN,GACjD,MACJ,KAAK,SACD,GAAI2mB,GAAY3sB,KAAKC,MAAM3P,KAAKgiB,OAChC5kB,GAAEqH,GAAcge,iBAAkBT,OAAQqa,MAOtD3+B,EAAMoE,kBAAkBpE,EAAO,qBAAsB,wBACvDzB,oBAAoBC,OAAOC,SAAS+/B,cAAejgC,oBAAoBC,OAAOC,SAAS4G,QC/HxF,WACG,YAEA,IAAIxF,GAAatB,oBAAoBC,OAAOsB,UACxCJ,EAAInB,oBAAoBoB,QAAQC,MAGpCrB,qBAAoBC,OAAOC,SAASmgC,cAAgB,SAAUC,EAASC,GACnEx8B,KAAKu8B,QAAUA,EACfv8B,KAAKw8B,kBAAoBA,EAM7B,IAAIt/B,GAAQjB,oBAAoBC,OAAOC,SAASmgC,cAC5C5+B,EAAQR,EAAMS,SASlBD,GAAM++B,WAAa,SAAUC,EAAU9P,EAAKlX,GACxC,GACIinB,GAAKC,EADLj8B,EAAOX,IAEX08B,GAASzpB,SAASoD,QAAQ,SAAUpD,GAChC0pB,EAAM5+B,SAASC,cAAc,UAC7B2+B,EAAIt+B,KAAO,SACXs+B,EAAItpB,UAAY,YAChBjW,EAAEu/B,GAAK92B,iBAAkBZ,SAAS,IACR,KAAtBgO,EAAS4pB,UACTF,EAAI1+B,UAAUC,IAAI+U,EAAS4pB,UAG/Bz/B,EAAEu/B,GAAKnzB,GAAG,QAAS,WACXxJ,OAAS48B,IACTx/B,EAAEw/B,GAAS/2B,gBAAgB,UAC3B+2B,EAAU58B,MAGdW,EAAK47B,QAAQO,YAAY7pB,EAAS8B,KAAM,KAAMW,GAC9C/U,EAAK67B,kBAAkBO,YAAYrnB,IAEvC,IAAIsnB,GAAQr8B,EAAK47B,QAAQU,SAAShqB,EAAS8B,KAAMW,EACnClV,UAAVw8B,IACA5/B,EAAEu/B,GAAK92B,iBAAkBZ,QAAW+3B,IAChCA,KAAU,IACVJ,EAAUD,IAIlB/P,EAAIruB,YAAYo+B,MAIxBj/B,EAAMw/B,YAAc,SAAUR,EAAU9P,EAAKlX,EAAOynB,GAChD,GACI9tB,GADA1O,EAAOX,KACJ0iB,EAAgB,EAAG0a,GAAO,CAOjC,KANAhgC,EAAEwvB,GAAKnK,iBAEKngB,MAAO,UACP+6B,eAA2C,GAA3BX,EAASzpB,SAASnD,SAGzCT,EAAI,EAAGA,EAAIqtB,EAASzpB,SAASnD,OAAQT,IAAK,CAC3C,GAAInJ,GAAO3I,EAAW2jB,KAAKwb,EAASzpB,SAAS5D,GAAGiuB,IACnB,WAAzBp3B,EAAKq3B,UAAU,EAAG,KAClBr3B,EAAOw2B,EAAS3nB,MAGpB3X,EAAEwvB,GAAKnK,gBAAgB,WAAahf,GAAIi5B,EAASzpB,SAAS5D,GAAG0F,KAAMjB,KAAM,4DAA8D5N,EAAO,uCAAyCw2B,EAASzpB,SAAS5D,GAAGwtB,SAAW,6BAAoCM,EAAY,oBAAsBA,EAAY,GAAK,sBAC9S,IAAIK,GAAYx9B,KAAKu8B,QAAQU,SAASP,EAASzpB,SAAS5D,GAAG0F,KAAMW,EAC7D8nB,MAAc,IACd9a,EAAgBrT,GAIxBjS,EAAEwvB,GAAKpjB,GAAG,SAAU,SAAUC,GAC1B,GAAIE,GAAOF,EAAME,IACbyzB,MAAS,IAIbz8B,EAAK47B,QAAQO,YAAYnzB,EAAK6J,KAAKiE,MAAMhU,GAAI,KAAMiS,GACnD/U,EAAK67B,kBAAkBO,YAAYrnB,MAEvCtY,EAAEwvB,GAAKnK,iBAAkBC,cAAiBA,IAC1C0a,GAAO,GAGX1/B,EAAM+/B,sBAAwB,SAAU99B,GACpC,GAAc,gBAAVA,GAAyC,KAAdA,EAAM+9B,IACjC,MAAOtgC,GAAE,qDAGb,IAAIyE,GAAUzE,EAAE,qCAAuCuC,EAAM+9B,IAAM,UAC/DC,EAAa,IACbC,EAAqB,KAAVj+B,EAAMmsB,EAAwB,KAAVnsB,EAAMk+B,EAAwB,KAAVl+B,EAAMk7B,EACzDiD,EAA6BH,EAAhB,IAAMC,EAAwB,QAAU,OAIzD,OAHA/7B,GAAQzC,IAAI,QAAS0+B,GACrBj8B,EAAQzC,IAAI,aAAc,IAAMO,EAAM+9B,KACtC77B,EAAQiE,SAAS,cACVjE,GAGXnE,EAAMqgC,YAAc,SAAUrB,EAAU9P,EAAKlX,GACzC,GAAI/U,GAAOX,KACPg+B,EAAWjgC,SAASC,cAAc,MACtCZ,GAAEwvB,GAAKtO,OAAO0f,EACd,IAAIC,GAAWlgC,SAASC,cAAc,MACtCigC,GAAS5qB,UAAY,2BACrB2qB,EAASz/B,YAAY0/B,GACrB7gC,EAAE6gC,GAAUC,gBACR57B,MAAO,QAASC,OAAQ,QACxB47B,UAAW,QAEf/gC,EAAE6gC,GAAUz0B,GAAG,cAAe,SAAU7G,GACpCvF,EAAEwvB,GAAKwR,kBAAkB,aAAcz9B,EAAK88B,sBAAsB96B,EAAEgH,KAAKhK,QACzEgB,EAAK47B,QAAQO,YAAYJ,EAAS3nB,KAAMpS,EAAEgH,KAAKhK,MAAO+V,GACtD/U,EAAK67B,kBAAkBO,YAAYrnB,KAEvCtY,EAAEwvB,GAAKwR,mBACD97B,MAAO,WAEb,IAAI3C,GAAQK,KAAKu8B,QAAQU,SAASP,EAAS3nB,KAAMW,EACnClV,UAAVb,EACwB,MAApBA,EAAM0+B,OAAO,KACb1+B,EAAQA,EAAM49B,UAAU,IAG5B59B,EAAQ,SAGZvC,EAAEwvB,GAAKwR,kBAAkB,aAAcp+B,KAAKy9B,sBAAsB,GAAIrgC,GAAE2xB,IAAIpvB,OAAQ+9B,IAAK/9B,OAG7FjC,EAAM4gC,YAAc,SAAU5B,EAAU9P,EAAKlX,GACzC,GAAI/U,GAAOX,KACP28B,EAAMv/B,EAAEwvB,GAAK7N,aACjB4d,GAAItpB,UAAY,kBAChBjW,EAAEu/B,GAAKnzB,GAAG,SAAU,SAAU7G,GAC1BhC,EAAK47B,QAAQO,YAAYJ,EAAS3nB,KAAMpS,EAAEgH,KAAKoU,QAASrI,IAE5D,IAAIsnB,GAAQr8B,EAAK47B,QAAQU,SAASP,EAAS3nB,KAAMW,EACnClV,UAAVw8B,GACA5/B,EAAEu/B,GAAK5d,aAAchB,QAASif,QCnJ1C/gC,oBAAoBC,OAAOC,SAASoiC,WAAa,WAC7C,cAMH,SAAUrhC,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,UACxCJ,EAAInB,oBAAoBoB,QAAQC,MAEpCC,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,UAGd6gC,EAAU,GACVC,EAAqB,CAMzB/gC,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,YACdC,aAAc,GACdC,WAAW,EACXyE,yBAAyB,IAE7BnH,EAAMuC,YAAYH,GACdI,aAAc,eACdC,cAAc,EACdC,WAAW,EACXyE,yBAAyB,KAIjCnH,EAAM2C,gBAAkB,WACpBlD,EAAOQ,UAAU0C,gBAAgBN,KAAKC,MAGtCA,KAAK0+B,IAAMl+B,OACXR,KAAK2+B,OAAS,EACd3+B,KAAK4+B,gBAAkB,KACvB5+B,KAAKu8B,QAAU,GAAItgC,qBAAoBC,OAAOC,SAAS0iC,kBACvD7+B,KAAK8+B,sBAAwB,GAAI7iC,qBAAoBC,OAAOC,SAAS4iC,sBAAsB/+B,KAAKu8B,SAChGv8B,KAAKg/B,UAAY,GAAI/iC,qBAAoBC,OAAOC,SAASmgC,cAAct8B,KAAKu8B,QAASv8B,KAAK8+B,wBAM9FphC,EAAMuhC,UAAY,WACdj/B,KAAKk/B,UAAUl/B,KAAK0+B,IAAK1+B,KAAK2+B,QAC9B3+B,KAAKu8B,QAAQ4C,YAAYn/B,KAAK2+B,QAC9B3+B,KAAK2+B,UAGTjhC,EAAM0hC,YAAc,WAChBp/B,KAAKq/B,cAAcr/B,KAAK0+B,KACxB1+B,KAAKu8B,QAAQ+C,cAAct/B,KAAK2+B,QAChC3+B,KAAK2+B,UAGTjhC,EAAM6hC,WAAa,WACf,GAAIlwB,EACJ,KAAKA,EAAI,EAAGA,EAAIrP,KAAK2+B,OAAQtvB,IACzBrP,KAAKk/B,UAAUl/B,KAAK0+B,IAAKrvB,IAIjC3R,EAAM8hC,kBAAoB,SAAUpF,GAChC,GAAIqF,GAAgBC,WAAW1/B,KAAKqD,MAAMd,QACtCo9B,EAAgBvF,EAChBwF,EAAgBpQ,KAAKC,MAAMD,KAAKqQ,MAAMzF,GAAap6B,KAAK2+B,OAASH,EAAUC,IAAuBD,EAChF,KAAlBoB,IAEID,EADiBF,GAAjBE,EACgBnQ,KAAKvoB,IAAIw4B,EAAiBjQ,KAAKsQ,MAAML,EAAgBE,GAAiBnB,GAAWA,EAAWA,EAASA,GAErGiB,EAAiBjQ,KAAKC,OAAOkQ,EAAgBF,GAAiBjB,GAAWA,EAG7Fx+B,KAAKqD,MAAMd,OAASo9B,EAAgB,EAAIlB,EAAqB,OAIrE/gC,EAAM+C,iBAAmB,WACrB,GACIgE,GADA/D,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,MAEnDW,EAAOX,IAEX,IAAIU,KAAc,EAAM,CACpBV,KAAKu8B,QAAQwD,UAAY//B,KAAK+/B,UAC9B//B,KAAKu8B,QAAQnD,aAAep5B,KAAKo5B,aACjC30B,EAAe1G,SAASC,cAAc,OACtCyG,EAAapB,MAAMf,MAAQ,OAC3BmC,EAAapB,MAAMd,OAAS,OAC5BkC,EAAapB,MAAM28B,UAAY,OAC/Bv7B,EAAapB,MAAM48B,UAAY,SAC/BjgC,KAAKzB,YAAYkG,GACjBzE,KAAK0+B,IAAM3gC,SAASC,cAAc,SAClCgC,KAAK0+B,IAAIr7B,MAAMf,MAAQ,OACvBtC,KAAK0+B,IAAIr7B,MAAMd,OAAS,OACxBkC,EAAalG,YAAYyB,KAAK0+B,KAC9B1+B,KAAKu/B,aACLv/B,KAAKiB,iBAAiB,6BAA8B,WAChDN,EAAKs+B,cAETj/B,KAAKiB,iBAAiB,6BAA8B,WAChDN,EAAKy+B,gBAETp/B,KAAKiB,iBAAiB,4BAA6B,SAAUkD,GACzD,GAAIuR,GAAQ/U,EAAK47B,QAAQ2D,gBAAgB/7B,EAAIvC,OAAOoT,eACpDrU,GAAKm+B,sBAAsB/B,YAAYrnB,IAE3C,IAAI3E,GAAQhT,SAAS+vB,cAAc,mBAAsB9tB,KAAK+/B,UAAY,KAC5D,QAAVhvB,GACAA,EAAM+D,mBAAmB9U,MAIjC,MAAOU,IAGXhD,EAAMwhC,UAAY,SAAUR,EAAKhpB,GAC7B,GACIyqB,GAAIC,EAAK7J,EAAQ7wB,EAASknB,EAAKyT,EAAUC,EAAGC,EAD5C5/B,EAAOX,IAGXmgC,GAAKpiC,SAASC,cAAc,MAC5B0gC,EAAIngC,YAAY4hC,GAChBC,EAAMriC,SAASC,cAAc,OAC7BoiC,EAAI38B,GAAK,WAAaiS,EACtB0qB,EAAI/sB,UAAY,qBAChB8sB,EAAG5hC,YAAY6hC,GACf7J,EAASx4B,SAASC,cAAc,OAChCu4B,EAAO9yB,GAAK,SAAWiS,EACvB6gB,EAAOljB,UAAY,gBACnB+sB,EAAI7hC,YAAYg4B,GAEhB3J,EAAM7uB,SAASC,cAAc,OAC7B4uB,EAAIvZ,UAAY,kBAChBkjB,EAAOh4B,YAAYquB,GACnB5sB,KAAK8+B,sBAAsB0B,oBAAoB5T,EAAKlX,GAEpD6qB,EAAOxiC,SAASC,cAAc,QAC9BuiC,EAAKltB,UAAY,gBACjBgtB,EAAW,QACP3qB,EAAQ,IACR2qB,GAAsB3qB,EAAMtO,YAGhCk5B,EAAIviC,SAASuH,eAAe+6B,GAC5BE,EAAKhiC,YAAY+hC,GACjB/J,EAAOh4B,YAAYgiC,GAEnB76B,EAAU3H,SAASC,cAAc,OACjC0H,EAAQjC,GAAK,UAAYiS,EACzBhQ,EAAQ2N,UAAY,iBACpB+sB,EAAI7hC,YAAYmH,GAChBtI,EAAEgjC,GAAKK,aACHC,UAAU,EACV/6B,SAAU3F,KAAKo5B,aACfuH,wBAAyB,IACzBC,0BAA2B,IAC3BC,YAAa,WACTlgC,EAAKmgC,YAAYp7B,EAASgQ,MAGlCtY,EAAEgjC,GAAK52B,GAAG,WAAY,WAClB,GAAIxJ,OAASW,EAAKi+B,gBAAiB,CAC/B,GAAImC,GAAWpgC,EAAKi+B,eACpBj+B,GAAKi+B,gBAAkB5+B,KACN,OAAb+gC,GACA3jC,EAAE2jC,GAAUN,aAAcC,UAAU,OAIhD1gC,KAAKghC,aAGTtjC,EAAMojC,YAAc,SAAUp7B,EAASgQ,GACnC,GAAIgpB,GAAKyB,EAAIvuB,EAAG2uB,EAAMD,EAAGW,EAAKC,EAAKtU,CAMnC,KALAlnB,EAAQrC,MAAMd,OAA2C,IAAhCvC,KAAKu8B,QAAQ4E,KAAKrxB,OAAS,GAAW,GAAK,KACpE4uB,EAAM3gC,SAASC,cAAc,SAC7B0gC,EAAIrrB,UAAY,aAChB3N,EAAQnH,YAAYmgC,GAEf9sB,EAAI,EAAGA,EAAI5R,KAAKu8B,QAAQ4E,KAAKrxB,OAAQ8B,IAAK,CAC3C,GAAI8qB,GAAW18B,KAAKu8B,QAAQ4E,KAAKvvB,EACjCuuB,GAAKpiC,SAASC,cAAc,MAC5BmiC,EAAG9sB,UAAY,iBACfqrB,EAAIngC,YAAY4hC,GAChBc,EAAMljC,SAASC,cAAc,MAC7BijC,EAAI5tB,UAAY,0BAChB8sB,EAAG5hC,YAAY0iC,GACfV,EAAOxiC,SAASC,cAAc,QAC9BuiC,EAAKltB,UAAY,sBACjB4tB,EAAI1iC,YAAYgiC,EAChB,IAAIr6B,GAAO3I,EAAW2jB,KAAKwb,EAASY,IAUpC,QAT6B,UAAzBp3B,EAAKq3B,UAAU,EAAG,KAClBr3B,EAAOw2B,EAAS3nB,KAAO,KAG3BurB,EAAIviC,SAASuH,eAAeY,GAC5Bq6B,EAAKhiC,YAAY+hC,GACjBY,EAAMnjC,SAASC,cAAc,MAC7BkjC,EAAI7tB,UAAY,gCAChB8sB,EAAG5hC,YAAY2iC,GACPxE,EAASr+B,MACb,IAAK,UACD2B,KAAKg/B,UAAUvC,WAAWC,EAAUwE,EAAKxrB,EACzC,MACJ,KAAK,WACDkX,EAAM7uB,SAASC,cAAc,OAC7B4uB,EAAIvZ,UAAY,cAChB6tB,EAAI3iC,YAAYquB,GAChB5sB,KAAKg/B,UAAU9B,YAAYR,EAAU9P,EAAKlX,EAAO,GACjD,MACJ,KAAK,WACDkX,EAAM7uB,SAASC,cAAc,OAC7B4uB,EAAIvZ,UAAY,mCAChB6tB,EAAI3iC,YAAYquB,GAChB5sB,KAAKg/B,UAAUjB,YAAYrB,EAAU9P,EAAKlX,EAC1C,MACJ,KAAK,WACDkX,EAAM7uB,SAASC,cAAc,OAC7B4uB,EAAIvZ,UAAY,eAChB6tB,EAAI3iC,YAAYquB,GAChB5sB,KAAKg/B,UAAUV,YAAY5B,EAAU9P,EAAKlX,MAM1DhY,EAAM2hC,cAAgB,SAAUX,GAC5B,GAAI7O,GAAM6O,EAAIzf,gBACF,QAAR4Q,GACA6O,EAAIvyB,YAAY0jB,IAIxBnyB,EAAMsF,QAAU,SAAUC,EAAUC,EAAYC,EAAYC,GACxDjG,EAAOQ,UAAUqF,QAAQjD,KAAKC,KAAMiD,EAAUC,EAAYC,EAAYC,EAEtE,IAAIqB,GAAezE,KAAK0E,kBACpBgC,EAAetJ,EAAEqH,GAAcoF,KAAK,wBACpCu3B,EAAiBhkC,EAAEqH,GAAcoF,KAAK,mBACtCw3B,EAAwBjkC,EAAEqH,GAAcoF,KAAK,wBAEjDnD,GAAatH,KACTgG,YAAanC,EACbkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,IAElBg+B,EAAehiC,KACXgG,YAAanC,EACbkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,IAElBi+B,EAAsBjiC,KAClBgG,YAAanC,EACbkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,KAItB1F,EAAMsjC,UAAY,WACd,GAAIv8B,GAAezE,KAAK0E,kBACpBgC,EAAetJ,EAAEqH,GAAcoF,KAAK,wBACpCu3B,EAAiBhkC,EAAEqH,GAAcoF,KAAK,mBACtCw3B,EAAwBjkC,EAAEqH,GAAcoF,KAAK,yBAE7C5G,EAAW7F,EAAE4C,MAAMZ,IAAI,aACvB8D,EAAa9F,EAAE4C,MAAMZ,IAAI,eACzB+D,EAAa/F,EAAE4C,MAAMZ,IAAI,eACzBgE,EAAYhG,EAAE4C,MAAMZ,IAAI,aAC5BsH,GAAatH,KACTgG,YAAanC,EACbkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,IAElBg+B,EAAehiC,KACXgG,YAAanC,EACbkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,IAElBi+B,EAAsBjiC,KAClBgG,YAAanC,EACbkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,KAItB1F,EAAM2D,gBAAkB,SAAUnB,GAG9B,OAFA/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,GAEpCA,GACJ,IAAK,YAEDF,KAAKu8B,QAAQwD,UAAY//B,KAAK+/B,SAC9B,MACJ,KAAK,eAED//B,KAAKu8B,QAAQnD,aAAep5B,KAAKo5B,aACjCh8B,EAAE4C,KAAK0+B,KAAK70B,KAAK,uBAAuBuoB,KAAK,WACzCh1B,EAAE4C,MAAMygC,aAAc96B,SAAU3F,KAAKo5B,mBAQrD17B,EAAMoE,kBAAkBpE,EAAO,iBAAkB,qBACnDzB,oBAAoBC,OAAOC,SAASoiC,WAAYtiC,oBAAoBC,OAAOC,SAAS4G,QCrUrF,WACG,YAGA9G,qBAAoBC,OAAOC,SAAS0iC,kBAAoB,WACpD7+B,KAAK+/B,UAAY,GACjB//B,KAAKo5B,cAAe,EACpBp5B,KAAKshC,mBACF,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAEHthC,KAAKuhC,aAMT,IAAIrkC,GAAQjB,oBAAoBC,OAAOC,SAAS0iC,kBAC5CnhC,EAAQR,EAAMS,SASlBD,GAAMyjC,OAEEpsB,KAAM,aAAcuoB,IAAK,gBAAiBj/B,KAAM,UAAW4U,WACrD8B,KAAM,OAAQuoB,IAAK,WAAYT,SAAU,yBACzC9nB,KAAM,QAASuoB,IAAK,YAAaT,SAAU,0BAC3C9nB,KAAM,eAAgBuoB,IAAK,mBAAoBT,SAAU,mCACzD9nB,KAAM,MAAOuoB,IAAK,UAAWT,SAAU,wBACvC9nB,KAAM,OAAQuoB,IAAK,WAAYT,SAAU,2BAI/C9nB,KAAM,cAAeuoB,IAAK,iBAAkBj/B,KAAM,UAAW4U,WACvD8B,KAAM,UAAWuoB,IAAK,cAAeT,SAAU,kCAC/C9nB,KAAM,YAAauoB,IAAK,gBAAiBT,SAAU,+BACnD9nB,KAAM,UAAWuoB,IAAK,cAAeT,SAAU,kCAC/C9nB,KAAM,QAASuoB,IAAK,YAAaT,SAAU,gCAC3C9nB,KAAM,OAAQuoB,IAAK,WAAYT,SAAU,iCAI/C9nB,KAAM,aAAcuoB,IAAK,gBAAiBj/B,KAAM,WAAY4U,WACtD8B,KAAM,UAAWuoB,IAAK,aAAcT,SAAU,KAC9C9nB,KAAM,UAAWuoB,IAAK,aAAcT,SAAU,+BAC9C9nB,KAAM,WAAYuoB,IAAK,cAAeT,SAAU,gCAChD9nB,KAAM,WAAYuoB,IAAK,cAAeT,SAAU,gCAChD9nB,KAAM,WAAYuoB,IAAK,cAAeT,SAAU,gCAChD9nB,KAAM,WAAYuoB,IAAK,cAAeT,SAAU,kCAItD9nB,KAAM,aAAcuoB,IAAK,gBAAiBj/B,KAAM,WAAY4U,WACtD8B,KAAM,WAAYuoB,IAAK,cAAeT,SAAU,KAChD9nB,KAAM,QAASuoB,IAAK,YAAaT,SAAU,6BAC3C9nB,KAAM,MAAOuoB,IAAK,UAAWT,SAAU,2BACvC9nB,KAAM,WAAYuoB,IAAK,cAAeT,SAAU,gCAChD9nB,KAAM,cAAeuoB,IAAK,iBAAkBT,SAAU,mCACtD9nB,KAAM,aAAcuoB,IAAK,gBAAiBT,SAAU,oCAI1D9nB,KAAM,gBAAiBuoB,IAAK,mBAAoBj/B,KAAM,UAAW4U,WAC3D8B,KAAM,cAAeuoB,IAAK,iBAAkBT,SAAU,kCACtD9nB,KAAM,OAAQuoB,IAAK,WAAYT,SAAU,iCACzC9nB,KAAM,OAAQuoB,IAAK,aAAcT,SAAU,+CAC3C9nB,KAAM,MAAOuoB,IAAK,UAAWT,SAAU,iDAI7C9nB,KAAM,QAASuoB,IAAK,YAAaj/B,KAAM,WAAY4U,cAInD8B,KAAM,QAASuoB,IAAK,YAAaj/B,KAAM,WAAY4U,cAM3DvV,EAAMyhC,YAAc,aAGpBzhC,EAAM4hC,cAAgB,SAAU5pB,GAC5B1V,KAAKuhC,UAAU7rB,GAAS,MAG5BhY,EAAM8jC,QAAU,SAAU9rB,GACtB,GAAIrG,GAAI,EACJ2B,EAAO,KACPD,EAAQhT,SAAS+vB,cAAc,mBAAsB9tB,KAAK+/B,UAAY,KAE1E,IAAc,OAAVhvB,EACA,IAAK7T,IAAS6T,GAAMhL,WAChB,GAA0C,sBAAtCgL,EAAMhL,WAAW7I,GAAOukC,UAAmC,CAC3D,GAAIpyB,IAAMqG,EAAO,CACb1E,EAAOD,EAAMhL,WAAW7I,EACxB,OAGJmS,IAKZ,MAAO2B,IAGXtT,EAAMgkC,YAAc,SAAUhsB,GAC1B,GAAI1E,GAAO,KACP2wB,EAAW,IACf,IAA8B,OAA1B3hC,KAAKuhC,UAAU7rB,IAA6ClV,SAA1BR,KAAKuhC,UAAU7rB,GAAsB,CAOvE,GANA1E,EAAOhR,KAAKwhC,QAAQ9rB,GAEP,OAAT1E,IACA2wB,EAAW3wB,EAAKiO,kBAGH,OAAb0iB,EACA,MAAO,KAGX3hC,MAAKuhC,UAAU7rB,GAASisB,EAG5B,MAAO3hC,MAAKuhC,UAAU7rB,IAG1BhY,EAAMwiC,gBAAkB,SAAUyB,GAC9B,GAAWjsB,GAAO3E,EAAO7T,EAAO0kC,EAA5BvyB,EAAI,CAER,IADA0B,EAAQhT,SAAS+vB,cAAc,mBAAsB9tB,KAAK+/B,UAAY,MACxD,OAAVhvB,EACA,IAAK7T,IAAS6T,GAAMhL,WAChB,GAA0C,sBAAtCgL,EAAMhL,WAAW7I,GAAOukC,UAAmC,CAE3D,GADAG,EAAkB7wB,EAAMhL,WAAW7I,GAAO+hB,iBACtC2iB,IAAoBD,EAAU,CAC9BjsB,EAAQrG,CACR,OAGJA,IAKZ,MAAOqG,IAGXhY,EAAMo/B,YAAc,SAAU+E,EAAUC,EAAKpsB,GACzC,GAAI1V,KAAKo5B,gBAAiB,EAAM,CAC5B,GACIpoB,GADA+wB,EAAe,GAEfJ,EAAW3hC,KAAK0hC,YAAYhsB,EAChC,IAAiB,OAAbisB,EACA,MAmBJ,QAhB4B,KAAxBA,EAASxoB,aACT4oB,EAAeJ,EAASxoB,YAGA,KAAxBwoB,EAASvoB,aACT2oB,EAAeJ,EAASvoB,YAGH,KAArBuoB,EAASroB,UACTyoB,EAAeJ,EAASroB,SAGF,KAAtBqoB,EAAStoB,WACT0oB,EAAeJ,EAAStoB,UAGpBwoB,GACJ,IAAK,UACDF,EAASpzB,UAAY,CACrB,MACJ,KAAK,UACDozB,EAASpzB,UAAY,CACrB,MACJ,KAAK,WACDozB,EAASpzB,UAAY,CACrB,MACJ,KAAK,WACDozB,EAASpzB,UAAY,CACrB,MACJ,KAAK,WACDozB,EAASpzB,UAAY,CACrB,MACJ,KAAK,WACDozB,EAASpzB,UAAY,CACrB,MACJ,KAAK,OACDozB,EAASxoB,WAAa4oB,EACtBJ,EAASvoB,WAAa,GACtBuoB,EAASroB,QAAU,GACnBqoB,EAAStoB,SAAW,EACpB,MACJ,KAAK,QACDsoB,EAASxoB,WAAa,GACtBwoB,EAASvoB,WAAa2oB,EACtBJ,EAASroB,QAAU,GACnBqoB,EAAStoB,SAAW,EACpB,MACJ,KAAK,eACDsoB,EAASxoB,WAAa4oB,EACtBJ,EAASvoB,WAAa2oB,EACtBJ,EAASroB,QAAU,GACnBqoB,EAAStoB,SAAW,EACpB,MACJ,KAAK,MACDsoB,EAASxoB,WAAa,GACtBwoB,EAASvoB,WAAa,GACtBuoB,EAASroB,QAAUyoB,EACnBJ,EAAStoB,SAAW,EACpB,MACJ,KAAK,OACDsoB,EAASxoB,WAAa,GACtBwoB,EAASvoB,WAAa,GACtBuoB,EAASroB,QAAU,GACnBqoB,EAAStoB,SAAW0oB,CACpB,MACJ,KAAK,UACDJ,EAAS5nB,WAAa,SACtB,MACJ,KAAK,YACD4nB,EAAS5nB,WAAa,WACtB,MACJ,KAAK,UACD4nB,EAAS5nB,WAAa,SACtB,MACJ,KAAK,QACD4nB,EAAS5nB,WAAa,OACtB,MACJ,KAAK,OACD4nB,EAAS5nB,WAAa,MACtB,MACJ,KAAK,WACD4nB,EAASjoB,UAAY,EACrB,MACJ,KAAK,QACDioB,EAASjoB,UAAY,OACrB,MACJ,KAAK,MACDioB,EAASjoB,UAAY,KACrB,MACJ,KAAK,WACDioB,EAASjoB,UAAY,SACrB,MACJ,KAAK,cACDioB,EAASjoB,UAAY,YACrB,MACJ,KAAK,aACDioB,EAASjoB,UAAY,WACrB,MACJ,KAAK,cACD,KACJ,KAAK,OACD,KACJ,KAAK,OACD,KACJ,KAAK,MACD,KACJ,KAAK,QAC2B,KAAxBioB,EAASxoB,WACTwoB,EAASxoB,WAAa,IAAM2oB,EAAIpE,IACD,KAAxBiE,EAASvoB,WAChBuoB,EAASvoB,WAAa,IAAM0oB,EAAIpE,IACJ,KAArBiE,EAASroB,QAChBqoB,EAASroB,QAAU,IAAMwoB,EAAIpE,IACA,KAAtBiE,EAAStoB,WAChBsoB,EAAStoB,SAAW,IAAMyoB,EAAIpE,IAGlC,MACJ,KAAK,QACD1sB,EAAOhR,KAAKwhC,QAAQ9rB,GACpB1E,EAAK6H,YAAcipB,KAMnCpkC,EAAMu/B,SAAW,SAAU4E,EAAUnsB,GACjC,GAAI1E,GACA2wB,EAAW3hC,KAAK0hC,YAAYhsB,EAChC,IAAiB,OAAbisB,EAAJ,CAIA,GAAI3E,EACJ,QAAQ6E,GACJ,IAAK,UACD7E,EAA+B,IAAvB2E,EAASpzB,SACjB,MACJ,KAAK,UACDyuB,EAA+B,IAAvB2E,EAASpzB,SACjB,MACJ,KAAK,WACDyuB,EAA+B,IAAvB2E,EAASpzB,SACjB,MACJ,KAAK,WACDyuB,EAA+B,IAAvB2E,EAASpzB,SACjB,MACJ,KAAK,WACDyuB,EAA+B,IAAvB2E,EAASpzB,SACjB,MACJ,KAAK,WACDyuB,EAA+B,IAAvB2E,EAASpzB,SACjB,MACJ,KAAK,OACDyuB,EAAgC,KAAxB2E,EAASxoB,YAA6C,KAAxBwoB,EAASvoB,UAC/C,MACJ,KAAK,QACD4jB,EAAgC,KAAxB2E,EAASxoB,YAA6C,KAAxBwoB,EAASvoB,UAC/C,MACJ,KAAK,eACD4jB,EAAgC,KAAxB2E,EAASxoB,YAA6C,KAAxBwoB,EAASvoB,UAC/C,MACJ,KAAK,MACD4jB,EAA6B,KAArB2E,EAASroB,OACjB,MACJ,KAAK,OACD0jB,EAA8B,KAAtB2E,EAAStoB,QACjB,MACJ,KAAK,UACD2jB,EAAgC,YAAxB2E,EAAS5nB,UACjB,MACJ,KAAK,YACDijB,EAAgC,cAAxB2E,EAAS5nB,UACjB,MACJ,KAAK,UACDijB,EAAgC,YAAxB2E,EAAS5nB,UACjB,MACJ,KAAK,QACDijB,EAAgC,UAAxB2E,EAAS5nB,UACjB,MACJ,KAAK,OACDijB,EAAgC,SAAxB2E,EAAS5nB,UACjB,MACJ,KAAK,WACDijB,EAA+B,KAAvB2E,EAASjoB,SACjB,MACJ,KAAK,QACDsjB,EAA+B,UAAvB2E,EAASjoB,SACjB,MACJ,KAAK,MACDsjB,EAA+B,QAAvB2E,EAASjoB,SACjB,MACJ,KAAK,WACDsjB,EAA+B,YAAvB2E,EAASjoB,SACjB,MACJ,KAAK,cACDsjB,EAA+B,eAAvB2E,EAASjoB,SACjB,MACJ,KAAK,aACDsjB,EAA+B,cAAvB2E,EAASjoB,SACjB,MACJ,KAAK,cACD,KACJ,KAAK,OACD,KACJ,KAAK,OACD,KACJ,KAAK,MACD,KACJ,KAAK,QACDsjB,EAAQh9B,KAAKgiC,yBAAyBL,EACtC,MACJ,KAAK,QACD3wB,EAAOhR,KAAKwhC,QAAQ9rB,GACpBsnB,EAAQhsB,EAAK6H,YAIrB,MAAOmkB,KAGXt/B,EAAMukC,aAAe,SAAUvsB,GAC3B,GAAIisB,GAAW3hC,KAAK0hC,YAAYhsB,EAChC,OAAiB,QAAbisB,EACO3hC,KAAKgiC,yBAAyBL,GAGlC3hC,KAAKshC,kBAAkB5rB,EAAQ1V,KAAKshC,kBAAkBxxB,SAGjEpS,EAAMskC,yBAA2B,SAAUL,GACvC,GAAI3E,EAWJ,OAV4B,KAAxB2E,EAASxoB,WACT6jB,EAAQ2E,EAASxoB,WACc,KAAxBwoB,EAASvoB,WAChB4jB,EAAQ2E,EAASvoB,WACW,KAArBuoB,EAASroB,QAChB0jB,EAAQ2E,EAASroB,QACY,KAAtBqoB,EAAStoB,WAChB2jB,EAAQ2E,EAAStoB,UAGd2jB,GAGXt/B,EAAMwkC,aAAe,SAAUxsB,GAC3B,GAAIisB,GAAW3hC,KAAK0hC,YAAYhsB,EAChC,OAAiB,QAAbisB,EACOA,EAASpzB,UAIb,GAGX7Q,EAAMykC,aAAe,SAAUzsB,GAC3B,GAAI0sB,GAAY,OACZT,EAAW3hC,KAAK0hC,YAAYhsB,EAgBhC,OAfiB,QAAbisB,IAC4B,KAAxBA,EAASxoB,YAA6C,KAAxBwoB,EAASvoB,WACvCgpB,EAAY,OACmB,KAAxBT,EAASxoB,YAA6C,KAAxBwoB,EAASvoB,WAC9CgpB,EAAY,QACmB,KAAxBT,EAASxoB,YAA6C,KAAxBwoB,EAASvoB,WAC9CgpB,EAAY,eACgB,KAArBT,EAASroB,QAChB8oB,EAAY,MACiB,KAAtBT,EAAStoB,WAChB+oB,EAAY,SAKbA,GAGX1kC,EAAM2kC,cAAgB,SAAU3sB,GAC5B,GAAIisB,GAAW3hC,KAAK0hC,YAAYhsB,EAChC,OAAiB,QAAbisB,EACOA,EAAS5nB,WAIb,cCncd,WACG,YAGA9d,qBAAoBC,OAAOC,SAAS4iC,sBAAwB,SAAUxC,GAClEv8B,KAAKsiC,aACCvtB,KAAM,UAAWwtB,QAASviC,KAAKwiC,qBAC/BztB,KAAM,YAAawtB,QAASviC,KAAKyiC,uBACjC1tB,KAAM,UAAWwtB,QAASviC,KAAK0iC,qBAC/B3tB,KAAM,QAASwtB,QAASviC,KAAK2iC,mBAC7B5tB,KAAM,OAAQwtB,QAASviC,KAAK4iC,kBAGlC5iC,KAAK6iC,UACL7iC,KAAKu8B,QAAUA,EAMnB,IAAIr/B,GAAQjB,oBAAoBC,OAAOC,SAAS4iC,sBAC5CrhC,EAAQR,EAAMS,SASlBD,GAAM8iC,oBAAsB,SAAU5T,EAAKlX,GACvC,GAAIotB,GAAOC,EAAK3kB,CAChB0kB,GAAQ,6BACRC,EAAMhlC,SAASilC,gBAAgBF,EAAO,OACtCC,EAAIrgC,aAAa,QAAS,2BAC1BqgC,EAAIrgC,aAAa,QAAS,MAC1BqgC,EAAIrgC,aAAa,SAAU,MAC3BqgC,EAAIrgC,aAAa,UAAW,aAC5BqgC,EAAIE,eAAe,gCAAiC,cAAe,gCACnErW,EAAIruB,YAAYwkC,GAChB/iC,KAAK6iC,OAAOntB,MACZ0I,EAAQpe,KAAKkjC,WAAWJ,GACxB1kB,EAAM1b,aAAa,OAAQ,QAC3B0b,EAAM1b,aAAa,eAAgB1C,KAAKu8B,QAAQ2F,aAAaxsB,IAC7D0I,EAAM1b,aAAa,SAAU1C,KAAKmjC,iBAAiBztB,EAAO,SAC1DqtB,EAAIxkC,YAAY6f,GAChBpe,KAAK6iC,OAAOntB,GAAO0tB,KAAOhlB,EAE1Bpe,KAAK6iC,OAAOntB,GAAOiE,UACnB3Z,KAAKqjC,aAAa3tB,EAAOqtB,EAAKD,EAAO9iC,KAAKsiC,YAE1ClkB,EAAQpe,KAAKsjC,eAAeR,GAC5B1kB,EAAM1b,aAAa,OAAQ1C,KAAKmjC,iBAAiBztB,EAAO,SACxD0I,EAAM1b,aAAa,eAAgB,GACnC0b,EAAM1b,aAAa,SAAU1C,KAAKmjC,iBAAiBztB,EAAO,SAC1DqtB,EAAIxkC,YAAY6f,GAChBpe,KAAK6iC,OAAOntB,GAAO6D,KAAO6E,EAE1BA,EAAQpe,KAAKujC,WAAWT,GACxB1kB,EAAM1b,aAAa,OAAQ1C,KAAKmjC,iBAAiBztB,EAAO,QACxD0I,EAAM1b,aAAa,eAAgB,GACnC0b,EAAM1b,aAAa,SAAU1C,KAAKmjC,iBAAiBztB,EAAO,QAC1DqtB,EAAIxkC,YAAY6f,GAChBpe,KAAK6iC,OAAOntB,GAAO8tB,IAAMplB,GAG7B1gB,EAAMwlC,WAAa,SAAUJ,GACzB,GAAI1kB,GAAQrgB,SAASilC,gBAAgBF,EAAO,WAE5C,OADA1kB,GAAM1b,aAAa,SAAU,uBACtB0b,GAGX1gB,EAAM4lC,eAAiB,SAAUR,GAC7B,GAAI1kB,GAAQrgB,SAASilC,gBAAgBF,EAAO,WAE5C,OADA1kB,GAAM1b,aAAa,SAAU,oCACtB0b,GAGX1gB,EAAM6lC,WAAa,SAAUT,GACzB,GAAI1kB,GAAQrgB,SAASilC,gBAAgBF,EAAO,WAE5C,OADA1kB,GAAM1b,aAAa,SAAU,sEACtB0b,GAGX1gB,EAAM2lC,aAAe,SAAU3tB,EAAOqtB,EAAKD,EAAOW,GAC9C,GACIp0B,GAAGuC,EACH8xB,EAOAtlB,EATAtb,EAAO,EAGP6W,IACC/F,EAAG,EAAGC,EAAG,KACTD,EAAG,GAAIC,EAAG,KACVD,EAAG,EAAGC,EAAG,IACTD,EAAG,GAAIC,EAAG,GAIf,KAAKjC,EAAI,EAAGA,EAAI6xB,EAAY3zB,OAAQ8B,IAAK,CAErC,IADA8xB,EAAQ3lC,SAASilC,gBAAgBF,EAAO,KACnCzzB,EAAI,EAAO,EAAJA,EAAOA,IACf+O,EAAQqlB,EAAY7xB,GAAG2wB,QAAQO,EAAOnpB,EAAOtK,GAAIvM,GACjD4gC,EAAMnlC,YAAY6f,EAGtBslB,GAAMhhC,aAAa,OAAQ1C,KAAKmjC,iBAAiBztB,EAAO,UACxDguB,EAAMhhC,aAAa,eAAgB,GACnCghC,EAAMhhC,aAAa,SAAU1C,KAAKmjC,iBAAiBztB,EAAO,UAC1DqtB,EAAIxkC,YAAYmlC,GAChB1jC,KAAK6iC,OAAOntB,GAAOiE,OAAO8pB,EAAY7xB,GAAGmD,MAAQ2uB,IAIzDhmC,EAAM8kC,mBAAqB,SAAUM,EAAOa,EAAQ7gC,GAChD,GAAIsb,GAAQrgB,SAASilC,gBAAgBF,EAAO,SAI5C,OAHA1kB,GAAM1b,aAAa,KAAMihC,EAAO/vB,GAChCwK,EAAM1b,aAAa,KAAMihC,EAAO9vB,GAChCuK,EAAM1b,aAAa,IAAKI,EAAO,GACxBsb,GAGX1gB,EAAM+kC,qBAAuB,SAAUK,EAAOa,EAAQ7gC,GAClD,GAAIsb,GAAQrgB,SAASilC,gBAAgBF,EAAO,OAK5C,OAJA1kB,GAAM1b,aAAa,IAAKihC,EAAO/vB,EAAI9Q,EAAO,GAC1Csb,EAAM1b,aAAa,IAAKihC,EAAO9vB,EAAI/Q,EAAO,GAC1Csb,EAAM1b,aAAa,QAASI,GAC5Bsb,EAAM1b,aAAa,SAAUI,GACtBsb,GAGX1gB,EAAMglC,mBAAqB,SAAUI,EAAOa,EAAQ7gC,GAChD,GAAIsb,GAAQrgB,SAASilC,gBAAgBF,EAAO,QACxCniB,EAAO,KAAOgjB,EAAO/vB,EAAI9Q,EAAO,GAAK,IAAM6gC,EAAO9vB,CAMtD,OALA8M,IAAQ,KAAOgjB,EAAO/vB,EAAI,KAAO+vB,EAAO9vB,EAAI/Q,EAAO,GACnD6d,GAAQ,MAAQgjB,EAAO/vB,EAAI9Q,EAAO,GAAK,IAAM6gC,EAAO9vB,EACpD8M,GAAQ,KAAOgjB,EAAO/vB,EAAI,KAAO+vB,EAAO9vB,EAAI/Q,EAAO,GACnD6d,GAAQ,KACRvC,EAAM1b,aAAa,IAAKie,GACjBvC,GAGX1gB,EAAMilC,iBAAmB,SAAUG,EAAOa,EAAQ7gC,GAC9C,GAAIsb,GAAQrgB,SAASilC,gBAAgBF,EAAO,QACxCniB,EAAO,KAAOgjB,EAAO/vB,EAAI9Q,EAAO,GAAK,KAAO6gC,EAAO9vB,EAAI/Q,EAAO,EAKlE,OAJA6d,IAAQ,MAAQgjB,EAAO/vB,EAAI9Q,EAAO,GAAK,KAAO6gC,EAAO9vB,EAAI/Q,EAAO,GAChE6d,GAAQ,KAAOgjB,EAAO/vB,EAAI9Q,EAAO,GAAK,KAAO6gC,EAAO9vB,EAAI/Q,EAAO,GAC/D6d,GAAQ,MAAQgjB,EAAO/vB,EAAI9Q,EAAO,GAAK,KAAO6gC,EAAO9vB,EAAI/Q,EAAO,GAChEsb,EAAM1b,aAAa,IAAKie,GACjBvC,GAGX1gB,EAAMklC,gBAAkB,SAAUE,EAAOa,EAAQ7gC,GAC7C,GAAIsb,GAAQrgB,SAASilC,gBAAgBF,EAAO,QACxCniB,EAAO,IAAMgjB,EAAO/vB,EAAI,KAAO+vB,EAAO9vB,EAAI/Q,EAAO,EAKrD,OAJA6d,IAAQ,KAAOgjB,EAAO/vB,EAAI,KAAO+vB,EAAO9vB,EAAI/Q,EAAO,GACnD6d,GAAQ,KAAOgjB,EAAO/vB,EAAI9Q,EAAO,GAAK,IAAM6gC,EAAO9vB,EACnD8M,GAAQ,MAAQgjB,EAAO/vB,EAAI9Q,EAAO,GAAK,IAAM6gC,EAAO9vB,EACpDuK,EAAM1b,aAAa,IAAKie,GACjBvC,GAGX1gB,EAAMkmC,eAAiB,SAAUjkC,EAAOkkC,GACpC,GAAI/X,GAAIlpB,SAASjD,EAAM49B,UAAU,EAAG,GAAI,IACpCM,EAAIj7B,SAASjD,EAAM49B,UAAU,EAAG,GAAI,IACpC1C,EAAIj4B,SAASjD,EAAM49B,UAAU,GAAI,GACrC,OAAO,QAAUzR,EAAI,IAAM+R,EAAI,IAAOhD,EAAI,IAAMgJ,EAAQ,KAG5DnmC,EAAMylC,iBAAmB,SAAUztB,EAAO0sB,GACtC,GAAI0B,GAAmB9jC,KAAKu8B,QAAQ4F,aAAazsB,GAC7CquB,EAAe/jC,KAAKu8B,QAAQ0F,aAAavsB,EAC7C,OAAIouB,KAAqB1B,EACdpiC,KAAK4jC,eAAeG,EAAc,OACb,iBAArBD,GAAsD,SAAd1B,GAAsC,UAAdA,EAGhEpiC,KAAK4jC,eAAeG,EAAc,KAFlC/jC,KAAK4jC,eAAeG,EAAc,QAMjDrmC,EAAMsmC,cAAgB,SAAU5lB,EAAO6lB,EAAWC,EAAmBvkC,GAC7DskC,IAAcC,GACd9lB,EAAM1b,aAAa,SAAU/C,GAC7Bye,EAAM1b,aAAa,OAAQ/C,KAE3Bye,EAAM1b,aAAa,SAAU,oBAC7B0b,EAAM1b,aAAa,OAAQ,sBAInChF,EAAMymC,iBAAmB,SAAUzuB,EAAO0I,GACtC,GAAI/O,GACA1P,EAAQK,KAAKmjC,iBAAiBztB,EAAO,SACrCqE,EAAa/Z,KAAKu8B,QAAQ8F,cAAc3sB,EAC5C,KAAKrG,EAAI,EAAGA,EAAIrP,KAAKsiC,WAAWxyB,OAAQT,IACpCrP,KAAKgkC,cAAc5lB,EAAMzE,OAAO3Z,KAAKsiC,WAAWjzB,GAAG0F,MAAO/U,KAAKsiC,WAAWjzB,GAAG0F,KAAMgF,EAAYpa,IAIvGjC,EAAMq/B,YAAc,SAAUrnB,GAC1B,GAAI0I,GAAQpe,KAAK6iC,OAAOntB,EACxB,IAAclV,SAAV4d,EAAJ,CAIA,GAAIgkB,GAAYpiC,KAAKu8B,QAAQ4F,aAAazsB,GACtCpT,EAAQtC,KAAKu8B,QAAQ2F,aAAaxsB,EACpB,UAAd0sB,GACAhkB,EAAMglB,KAAK1gC,aAAa,eAAgBJ,GAG5C8b,EAAMglB,KAAK1gC,aAAa,SAAU1C,KAAKmjC,iBAAiBztB,EAAO,SAC/D1V,KAAKmkC,iBAAiBzuB,EAAO0I,GAC7BA,EAAM7E,KAAK7W,aAAa,SAAU1C,KAAKmjC,iBAAiBztB,EAAO,SAC/D0I,EAAM7E,KAAK7W,aAAa,OAAQ1C,KAAKmjC,iBAAiBztB,EAAO,SAC7D0I,EAAMolB,IAAI9gC,aAAa,SAAU1C,KAAKmjC,iBAAiBztB,EAAO,QAC9D0I,EAAMolB,IAAI9gC,aAAa,OAAQ1C,KAAKmjC,iBAAiBztB,EAAO,aCrNpEzZ,oBAAoBC,OAAOC,SAASioC,aAAe,WAC/C,cAMH,SAAUlnC,EAAOC,GACd,YAEA,IAAIC,GAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,YACdC,aAAc,GACdC,WAAW,EACXyE,yBAAyB,IAE7BnH,EAAMuC,YAAYH,GACdI,aAAc,eACdC,cAAc,EACdC,WAAW,EACXyE,yBAAyB,KAIjCnH,EAAM2C,gBAAkB,WACpBlD,EAAOQ,UAAU0C,gBAAgBN,KAAKC,MAGtCA,KAAKqkC,MAAQ7jC,OACbR,KAAKskC,SAAW,EAChBtkC,KAAK0iB,cAAgB,GACrB1iB,KAAKukC,YAAc,KACnBvkC,KAAKw0B,UAAY,KACjBx0B,KAAKwkC,aAAe,KACpBxkC,KAAKykC,aAAe,KACpBzkC,KAAK0kC,WAAa,KAClB1kC,KAAK2kC,WAAa,KAClB3kC,KAAKsyB,SAAW,KAChBtyB,KAAKu8B,QAAU,GAAItgC,qBAAoBC,OAAOC,SAASyoC,oBACvD5kC,KAAK6kC,wBAA0B,GAAI5oC,qBAAoBC,OAAOC,SAAS2oC,wBAAwB9kC,KAAKu8B,SACpGv8B,KAAKg/B,UAAY,GAAI/iC,qBAAoBC,OAAOC,SAASmgC,cAAct8B,KAAKu8B,QAASv8B,KAAK6kC,0BAM9FnnC,EAAMqnC,YAAc,SAAUnlC,GAC1B,GAEIugC,GAFAx/B,EAAOX,KACP+nB,EAAIpnB,EAAK2jC,QAEb3jC,GAAKu+B,UAAUv+B,EAAK0jC,MAAO1jC,EAAK2jC,UAChC3jC,EAAK47B,QAAQwI,YAAYnlC,GACzBe,EAAK47B,QAAQyI,sBAAsBrkC,EAAK2jC,SAAU,SAAU1wB,EAAGC,GAC3DlT,EAAKqqB,eAAejD,EAAGnU,EAAGC,KAE1BlT,EAAK+hB,eAAiB,IACtByd,EAAKx/B,EAAK0jC,MAAMt+B,WAAgC,EAArBpF,EAAK+hB,eAChCtlB,EAAE+iC,GAAInhB,YAAY,oBAGtBmhB,EAAKx/B,EAAK0jC,MAAMt+B,WAAe,EAAJgiB,GAC3BpnB,EAAK+hB,cAAgBqF,EACrBpnB,EAAK4jC,YAAcpE,EACnB/iC,EAAE+iC,GAAIr6B,SAAS,mBACfnF,EAAK2jC,YAGT5mC,EAAMstB,eAAiB,SAAUtV,EAAO9B,EAAGC,GACvC,GAAIoxB,GAAMlnC,SAASmnC,eAAe,KAAOxvB,GACrCyvB,EAAMpnC,SAASmnC,eAAe,KAAOxvB,EAC7B,QAARuvB,GAAsBzkC,SAANoT,IAChBqxB,EAAIrnB,UAAYhK,EAAE+d,YAAY,IAGtB,OAARwT,GAAsB3kC,SAANqT,IAChBsxB,EAAIvnB,UAAY/J,EAAE8d,YAAY,KAKtCj0B,EAAM0nC,cAAgB,SAAUxlC,GAC5B,GAAI8V,EACJA,GAAQ1V,KAAKu8B,QAAQ8I,cAAczlC,GAC/B8V,GAAS,IACTtY,EAAE,kBAAkBkoC,GAAG5vB,GAAO/W,SAC9BvB,EAAE,mBAAmBkoC,GAAG5vB,GAAO/W,SAC/BqB,KAAK6kC,wBAAwBU,WAAW7vB,GACxC1V,KAAKskC,WACLtkC,KAAKu8B,QAAQ6I,cAAcxlC,GAEvB8V,IAAU1V,KAAK0iB,gBACf1iB,KAAK0iB,cAAgB,MAKjChlB,EAAM8nC,cAAgB,SAAU5lC,GAC5B,GAAI8V,GAAQ1V,KAAKu8B,QAAQ8I,cAAczlC,EACvCI,MAAK6kC,wBAAwB9H,YAAYrnB,GACzC1V,KAAKylC,WAAW/vB,GAChB1V,KAAK0lC,cAAchwB,IAGvBhY,EAAM+nC,WAAa,SAAU/vB,GACzBtY,EAAE,SAAWsY,GAAOxP,KAAKlG,KAAKu8B,QAAQU,SAAS,OAAQvnB,KAG3DhY,EAAMgoC,cAAgB,SAAUhwB,GAC5B,GAAIjJ,GAAUzM,KAAKu8B,QAAQU,SAAS,UAAWvnB,EAC3CjJ,GACArP,EAAE,YAAcsY,GAAOsJ,YAAY,0BAA0BlZ,SAAS,yBAEtE1I,EAAE,YAAcsY,GAAOsJ,YAAY,yBAAyBlZ,SAAS,2BAI7EpI,EAAM+C,iBAAmB,WACrB,GAAIC,GAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,MACnDW,EAAOX,IAEX,IAAIU,KAAc,EAAM,CACpBC,EAAK47B,QAAQwD,UAAYp/B,EAAKo/B,UAC9Bp/B,EAAK47B,QAAQnD,aAAez4B,EAAKy4B,YACjC,IAAIxM,GAAM7uB,SAASC,cAAc,MACjC4uB,GAAIvpB,MAAMf,MAAQ,OAClBsqB,EAAIvpB,MAAMd,OAAS,OACnBqqB,EAAInpB,GAAK,MAAQlG,EAAW6V,WAC5BzS,EAAKpC,YAAYquB,GACjBjsB,EAAK0jC,MAAQtmC,SAASC,cAAc,SACpC2C,EAAK0jC,MAAMhxB,UAAY,iBACvBuZ,EAAIruB,YAAYoC,EAAK0jC,MAErB,IAAIsB,GAAa5nC,SAASC,cAAc,MACxC4uB,GAAIruB,YAAYonC,EAEhB,IAAIhC,GAAS5lC,SAASC,cAAc,SACpC2lC,GAAOtwB,UAAY,qCACnBjW,EAAEumC,GAAQxiB,YACV/jB,EAAEumC,GAAQn6B,GAAG,QAAS,WAClB7I,EAAK47B,QAAQqJ,aAAajlC,EAAK+hB,iBAEnCijB,EAAWpnC,YAAYolC,GACvBhjC,EAAK8jC,aAAed,CAEpB,IAAIzlC,GAAMH,SAASC,cAAc,SACjCE,GAAImV,UAAY,kCAChBjW,EAAEc,GAAKijB,YACP/jB,EAAEc,GAAKsL,GAAG,QAAS,WACf7I,EAAK47B,QAAQsJ,cAEjBF,EAAWpnC,YAAYL,GACvByC,EAAK6zB,UAAYt2B,CAEjB,IAAI4nC,GAAM/nC,SAASC,cAAc,SACjC8nC,GAAIzyB,UAAY,qCAChBjW,EAAE0oC,GAAK3kB,YACP/jB,EAAE0oC,GAAKt8B,GAAG,QAAS,WACf7I,EAAK47B,QAAQwJ,aAAaplC,EAAK+hB,eAC/B/hB,EAAK+hB,cAAgB,KAEzBijB,EAAWpnC,YAAYunC,GACvBnlC,EAAK6jC,aAAesB,EAEpBnlC,EAAKM,iBAAiB,qBAAsB,SAAUkD,GAClDxD,EAAKokC,YAAY5gC,EAAIvC,OAAOoT,kBAEhCrU,EAAKM,iBAAiB,qBAAsB,SAAUkD,GAClDxD,EAAKykC,cAAcjhC,EAAIvC,OAAOoT,kBAElCrU,EAAKM,iBAAiB,oBAAqB,SAAUkD,GACjDxD,EAAK6kC,cAAcrhC,EAAIvC,OAAOoT,iBAElC,IAAIjE,GAAQhT,SAAS+vB,cAAc,mBAAsBntB,EAAKo/B,UAAY,KAC5D,QAAVhvB,GACAA,EAAMmE,qBAAqBvU,GAInC,MAAOD,IAGXhD,EAAMsoC,cAAgB,SAAUnW,GAC5B,MAAO7vB,MAAK6kC,wBAAwBrE,oBAAoB3Q,IAG5DnyB,EAAMwhC,UAAY,SAAUmF,EAAO3uB,GAC/B,GAAI/U,GAAOX,KACP28B,EAAMh8B,EAAKslC,cAAc5B,EAAO3uB,GAChCma,EAAMlvB,EAAKulC,iBAAiB7B,EAAO3uB,EACvCtY,GAAEu/B,GAAKnzB,GAAG,QAAS,WACf,GAAI7I,EAAK+jC,aAAe7U,EAAK,CACzB,GAAI6U,GAAa/jC,EAAK+jC,WAClBC,EAAahkC,EAAKgkC,UACtB9U,GAAIxsB,MAAM6nB,QAAU,YACpBvqB,EAAK+jC,WAAa7U,EAClB8M,EAAI1+B,UAAUU,OAAO,kBACrBg+B,EAAI1+B,UAAUC,IAAI,gBAClByC,EAAKgkC,WAAahI,EACC,OAAf+H,IACAA,EAAWrhC,MAAM6nB,QAAU,QAGZ,OAAfyZ,IACAA,EAAW1mC,UAAUU,OAAO,gBAC5BgmC,EAAW1mC,UAAUC,IAAI,uBAG7B2xB,GAAIxsB,MAAM6nB,QAAU,OACpByR,EAAI1+B,UAAUU,OAAO,gBACrBg+B,EAAI1+B,UAAUC,IAAI,kBAClByC,EAAK+jC,WAAa,KAClB/jC,EAAKgkC,WAAa,OAG1BhkC,EAAKqgC,aAGTtjC,EAAMyoC,YAAc,SAAU9B,EAAOlE,GACjC,GAAI9wB,EACJ,KAAKA,EAAI,EAAGA,EAAIg1B,EAAMt+B,WAAW+J,OAAQT,IACrC,GAAIg1B,EAAMt+B,WAAWsJ,KAAO8wB,EACxB,MAAO9wB,GAAI,CAInB,OAAO,IAGX3R,EAAMuoC,cAAgB,SAAU5B,EAAO3uB,GACnC,GACI0wB,GACAjG,EAAIkG,EAAKpF,EAAKC,EAAKoF,EAAKC,EAAKhG,EAAMD,EAAGpV,EAASpK,EAAQ0lB,EAAgB/5B,EAFvE9L,EAAOX,IAoGX,OAjGAmgC,GAAKpiC,SAASC,cAAc,MAC5BmiC,EAAG9sB,UAAY,gBACfgxB,EAAM9lC,YAAY4hC,GAClB/iC,EAAE+iC,GAAI32B,GAAG,QAAS,WACV7I,EAAK4jC,cAAgBpE,GACI,OAArBx/B,EAAK4jC,aACLnnC,EAAEuD,EAAK4jC,aAAavlB,YAAY,mBAGpCre,EAAK+hB,cAAgB/hB,EAAKwlC,YAAY9B,EAAOlE,GAC7Cx/B,EAAK4jC,YAAcpE,EACnB/iC,EAAE+iC,GAAIr6B,SAAS,qBAEfnF,EAAK+hB,cAAgB,GACrBtlB,EAAEuD,EAAK4jC,aAAavlB,YAAY,sBAIxCqnB,EAAMtoC,SAASC,cAAc,MAC7BqoC,EAAIhzB,UAAY,gBAChB8sB,EAAG5hC,YAAY8nC,GACfG,EAAiBzoC,SAASC,cAAc,SACxCwoC,EAAenzB,UAAY,kCAC3BmzB,EAAenoC,KAAO,SACtBmoC,EAAe/iC,GAAK,WAAaiS,EACjC2wB,EAAI9nC,YAAYioC,GAChBppC,EAAEopC,GAAgBrlB,WAAY7e,MAAQ,GAAIC,OAAQ,GAAIoD,SAAUhF,EAAKy4B,eAErE6H,EAAMljC,SAASC,cAAc,MAC7BijC,EAAI5tB,UAAY,gBAChB8sB,EAAG5hC,YAAY0iC,GACf/V,EAAUvqB,EAAKkkC,wBAAwBrE,oBAAoB9qB,GAC3C,OAAZwV,IACAA,EAAQznB,GAAK,WAAaiS,EAC1BurB,EAAI1iC,YAAY2sB,IAGpBqV,EAAOxiC,SAASC,cAAc,QAC9BuiC,EAAKltB,UAAY,kBACjBktB,EAAK98B,GAAK,QAAUiS,EACpB4qB,EAAIviC,SAASuH,eAAe3E,EAAK47B,QAAQU,SAAS,OAAQvnB,IAC1D6qB,EAAKhiC,YAAY+hC,GACjBW,EAAI1iC,YAAYgiC,GAEhBW,EAAMnjC,SAASC,cAAc,MAC7BkjC,EAAI7tB,UAAY,WAChB8sB,EAAG5hC,YAAY2iC,GACfX,EAAOxiC,SAASC,cAAc,QAC9BuiC,EAAKltB,UAAY,aACjBktB,EAAK98B,GAAK,KAAOiS,EACjB4qB,EAAIviC,SAASuH,eAAeo6B,WAAW/+B,EAAK47B,QAAQU,SAAS,IAAKvnB,KAClE6qB,EAAKhiC,YAAY+hC,GACjBY,EAAI3iC,YAAYgiC,GAEhB+F,EAAMvoC,SAASC,cAAc,MAC7BsoC,EAAIjzB,UAAY,WAChB8sB,EAAG5hC,YAAY+nC,GACf/F,EAAOxiC,SAASC,cAAc,QAC9BuiC,EAAKltB,UAAY,aACjBktB,EAAK98B,GAAK,KAAOiS,EACjB4qB,EAAIviC,SAASuH,eAAeo6B,WAAW/+B,EAAK47B,QAAQU,SAAS,IAAKvnB,KAClE6qB,EAAKhiC,YAAY+hC,GACjBgG,EAAI/nC,YAAYgiC,GAEhBgG,EAAMxoC,SAASC,cAAc,MAC7BuoC,EAAIlzB,UAAY,iBAChB8sB,EAAG5hC,YAAYgoC,GACfzlB,EAAS/iB,SAASC,cAAc,SAChC8iB,EAAOzN,UAAY,wCACnByN,EAAOziB,KAAO,SACdyiB,EAAOrd,GAAK,WAAaiS,EACzBjJ,EAAU9L,EAAK47B,QAAQU,SAAS,UAAWvnB,GACvCjJ,EACAqU,EAAO7iB,UAAUC,IAAI,yBAErB4iB,EAAO7iB,UAAUC,IAAI,0BAGzBd,EAAE0jB,GAAQtX,GAAG,QAAS,WAClB48B,EAAWzlC,EAAKwlC,YAAY9B,EAAOlE,GACnCx/B,EAAK47B,QAAQO,YAAY,UAAW,GAAIsJ,KAG5CG,EAAIhoC,YAAYuiB,GAChB1jB,EAAE0jB,GAAQjb,iBAAkBF,SAAUhF,EAAKy4B,eAE3CtY,EAAS/iB,SAASC,cAAc,SAChC8iB,EAAOzN,UAAY,kCACnByN,EAAOziB,KAAO,SACdyiB,EAAOrd,GAAK,QAAUiS,EACtB6wB,EAAIhoC,YAAYuiB,GAChB1jB,EAAE0jB,GAAQtX,GAAG,QAAS,WAClB48B,EAAWzlC,EAAKwlC,YAAY9B,EAAOlE,GACnCx/B,EAAK47B,QAAQO,YAAY,OAAQ,GAAIsJ,KAEzChpC,EAAE0jB,GAAQjb,iBAAkBF,SAAUhF,EAAKy4B,eAEpCoN,GAGX9oC,EAAM+oC,kBAAoB,SAAUpC,EAAOliB,EAAO9O,GAC9C,GAAI8sB,GAAIc,EAAKC,EAAKtU,EAAK2T,EAAMD,CAoB7B,OAnBAH,GAAKpiC,SAASC,cAAc,MAC5BmiC,EAAG9sB,UAAY,iBACfgxB,EAAM9lC,YAAY4hC,GAElBc,EAAMljC,SAASC,cAAc,MAC7BijC,EAAI5tB,UAAY,2BAChB8sB,EAAG5hC,YAAY0iC,GACfV,EAAOxiC,SAASC,cAAc,QAC9BuiC,EAAAA,SAAa,uBACbU,EAAI1iC,YAAYgiC,GAChBD,EAAIviC,SAASuH,eAAe6c,GAC5Boe,EAAKhiC,YAAY+hC,GAEjBY,EAAMnjC,SAASC,cAAc,MAC7BkjC,EAAI7tB,UAAY,6BAChB8sB,EAAG5hC,YAAY2iC,GACftU,EAAM7uB,SAASC,cAAc,OAC7B4uB,EAAIvZ,UAAYA,EAChB6tB,EAAI3iC,YAAYquB,GACTA,GAGXlvB,EAAMwoC,iBAAmB,SAAU7B,EAAO3uB,GACtC,GAAIgxB,GAAUvG,EAAIwG,EAAI/Z,CAwBtB,OAtBAuT,GAAKpiC,SAASC,cAAc,MAC5BmiC,EAAG9sB,UAAY,iBACf8sB,EAAG98B,MAAM6nB,QAAU,OACnBmZ,EAAM9lC,YAAY4hC,GAElBwG,EAAK5oC,SAASC,cAAc,MAC5B2oC,EAAGC,QAAU,EACbzG,EAAG5hC,YAAYooC,GAEfD,EAAW3oC,SAASC,cAAc,SAClC0oC,EAASrzB,UAAY,aACrBszB,EAAGpoC,YAAYmoC,GAEf9Z,EAAM5sB,KAAKymC,kBAAkBC,EAAU,QAAS,oCAChD1mC,KAAKg/B,UAAUjB,aAAchpB,KAAM,SAAW6X,EAAKlX,GAEnDkX,EAAM5sB,KAAKymC,kBAAkBC,EAAU,QAAS,iCAChD1mC,KAAKg/B,UAAU9B,YAAYl9B,KAAKu8B,QAAQsK,YAAY,SAAUja,EAAKlX,EAAO,IAE1EkX,EAAM5sB,KAAKymC,kBAAkBC,EAAU,YAAa,qCACpD1mC,KAAKg/B,UAAU9B,YAAYl9B,KAAKu8B,QAAQsK,YAAY,aAAcja,EAAKlX,EAAO,IAEvEyqB,GAGXziC,EAAMsF,QAAU,SAAUC,EAAUC,EAAYC,EAAYC,GACxDjG,EAAOQ,UAAUqF,QAAQjD,KAAKC,KAAMiD,EAAUC,EAAYC,EAAYC,EAEtE,IAAIqB,GAAezE,KAAK0E,kBACpBgC,EAAetJ,EAAE,IAAMqH,EAAahB,GAAK,wBACzCqjC,EAAgB1pC,EAAE,IAAMqH,EAAahB,GAAK,qBAC1CsjC,EAAa3pC,EAAE,IAAMqH,EAAahB,GAAK,gBACvCujC,EAAa5pC,EAAE,IAAMqH,EAAahB,GAAK,gBACvCwjC,EAAmB7pC,EAAE,IAAMqH,EAAahB,GAAK,qBAEjDiD,GAAatH,KACTgG,YAAanC,EACbkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,IAElB0jC,EAAc1nC,KACVgG,YAAanC,EACbkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,IAElB2jC,EAAW3nC,KACPgG,YAAanC,EACbkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,IAElB4jC,EAAW5nC,KACPgG,YAAanC,EACbkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,IAElB6jC,EAAiB7nC,KACbgG,YAAanC,EACbkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,KAItB1F,EAAMsjC,UAAY,WACd,GAAIv8B,GAAezE,KAAK0E,kBACpBgC,EAAetJ,EAAE,IAAMqH,EAAahB,GAAK,wBACzCqjC,EAAgB1pC,EAAE,IAAMqH,EAAahB,GAAK,qBAC1CsjC,EAAa3pC,EAAE,IAAMqH,EAAahB,GAAK,gBACvCujC,EAAa5pC,EAAE,IAAMqH,EAAahB,GAAK,gBACvCwjC,EAAmB7pC,EAAE,IAAMqH,EAAahB,GAAK,sBAE7CR,EAAW7F,EAAE4C,MAAMZ,IAAI,aACvB8D,EAAa9F,EAAE4C,MAAMZ,IAAI,eACzB+D,EAAa/F,EAAE4C,MAAMZ,IAAI,eACzBgE,EAAYhG,EAAE4C,MAAMZ,IAAI,aAC5BsH,GAAatH,KACTgG,YAAanC,EACbkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,IAElB0jC,EAAc1nC,KACVgG,YAAanC,EACbkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C;GAElB2jC,EAAW3nC,KACPgG,YAAanC,EACbkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,IAElB4jC,EAAW5nC,KACPgG,YAAanC,EACbkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,IAElB6jC,EAAiB7nC,KACbgG,YAAanC,EACbkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,KAItB1F,EAAM2D,gBAAkB,SAAUnB,GAG9B,OAFA/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,GAEpCA,GACJ,IAAK,YAEDF,KAAKu8B,QAAQwD,UAAY//B,KAAK+/B,SAC9B,MACJ,KAAK,eAED//B,KAAKu8B,QAAQnD,aAAep5B,KAAKo5B,aACV,OAAnBp5B,KAAKw0B,YACLx0B,KAAKw0B,UAAU7uB,SAAW3F,KAAKo5B,cAGT,OAAtBp5B,KAAKwkC,eACLxkC,KAAKwkC,aAAa7+B,SAAW3F,KAAKo5B,cAGZ,OAAtBp5B,KAAKykC,eACLzkC,KAAKykC,aAAa9+B,SAAW3F,KAAKo5B,cAGtCh8B,EAAE4C,KAAKqkC,OAAOx6B,KAAK,qBAAqBuoB,KAAK,WACzCh1B,EAAE4C,MAAMmhB,WAAYxb,SAAU3F,KAAKo5B,iBAGvCh8B,EAAE4C,KAAKqkC,OAAOx6B,KAAK,yBAAyBuoB,KAAK,WAC7Ch1B,EAAE4C,MAAM6F,iBAAkBF,SAAU3F,KAAKo5B,iBAG7Ch8B,EAAE4C,KAAKqkC,OAAOx6B,KAAK,mBAAmBuoB,KAAK,WACvCh1B,EAAE4C,MAAM6F,iBAAkBF,SAAU3F,KAAKo5B,mBASzD17B,EAAMoE,kBAAkBpE,EAAO,mBAAoB,uBACrDzB,oBAAoBC,OAAOC,SAASioC,aAAcnoC,oBAAoBC,OAAOC,SAAS4G,QCjhBvF,WACG,YAEA,IAAIxF,GAAatB,oBAAoBC,OAAOsB,UACxCJ,EAAInB,oBAAoBoB,QAAQC,MAGpCrB,qBAAoBC,OAAOC,SAASyoC,oBAAsB,WACtD5kC,KAAK+/B,UAAY,GACjB//B,KAAKo5B,cAAe,EACpBp5B,KAAK4P,WACL5P,KAAKknC,kBAAoB3pC,EAAW2jB,KAAK,yBAM7C,IAAIhkB,GAAQjB,oBAAoBC,OAAOC,SAASyoC,oBAC5ClnC,EAAQR,EAAMS,SASlBD,GAAMmpC,YAAc,SAAU9xB,GAC1B,MAAa,UAATA,GAEIA,KAAM,eAAgBuoB,IAAK,kBAAmBrqB,WACxC8B,KAAM,UAAWuoB,IAAK,cAAeT,SAAU,gCAC/C9nB,KAAM,YAAauoB,IAAK,gBAAiBT,SAAU,6BACnD9nB,KAAM,UAAWuoB,IAAK,cAAeT,SAAU,gCAC/C9nB,KAAM,QAASuoB,IAAK,YAAaT,SAAU,8BAC3C9nB,KAAM,OAAQuoB,IAAK,WAAYT,SAAU,8BAGnC,cAAT9nB,GAEHA,KAAM,kBAAmBuoB,IAAK,qBAAsBrqB,WAC9C8B,KAAM,WAAYuoB,IAAK,cAAeT,SAAU,yBAChD9nB,KAAM,WAAYuoB,IAAK,eAAgBT,SAAU,+BACjD9nB,KAAM,aAAcuoB,IAAK,iBAAkBT,SAAU,iCACrD9nB,KAAM,OAAQuoB,IAAK,WAAYT,SAAU,4BANhD,QAYXn/B,EAAMqnC,YAAc,SAAUnlC,GAC1B,GAAIyP,EACJ,KAAKA,EAAI,EAAGA,EAAIrP,KAAK4P,QAAQE,OAAQT,IACjC,GAAIrP,KAAK4P,QAAQP,GAAG3L,cAAgB9D,EAAO8D,YACvC,MAIR1D,MAAK4P,QAAQM,KAAKtQ,IAItBlC,EAAM0nC,cAAgB,SAAUxlC,GAC5B,GAAIyP,EACJ,KAAKA,EAAI,EAAGA,EAAIrP,KAAK4P,QAAQE,OAAQT,IACjC,GAAIrP,KAAK4P,QAAQP,GAAG3L,cAAgB9D,EAAO8D,YAEvC,WADA1D,MAAK4P,QAAQ8E,OAAOrF,EAAG,IAMnC3R,EAAMmoC,UAAY,WACd,GAAI90B,GAAQhT,SAAS+vB,cAAc,mBAAsB9tB,KAAK+/B,UAAY,MACtEngC,EAAS7B,SAASC,cAAc,YACpC4B,GAAO8D,YAAcnG,EAAW6V,WAChCpT,KAAK4P,QAAQM,KAAKtQ,GAClBA,EAAO6X,MAAQzX,KAAKmnC,iBACpBp2B,EAAMxS,YAAYqB,IAGtBlC,EAAMkoC,aAAe,SAAUlwB,GAC3B,GAAI9V,GAASI,KAAKonC,UAAU1xB,EACb,QAAX9V,GAA8BY,SAAXZ,IACnBA,EAAOgU,EAAI,GACXhU,EAAOiU,EAAI,KAInBnW,EAAMsnC,sBAAwB,SAAUtvB,EAAO2xB,GAC3C,GAAIznC,GAASI,KAAKonC,UAAU1xB,EAG5B,IAAelV,SAAXZ,EACA,KAAM,IAAIgyB,OAAM,sBAGpBx0B,GAAEwC,GAAQ4J,GAAG,gBAAiB,SAAU7G,EAAGuO,GACvCm2B,EAAQn2B,EAAK0C,EAAG1C,EAAK2C,MAI7BnW,EAAMypC,eAAiB,WACnB,GAAIp2B,GAAqB1B,EAAGzP,EAAjB0nC,EAAW,CAEtB,IADAv2B,EAAQhT,SAAS+vB,cAAc,mBAAsB9tB,KAAK+/B,UAAY,MACxD,OAAVhvB,EACA,IAAK7T,IAAS6T,GAAMhL,WAC0B,cAAtCgL,EAAMhL,WAAW7I,GAAOukC,YACxB7hC,EAASmR,EAAMhL,WAAW7I,GAC1BmS,EAAIzM,SAAShD,EAAO6X,MAAM8lB,UAAUv9B,KAAKknC,kBAAkBp3B,SACvDT,EAAIi4B,IACJA,EAAWj4B,GAM3B,OAAOrP,MAAKknC,mBAAqBI,EAAW,IAGhD5pC,EAAM0pC,UAAY,SAAU1xB,GACxB,GACI3E,GAEA7T,EAHAmS,EAAI,EAEJzP,EAAS,IAEb,IAA4B,OAAxBI,KAAK4P,QAAQ8F,IAA2ClV,SAAxBR,KAAK4P,QAAQ8F,GAAsB,CAEnE,GADA3E,EAAQhT,SAAS+vB,cAAc,mBAAsB9tB,KAAK+/B,UAAY,MACxD,OAAVhvB,EACA,IAAK7T,IAAS6T,GAAMhL,WAChB,GAA0C,cAAtCgL,EAAMhL,WAAW7I,GAAOukC,UAA2B,CACnD,GAAIpyB,IAAMqG,EAAO,CACb9V,EAASmR,EAAMhL,WAAW7I,EAC1B,OAGJmS,IAKG,OAAXzP,IACAI,KAAK4P,QAAQ8F,GAAS9V,GAI9B,MAAOI,MAAK4P,QAAQ8F,IAGxBhY,EAAMqoC,aAAe,SAAUrwB,GAC3B,GAAI3E,GAAQhT,SAAS+vB,cAAc,mBAAsB9tB,KAAK+/B,UAAY,MACtEngC,EAASI,KAAKonC,UAAU1xB,EACb,QAAX9V,GAA8BY,SAAXZ,GACnBmR,EAAM5E,YAAYvM,IAI1BlC,EAAM2nC,cAAgB,SAAUzlC,GAC5B,GAAIyP,GAAI,EAAGqG,EAAQ,EACnB,KAAKrG,EAAI,EAAGA,EAAIrP,KAAK4P,QAAQE,OAAQT,IACT,OAApBrP,KAAK4P,QAAQP,IAAezP,EAAO8D,cAAgB1D,KAAK4P,QAAQP,GAAG3L,cACnEgS,EAAQrG,EAIhB,OAAOqG,IAGXhY,EAAMo/B,YAAc,SAAU+E,EAAUC,EAAKpsB,GACzC,GAAI9V,GAASI,KAAKonC,UAAU1xB,EAC5B,IAAe,OAAX9V,GAA8BY,SAAXZ,EAIvB,OAAQiiC,GACJ,IAAK,OACD,KACJ,KAAK,IACD,KACJ,KAAK,IACD,KACJ,KAAK,UACDjiC,EAAO0O,MAAQ1O,EAAO0O,IACtB,MACJ,KAAK,OACD1O,EAAOob,YAAcpb,EAAOob,UAC5B,MACJ,KAAK,SACDpb,EAAOgU,EAAI,GACXhU,EAAOiU,EAAI,EACX,MACJ,KAAK,SACD7T,KAAK+lC,aAAarwB,EAClB,MACJ,KAAK,UACD9V,EAAOqb,YAAc,SACrB,MACJ,KAAK,YACDrb,EAAOqb,YAAc,WACrB,MACJ,KAAK,UACDrb,EAAOqb,YAAc,SACrB,MACJ,KAAK,QACDrb,EAAOqb,YAAc,OACrB,MACJ,KAAK,OACDrb,EAAOqb,YAAc,MACrB,MACJ,KAAK,WACDrb,EAAO+a,eAAiB,MACxB,MACJ,KAAK,WACD/a,EAAO+a,eAAiB,UACxB,MACJ,KAAK,aACD/a,EAAO+a,eAAiB,YACxB,MACJ,KAAK,OACD/a,EAAO+a,eAAiB,MACxB,MACJ,KAAK,QACD/a,EAAOkb,YAAc,IAAMgnB,EAAIpE,MAK3ChgC,EAAMu/B,SAAW,SAAU4E,EAAUnsB,GACjC,GAAI9V,GAASI,KAAKonC,UAAU1xB,EAC5B,IAAe,OAAX9V,GAA8BY,SAAXZ,EAAvB,CAIA,GAAIo9B,EACJ,QAAQ6E,GACJ,IAAK,OACD7E,EAAQp9B,EAAO6X,KACf,MACJ,KAAK,IACDulB,EAAQp9B,EAAOgU,CACf,MACJ,KAAK,IACDopB,EAAQp9B,EAAOiU,CACf,MACJ,KAAK,UACDmpB,EAAQp9B,EAAO0O,IACf,MACJ,KAAK,OACD0uB,EAAQp9B,EAAOob,UACf,MACJ,KAAK,SACD,KACJ,KAAK,SACD,KACJ,KAAK,UACDgiB,EAA+B,YAAvBp9B,EAAOqb,WACf,MACJ,KAAK,YACD+hB,EAA+B,cAAvBp9B,EAAOqb,WACf,MACJ,KAAK,UACD+hB,EAA+B,YAAvBp9B,EAAOqb,WACf,MACJ,KAAK,QACD+hB,EAA+B,UAAvBp9B,EAAOqb,WACf,MACJ,KAAK,OACD+hB,EAA+B,SAAvBp9B,EAAOqb,WACf,MACJ,KAAK,WACD+hB,EAAkC,SAA1Bp9B,EAAO+a,cACf,MACJ,KAAK,WACDqiB,EAAkC,aAA1Bp9B,EAAO+a,cACf,MACJ,KAAK,aACDqiB,EAAkC,eAA1Bp9B,EAAO+a,cACf,MACJ,KAAK,OACDqiB,EAAkC,SAA1Bp9B,EAAO+a,cACf,MACJ,KAAK,QACDqiB,EAAQp9B,EAAOkb,YAIvB,MAAOkiB,KAGXt/B,EAAM6pC,eAAiB,SAAU7xB,GAC7B,GAAI9V,GAASI,KAAKonC,UAAU1xB,EAC5B,OAAe,QAAX9V,GAA8BY,SAAXZ,EACZA,EAAOqb,YAGX,WAGXvd,EAAM8pC,aAAe,SAAU9xB,GAC3B,GAAI9V,GAASI,KAAKonC,UAAU1xB,EAC5B,OAAe,QAAX9V,GAA8BY,SAAXZ,EACZA,EAAO+a,eADlB,WC3SP,WACG,YAGA1e,qBAAoBC,OAAOC,SAAS2oC,wBAA0B,SAAUvI,GACpEv8B,KAAKu8B,QAAUA,EACfv8B,KAAKojB,SAMT,IAAIlmB,GAAQjB,oBAAoBC,OAAOC,SAAS2oC,wBAC5CpnC,EAAQR,EAAMS,UAGdmlC,EAAQ,4BAMZplC,GAAM6nC,WAAa,SAAU7vB,GACzB1V,KAAKojB,MAAM1O,OAAOgB,EAAO,IAI7BhY,EAAM8iC,oBAAsB,SAAU9qB,GAClC,GAAIqtB,GACAnjC,EAASI,KAAKu8B,QAAQ6K,UAAU1xB,EACpC,OAAelV,UAAXZ,EACO,MAGXmjC,EAAMhlC,SAASilC,gBAAgBF,EAAO,OACtCC,EAAIrgC,aAAa,QAAS,qBAE1BqgC,EAAIrgC,aAAa,QAAS,MAC1BqgC,EAAIrgC,aAAa,SAAU,MAC3BqgC,EAAIrgC,aAAa,UAAW,aAC5BqgC,EAAIE,eAAe,gCAAiC,cAAe,gCACnEjjC,KAAKynC,UAAU7nC,EAAQmjC,EAAKD,GAC5B9iC,KAAKojB,MAAMlT,KAAK6yB,GACTA,IAGXrlC,EAAM+pC,UAAY,SAAU7nC,EAAQmjC,EAAKD,GACrC9iC,KAAK0nC,UAAU9nC,EAAQmjC,EAAKD,GAC5B9iC,KAAK2nC,SAAS/nC,EAAQmjC,EAAKD,EAAO,IAAK,IAAK,IAAK,IAAK,GACtD9iC,KAAK2nC,SAAS/nC,EAAQmjC,EAAKD,EAAO,KAAM,IAAK,KAAM,IAAK,GACxD9iC,KAAK2nC,SAAS/nC,EAAQmjC,EAAKD,EAAO,IAAK,KAAM,IAAK,KAAM,GACxD9iC,KAAK2nC,SAAS/nC,EAAQmjC,EAAKD,EAAO,IAAK,IAAK,IAAK,IAAK,IAG1DplC,EAAMgqC,UAAY,SAAU9nC,EAAQmjC,EAAKD,GACrC,GAAI8E,GAAMC,EACNzpB,EAAQxe,EAAOqb,YACftb,EAAQK,KAAK8nC,eAAeloC,EAAQ,EACxC,QAAQwe,GACJ,IAAK,UACDypB,EAAS9pC,SAASilC,gBAAgBF,EAAO,UACzC+E,EAAOnlC,aAAa,KAAM,KAC1BmlC,EAAOnlC,aAAa,KAAM,KAC1BmlC,EAAOnlC,aAAa,IAAK,KACzBmlC,EAAOnlC,aAAa,SAAU/C,GAC9BkoC,EAAOnlC,aAAa,eAAgB,KACpCmlC,EAAOnlC,aAAa,OAAQ,oBAC5BqgC,EAAIxkC,YAAYspC,EAChB,MACJ,KAAK,YACDD,EAAO7pC,SAASilC,gBAAgBF,EAAO,QACvC8E,EAAKllC,aAAa,IAAK,KACvBklC,EAAKllC,aAAa,IAAK,KACvBklC,EAAKllC,aAAa,QAAS,KAC3BklC,EAAKllC,aAAa,SAAU,KAC5BklC,EAAKllC,aAAa,SAAU/C,GAC5BioC,EAAKllC,aAAa,eAAgB,KAClCklC,EAAKllC,aAAa,OAAQ,oBAC1BqgC,EAAIxkC,YAAYqpC,EAChB,MACJ,KAAK,UACD5nC,KAAK2nC,SAAS/nC,EAAQmjC,EAAKD,EAAO,IAAK,IAAK,KAAM,IAAK,GACvD9iC,KAAK2nC,SAAS/nC,EAAQmjC,EAAKD,EAAO,KAAM,IAAK,IAAK,KAAM,GACxD9iC,KAAK2nC,SAAS/nC,EAAQmjC,EAAKD,EAAO,IAAK,KAAM,IAAK,IAAK,GACvD9iC,KAAK2nC,SAAS/nC,EAAQmjC,EAAKD,EAAO,IAAK,IAAK,IAAK,IAAK,EACtD,MACJ,KAAK,QACD9iC,KAAK2nC,SAAS/nC,EAAQmjC,EAAKD,EAAO,IAAK,IAAK,KAAM,KAAM,GACxD9iC,KAAK2nC,SAAS/nC,EAAQmjC,EAAKD,EAAO,IAAK,KAAM,KAAM,IAAK,EACxD,MACJ,KAAK,OACD9iC,KAAK2nC,SAAS/nC,EAAQmjC,EAAKD,EAAO,IAAK,IAAK,IAAK,KAAM,GACvD9iC,KAAK2nC,SAAS/nC,EAAQmjC,EAAKD,EAAO,IAAK,IAAK,KAAM,IAAK,KAKnEplC,EAAMiqC,SAAW,SAAU/nC,EAAQmjC,EAAKD,EAAOiF,EAAIC,EAAIC,EAAIC,EAAIC,GAC3D,GAAI/E,GAAOrlC,SAASilC,gBAAgBF,EAAO,OAC3CM,GAAK1gC,aAAa,KAAMqlC,GACxB3E,EAAK1gC,aAAa,KAAMslC,GACxB5E,EAAK1gC,aAAa,KAAMulC,GACxB7E,EAAK1gC,aAAa,KAAMwlC,GACxB9E,EAAK1gC,aAAa,SAAU1C,KAAK8nC,eAAeloC,EAAQuoC,IACxD/E,EAAK1gC,aAAa,eAAgB,GAClCqgC,EAAIxkC,YAAY6kC,IAGpB1lC,EAAMoqC,eAAiB,SAAUloC,EAAQwoC,GACrC,GAEIt0B,GAFAu0B,EAAYzoC,EAAO+a,eACnBhb,EAAQC,EAAOkb,WAEnB,QAAQutB,GACJ,IAAK,OACDv0B,EAAO9T,KAAK4jC,eAAejkC,EAAqB,IAAdyoC,EAAkB,MAAQ,IAC5D,MACJ,KAAK,WACDt0B,EAAO9T,KAAK4jC,eAAejkC,EAAqB,IAAdyoC,GAAiC,IAAdA,GAAiC,IAAdA,EAAkB,MAAQ,IAClG,MACJ,KAAK,aACDt0B,EAAO9T,KAAK4jC,eAAejkC,EAAqB,IAAdyoC,GAAiC,IAAdA,GAAiC,IAAdA,EAAkB,MAAQ,IAClG,MACJ,KAAK,OACDt0B,EAAO9T,KAAK4jC,eAAejkC,EAAO,OAI1C,MAAOmU,IAGXpW,EAAMkmC,eAAiB,SAAUjkC,EAAOkkC,GACpC,GAAI/X,GAAIlpB,SAASjD,EAAM49B,UAAU,EAAG,GAAI,IACpCM,EAAIj7B,SAASjD,EAAM49B,UAAU,EAAG,GAAI,IACpC1C,EAAIj4B,SAASjD,EAAM49B,UAAU,GAAI,GACrC,OAAO,QAAUzR,EAAI,IAAM+R,EAAI,IAAMhD,EAAI,IAAMgJ,EAAQ,KAG3DnmC,EAAMq/B,YAAc,SAAUrnB,GAC1B,GAAIqtB,GAAM/iC,KAAKojB,MAAM1N,GACjB9V,EAASI,KAAKu8B,QAAQ6K,UAAU1xB,EACpC,IAAelV,SAAXZ,EACA,MAAO,KAGX,MAAOmjC,EAAI3jB,YACP2jB,EAAI52B,YAAY42B,EAAI3jB,WAGxBpf,MAAKynC,UAAU7nC,EAAQmjC,EAAKD,OCnJpC7mC,oBAAoBC,OAAOC,SAASmsC,YAAc,WAC9C,cAMH,SAAUprC,EAAOC,GACd,YAEA,IAAIC,GAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,YACdC,aAAc,GACdC,WAAW,EACXyE,yBAAyB,IAE7BnH,EAAMuC,YAAYH,GACdI,aAAc,eACdC,cAAc,EACdC,WAAW,EACXyE,yBAAyB,KAIjCnH,EAAM2C,gBAAkB,WACpBlD,EAAOQ,UAAU0C,gBAAgBN,KAAKC,MAGtCA,KAAK0+B,IAAMl+B,OACXR,KAAKuoC,QAAU,EACfvoC,KAAK4+B,gBAAkB,KACvB5+B,KAAKu8B,QAAU,GAAItgC,qBAAoBC,OAAOC,SAASqsC,mBACvDxoC,KAAKg/B,UAAY,GAAI/iC,qBAAoBC,OAAOC,SAASmgC,cAAct8B,KAAKu8B,QAAS,OAMzF7+B,EAAM+qC,WAAa,WACfzoC,KAAKk/B,UAAUl/B,KAAK0+B,IAAK1+B,KAAKuoC,SAC9BvoC,KAAKu8B,QAAQmM,SAAS1oC,KAAKuoC,SAC3BvoC,KAAKuoC,WAGT7qC,EAAMirC,aAAe,SAAUC,GAC3B,GAAIzI,GAAIwG,EAAIzgC,EAAMmJ,EAAGuC,EAAG8D,EAAOmzB,EAAW,IAE1C,KADAj3B,EAAI,EACCvC,EAAI,EAAGA,EAAIrP,KAAK0+B,IAAI34B,WAAW+J,OAAQT,IAAK,CAC7C,GAAyC,OAArCrP,KAAK0+B,IAAI34B,WAAWsJ,GAAGoyB,YACvBtB,EAAKngC,KAAK0+B,IAAI34B,WAAWsJ,GACzBs3B,EAAKxG,EAAGp6B,WAAW,GACnBG,EAAOygC,EAAG/oB,UACN1X,IAAS0iC,EAAMnxB,OAAO,CACtBoxB,EAAW1I,EACXzqB,EAAQ9D,CACR,OAIRA,IAGa,OAAbi3B,IACA7oC,KAAK0+B,IAAIvyB,YAAY08B,GACrB7oC,KAAKu8B,QAAQuM,WAAWpzB,IAG5B1V,KAAKuoC,WAGT7qC,EAAM6hC,WAAa,WACf,GAAIlwB,EACJ,KAAKA,EAAI,EAAGA,EAAIrP,KAAKuoC,QAASl5B,IAC1BrP,KAAKk/B,UAAUl/B,KAAK0+B,IAAKrvB,IAIjC3R,EAAM+C,iBAAmB,WACrB,GACIgE,GADA/D,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,MAEnDW,EAAOX,IAEX,IAAIU,KAAc,EAAM,CACpBV,KAAKu8B,QAAQwD,UAAY//B,KAAK+/B,UAC9B//B,KAAKu8B,QAAQnD,aAAep5B,KAAKo5B,aACjC30B,EAAe1G,SAASC,cAAc,OACtCyG,EAAapB,MAAMf,MAAQ,OAC3BmC,EAAapB,MAAMd,OAAS,OAC5BvC,KAAKzB,YAAYkG,GACjBzE,KAAK0+B,IAAM3gC,SAASC,cAAc,SAClCgC,KAAK0+B,IAAIrrB,UAAY,sBACrB5O,EAAalG,YAAYyB,KAAK0+B,KAC9B1+B,KAAKu/B,aACLv/B,KAAKiB,iBAAiB,6BAA8B,WAChDN,EAAK8nC,eAETzoC,KAAKiB,iBAAiB,6BAA8B,SAAUkD,GAC1DxD,EAAKgoC,aAAaxkC,EAAIvC,OAAOoT,kBAEjChV,KAAKiB,iBAAiB,kBAAmB,SAAUkD,GAC/C,GAAIykC,GAAQzkC,EAAIvC,OAAOoT,eACnBU,EAAQ/U,EAAK47B,QAAQwM,aAAaH,GAClC57B,EAAS5P,EAAE4C,KAAK0+B,KAAK70B,KAAK,gBAC9BzM,GAAE4P,EAAO0I,IAAQsc,QAAQ9rB,KAAK0iC,EAAMnxB,QAExC,IAAI1G,GAAQhT,SAAS+vB,cAAc,mBAAsB9tB,KAAK+/B,UAAY,KAC5D,QAAVhvB,GACAA,EAAMoE,oBAAoBnV,MAIlC,MAAOU,IAGXhD,EAAMwhC,UAAY,SAAUR,EAAKhpB,GAC7B,GACIyqB,GAAIc,EAAKC,EAAKoF,EAAK/F,EAAMD,EAAG0I,EAASC,EADrCtoC,EAAOX,IAGXmgC,GAAKpiC,SAASC,cAAc,MAC5B0gC,EAAIngC,YAAY4hC,GAChBc,EAAMljC,SAASC,cAAc,MAC7BijC,EAAI5tB,UAAY,mBAChB8sB,EAAG5hC,YAAY0iC,GACfV,EAAOxiC,SAASC,cAAc,QAC9BuiC,EAAKltB,UAAY,eACjB4tB,EAAI1iC,YAAYgiC,EAChB,IAAI2I,GAAYvoC,EAAK47B,QAAQU,SAAS,OAAQvnB,EAC9C4qB,GAAIviC,SAASuH,eAAe4jC,GAC5B3I,EAAKhiC,YAAY+hC,GAEjBY,EAAMnjC,SAASC,cAAc,MAC7BkjC,EAAI7tB,UAAY,cAChB8sB,EAAG5hC,YAAY2iC,GACf8H,EAAUjrC,SAASC,cAAc,UACjCgrC,EAAQ3qC,KAAO,SACf2qC,EAAQ31B,UAAY,2BACpBjW,EAAE4rC,GAASnjC,kBACXzI,EAAE4rC,GAASnjC,iBAAkBF,UAAW3F,KAAKu8B,QAAQU,SAAS,UAAWvnB,KACzEtY,EAAE4rC,GAASx/B,GAAG,QAAS,WACnB7I,EAAK47B,QAAQO,YAAY,OAAQpnB,GACjC/U,EAAKwoC,kBAAkBH,GAAS,EAAOtzB,KAE3C/U,EAAKwoC,kBAAkBH,GAAS,EAAMtzB,GACtCwrB,EAAI3iC,YAAYyqC,GAEhB1C,EAAMvoC,SAASC,cAAc,MAC7BsoC,EAAIjzB,UAAY,mBAChB8sB,EAAG5hC,YAAY+nC,GACf2C,EAAelrC,SAASC,cAAc,UACtCirC,EAAa5qC,KAAO,SACpB4qC,EAAa51B,UAAY,gCACzBjW,EAAE6rC,GAAcz/B,GAAG,QAAS,WACxB7I,EAAK47B,QAAQO,YAAY,YAAapnB,GACtC/U,EAAKwoC,kBAAkBH,GAAS,EAAOtzB,KAE3C4wB,EAAI/nC,YAAY0qC,GAChBjpC,KAAKghC,aAGTtjC,EAAMyrC,kBAAoB,SAAUxM,EAAK3K,EAAOtc,GAC5C,GAAIsnB,GAAQh9B,KAAKu8B,QAAQU,SAAS,OAAQvnB,EAC5BlV,UAAVw8B,IACIhL,KAAU,GACV50B,EAAEu/B,GAAK92B,iBAAkBZ,QAAW+3B,IAGpCA,KAAU,GACVL,EAAI1+B,UAAUU,OAAO,kBACrBg+B,EAAI1+B,UAAUC,IAAI,sBAElBy+B,EAAI1+B,UAAUU,OAAO,oBACrBg+B,EAAI1+B,UAAUC,IAAI,qBAK9BR,EAAMsF,QAAU,SAAUC,EAAUC,EAAYC,EAAYC,GACxDjG,EAAOQ,UAAUqF,QAAQjD,KAAKC,KAAMiD,EAAUC,EAAYC,EAAYC,EAEtE,IAAIqB,GAAezE,KAAK0E,kBACpB08B,EAAiBhkC,EAAEqH,GAAcoF,KAAK,iBAE1Cu3B,GAAehiC,KACXgG,YAAanC,EACbkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,KAItB1F,EAAMsjC,UAAY,WACd,GAAIv8B,GAAezE,KAAK0E,kBACpB08B,EAAiBhkC,EAAEqH,GAAcoF,KAAK,kBAEtC5G,EAAW7F,EAAE4C,MAAMZ,IAAI,aACvB8D,EAAa9F,EAAE4C,MAAMZ,IAAI,eACzB+D,EAAa/F,EAAE4C,MAAMZ,IAAI,eACzBgE,EAAYhG,EAAE4C,MAAMZ,IAAI,aAC5BgiC,GAAehiC,KACXgG,YAAanC,EACbkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,KAItB1F,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,EAE5C,IAAIS,GAAOX,IAEX,QAAQE,GACJ,IAAK,YAEDF,KAAKu8B,QAAQwD,UAAY//B,KAAK+/B,SAC9B,MACJ,KAAK,eAED//B,KAAKu8B,QAAQnD,aAAep5B,KAAKo5B,aACjCh8B,EAAE4C,KAAK0+B,KAAK70B,KAAK,mBAAmBuoB,KAAK,WACrCh1B,EAAE4C,MAAM6F,iBAAkBF,SAAUhF,EAAKy4B,iBAE7Ch8B,EAAE4C,KAAK0+B,KAAK70B,KAAK,wBAAwBuoB,KAAK,WAC1Ch1B,EAAE4C,MAAMopC,KAAK,WAAYzoC,EAAKy4B,kBAQ9C17B,EAAMoE,kBAAkBpE,EAAO,kBAAmB,sBACpDzB,oBAAoBC,OAAOC,SAASmsC,YAAarsC,oBAAoBC,OAAOC,SAAS4G,QCzPtF,WACG,YAGA9G,qBAAoBC,OAAOC,SAASqsC,mBAAqB,WACrDxoC,KAAK+/B,UAAY,GACjB//B,KAAKo5B,cAAe,EACpBp5B,KAAKqpC,UAMT,IAAInsC,GAAQjB,oBAAoBC,OAAOC,SAASqsC,mBAC5C9qC,EAAQR,EAAMS,SASlBD,GAAMgrC,SAAW,aAGjBhrC,EAAMorC,WAAa,SAAUpzB,GACzB1V,KAAKqpC,OAAO3zB,GAAS,MAGzBhY,EAAM4rC,SAAW,SAAU5zB,GACvB,GACI3E,GAEA7T,EAHAmS,EAAI,EAEJu5B,EAAQ,IAEZ,IAA2B,OAAvB5oC,KAAKqpC,OAAO3zB,IAA0ClV,SAAvBR,KAAKqpC,OAAO3zB,GAAsB,CAGjE,GAFA3E,EAAQhT,SAAS+vB,cAAc,mBAAsB9tB,KAAK+/B,UAAY,MAExD,OAAVhvB,EACA,IAAK7T,IAAS6T,GAAMhL,WAChB,GAA0C,sBAAtCgL,EAAMhL,WAAW7I,GAAOukC,WACc,mBAAtC1wB,EAAMhL,WAAW7I,GAAOukC,UAAgC,CACxD,GAAIpyB,IAAMqG,EAAO,CACbkzB,EAAQ73B,EAAMhL,WAAW7I,EACzB,OAGJmS,IAKZ,GAAc,OAAVu5B,EACA,MAAO,KAGX5oC,MAAKqpC,OAAO3zB,GAASkzB,EAGzB,MAAO5oC,MAAKqpC,OAAO3zB,IAGvBhY,EAAMqrC,aAAe,SAAUH,GAC3B,GAAsB73B,GAAO7T,EAAOqsC,EAAhCl6B,EAAI,EAAGqG,EAAQ,CAEnB,IADA3E,EAAQhT,SAAS+vB,cAAc,mBAAsB9tB,KAAK+/B,UAAY,MACxD,OAAVhvB,EACA,IAAK7T,IAAS6T,GAAMhL,WAChB,GAA0C,sBAAtCgL,EAAMhL,WAAW7I,GAAOukC,WACc,mBAAtC1wB,EAAMhL,WAAW7I,GAAOukC,UAAgC,CAExD,GADA8H,EAAex4B,EAAMhL,WAAW7I,GAC5BqsC,IAAiBX,EAAO,CACxBlzB,EAAQrG,CACR,OAGJA,IAKZ,MAAOqG,IAGXhY,EAAMo/B,YAAc,SAAU+E,EAAUnsB,GACpC,GAAI1V,KAAKo5B,gBAAiB,EAAM,CAC5B,GAAIwP,GAAQ5oC,KAAKspC,SAAS5zB,EAC1B,IAAc,OAAVkzB,EACA,MAGJ,QAAQ/G,GACJ,IAAK,OACG+G,EAAMjxB,UAGNixB,EAAMxwB,YAENwwB,EAAMjxB,WAAY,CAGtB,MACJ,KAAK,YACDixB,EAAMxwB,eAMtB1a,EAAMu/B,SAAW,SAAU4E,EAAUnsB,GACjC,GAAIkzB,GAAQ5oC,KAAKspC,SAAS5zB,EAC1B,IAAc,OAAVkzB,EAAJ,CAIA,GAAI5L,EACJ,QAAQ6E,GACJ,IAAK,UACD7E,EAA4B,mBAApB4L,EAAMnH,SACd,MACJ,KAAK,OACDzE,EAAQ4L,EAAMjxB,SACd,MACJ,KAAK,YACD,KACJ,KAAK,OACDqlB,EAAQ4L,EAAMnxB,MAItB,MAAOulB,QChIf/gC,oBAAoBC,OAAOC,SAASqtC,WAAa,WAC7C,cAIJvtC,oBAAoBC,OAAOC,SAASqtC,WAAWC,SAAWntC,OAAOC,QAC7DmtC,OAAQ,SACRC,IAAK,MACLC,KAAM,SAGT,SAAU1sC,EAAOC,GACd,YAEA,IAAI0sC,GAAY5tC,oBAAoBC,OAAOC,SAASqtC,WAAWC,SAC3DrsC,EAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,UAEdmsC,IACJA,GAAiBD,EAAUH,UAAW,GAAM,GAAO,GACnDI,EAAiBD,EAAUF,OAAQ,GAAO,GAAM,GAChDG,EAAiBD,EAAUD,QAAS,GAAO,GAAO,GAGlDlsC,EAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,YACdC,aAAc,GACdC,WAAW,EACXyE,yBAAyB,IAG7BnH,EAAMuC,YAAYH,GACdI,aAAc,eACdC,cAAc,EACdC,WAAW,EACXyE,yBAAyB,IAG7BnH,EAAMuC,YAAYH,GACdI,aAAc,OACdC,aAAc0pC,EAAUF,IACxBvpC,WAAW,EACXyE,yBAAyB,KAIjCnH,EAAM2C,gBAAkB,WACpBlD,EAAOQ,UAAU0C,gBAAgBN,KAAKC,MACtCA,KAAKoX,aAAe5W,QAGxB9C,EAAM+C,iBAAmB,WACrB,GACIgE,GADA/D,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,MAEnDW,EAAOX,IAEX,IAAIU,KAAc,EAAM,CACpB+D,EAAe1G,SAASC,cAAc,OACtCyG,EAAahB,GAAK,MAAQlG,EAAW6V,WACrC3O,EAAapB,MAAMf,MAAQ,OAC3BmC,EAAapB,MAAMd,OAAS,OAC5BvC,KAAKzB,YAAYkG,GACjBzE,KAAKqkC,MAAQtmC,SAASC,cAAc,SACpCgC,KAAKqkC,MAAMhxB,UAAY,qBACvB5O,EAAalG,YAAYyB,KAAKqkC,OAC9BrkC,KAAKk/B,UAAUl/B,KAAKqkC,MACpB,IAAItzB,GAAQhT,SAAS+vB,cAAc,mBAAsB9tB,KAAK+/B,UAAY,KAC5D,QAAVhvB,GACIA,YAAiB9U,qBAAoBC,OAAOC,SAASgS,qBACrD4C,EAAMqE,mBAAmBpV,MACzBA,KAAKoX,aAAerG,GAI5B/Q,KAAKiB,iBAAiB,kCAAmC,SAAUkD,GAG/D,GAAIkR,GAASlR,EAAIvC,OAAOoT,eAAeK,OACnCrE,EAAOrQ,EAAKyW,aAAarG,KAG7B3T,GAAEg1B,KAAKphB,EAAK+4B,WAAY,SAAUC,EAAGj6B,GACjC,GAAIk6B,GAAOl6B,EAAKoI,OAChB8xB,GAAKnhC,IAAMuM,EAAO60B,MAAMC,KACxBF,EAAKhjC,IAAMoO,EAAO60B,MAAME,KAG5BhtC,EAAEg1B,KAAKphB,EAAKq5B,WAAY,SAAUL,EAAGj6B,GACjC,GAAIk6B,GAAOl6B,EAAKoI,OAChB8xB,GAAKnhC,IAAMuM,EAAOi1B,MAAMH,KACxBF,EAAKhjC,IAAMoO,EAAOi1B,MAAMF,KAG5Bp5B,EAAKmB,YACLnB,EAAKoB,OACLpB,EAAKu5B,iBAEL5pC,EAAKyW,aAAavH,KAAKwG,QAAQ,SAAUtG,GACrCA,EAAKwI,mBAIbvY,KAAKiB,iBAAiB,iCAAkC,WACpDN,EAAKyW,aAAavH,KAAKwG,QAAQ,SAAUtG,GACrCA,EAAKwI,mBAKjB,MAAO7X,IAGXhD,EAAMwhC,UAAY,SAAUR,GAIxB,QAAS8L,GAAmBC,EAAQv7B,EAAKF,GACrC5R,EAAEstC,GAAS7kC,iBAAkBF,SAAU8kC,IACvCrtC,EAAEutC,GAAQ9kC,iBAAkBF,SAAUuJ,IACtC9R,EAAEwtC,GAAS/kC,iBAAkBF,SAAUqJ,IAG3C,QAAS67B,GAAQ1/B,GACb,GAAI2/B,GAAUhB,EAAiB3+B,EAE3B2/B,KACAN,EAAmBO,MAAM,KAAMD,GAC/BnqC,EAAKwK,KAAOA,GAdpB,GACIg1B,GAAIc,EAAKC,EAAKoF,EAAKC,EAAKmE,EAASC,EAAQC,EAASI,EADlDrqC,EAAOX,IAkBXmgC,GAAKpiC,SAASC,cAAc,MAC5B0gC,EAAIngC,YAAY4hC,GAChBc,EAAMljC,SAASC,cAAc,MAC7BijC,EAAI5tB,UAAY,gBAChB8sB,EAAG5hC,YAAY0iC,GACfyJ,EAAU3sC,SAASC,cAAc,UACjC0sC,EAAQrsC,KAAO,SACfqsC,EAAQr3B,UAAY,wCACpBjW,EAAEstC,GAAS7kC,kBACXzI,EAAEstC,GAASlhC,GAAG,QAAS,WACnBqhC,EAAQhB,EAAUH,UAEtBzI,EAAI1iC,YAAYmsC,GAEhBxJ,EAAMnjC,SAASC,cAAc,MAC7BkjC,EAAI7tB,UAAY,gBAChB8sB,EAAG5hC,YAAY2iC,GACfyJ,EAAS5sC,SAASC,cAAc,UAChC2sC,EAAOtsC,KAAO,SACdssC,EAAOt3B,UAAY,qCACnBjW,EAAEutC,GAAQ9kC,kBACVzI,EAAEutC,GAAQnhC,GAAG,QAAS,WAClBqhC,EAAQhB,EAAUF,OAEtBzI,EAAI3iC,YAAYosC,GAEhBrE,EAAMvoC,SAASC,cAAc,MAC7BsoC,EAAIjzB,UAAY,gBAChB8sB,EAAG5hC,YAAY+nC,GACfsE,EAAU7sC,SAASC,cAAc,UACjC4sC,EAAQvsC,KAAO,SACfusC,EAAQv3B,UAAY,sCACpBjW,EAAEwtC,GAASphC,GAAG,QAAS,WACnBqhC,EAAQhB,EAAUD,QAEtBtD,EAAI/nC,YAAYqsC,GAEhBC,EAAQ7qC,KAAKmL,MACbo7B,EAAMxoC,SAASC,cAAc,MAC7BuoC,EAAIlzB,UAAY,gBAChB8sB,EAAG5hC,YAAYgoC,GACfyE,EAAajtC,SAASC,cAAc,UACpCgtC,EAAW3sC,KAAO,SAClB2sC,EAAW33B,UAAY,0CACvBjW,EAAE4tC,GAAY7pB,WAAYxb,UAAU,IACpCvI,EAAE4tC,GAAYxhC,GAAG,QAAS,WACtB7I,EAAKyW,aAAavH,KAAKwG,QAAQ,SAAUtG,GACrCA,EAAKqI,gBAGbmuB,EAAIhoC,YAAYysC,IAGpBttC,EAAM2S,sBAAwB,WAC1B,MAAOrQ,MAAKmL,OAAS0+B,EAAUF,KAAO3pC,KAAKmL,OAAS0+B,EAAUD,MAGlElsC,EAAM4S,UAAY,WACd,MAAOtQ,MAAKmL,OAAS0+B,EAAUF,KAGnCjsC,EAAM2Z,uBAAyB,SAAUtC,GACrC,GAAIE,EAEsBzU,UAAtBR,KAAKoX,eACLnC,GACIvT,SAAS,EACTC,YAAY,EACZC,QACIC,QAAS7B,OAIjBA,KAAKoX,aAAa5V,cAAc,GAAIC,aAAYsT,EAAME,MAI9DvX,EAAM2D,gBAAkB,SAAUnB,GAC9B,GAAIS,GAAOX,IAGX,QAFA7C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,GAEpCA,GACJ,IAAK,YAGD,KACJ,KAAK,eAGD9C,EAAE4C,KAAKqkC,OAAOx6B,KAAK,gCAAgCuoB,KAAK,WACpDh1B,EAAE4C,MAAM6F,iBAAkBF,SAAUhF,EAAKy4B,iBAE7Ch8B,EAAE4C,KAAKqkC,OAAOx6B,KAAK,6BAA6BuoB,KAAK,WACjDh1B,EAAE4C,MAAMopC,KAAK,WAAYzoC,EAAKy4B,gBAElCh8B,EAAE4C,KAAKqkC,OAAOx6B,KAAK,8BAA8BuoB,KAAK,WAClDh1B,EAAE4C,MAAMopC,KAAK,WAAYzoC,EAAKy4B,eAElC,MACJ,KAAK,OACDp5B,KAAKqX,uBAAuB,4BAOxC3Z,EAAMoE,kBAAkBpE,EAAO,iBAAkB,qBACnDzB,oBAAoBC,OAAOC,SAASqtC,WAAYvtC,oBAAoBC,OAAOC,SAAS4G,QCrPtF9G,oBAAoBC,OAAOC,SAAS8uC,aAAe,WAC/C,cAMH,SAAU/tC,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SAWlBD,GAAMoE,kBAAkBpE,EAAO,mBAAoB,uBACrDzB,oBAAoBC,OAAOC,SAAS8uC,aAAchvC,oBAAoBC,OAAOC,SAAS4G,QCzBxF9G,oBAAoBC,OAAOC,SAAS+uC,WAAa,WAC7C,cAMH,SAAUhuC,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,UACxCJ,EAAInB,oBAAoBoB,QAAQC,MAEpCC,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,gBACdC,aAAc,EACdC,WAAW,EACXyE,yBAAyB,EACzBC,wBAAwB,IAG5BpH,EAAMuC,YAAYH,GACdI,aAAc,oBACdC,aAAc,SAKtBzC,EAAM2C,gBAAkB,WACpBlD,EAAOQ,UAAU0C,gBAAgBN,KAAKC,MAMtCA,KAAKmrC,uBAAyB,GAKlCztC,EAAM0tC,6BAA+B,WACjC,GAEI/7B,GAFAg8B,KACAC,EAAcrvC,oBAAoBC,OAAOC,SAASovC,QAAQ5tC,UAAUiV,YAAYC,QAAQC,aAG5F,KAAKzD,EAAI,EAAGA,EAAIrP,KAAKiT,SAASnD,OAAQT,IAC9BrP,KAAKiT,SAAS5D,GAAGwD,UAAYy4B,GAAetrC,KAAKiT,SAAS5D,YAAcpT,qBAAoBC,OAAOC,SAASovC,UAAY,GACxHF,EAAgBn7B,KAAKlQ,KAAKiT,SAAS5D,GAI3C,OAAOg8B,IAGX3tC,EAAM8tC,sBAAwB,SAAUC,GAepC,GAAIC,GAAY3tC,SAASC,cAAc,MACvC0tC,GAAUjoC,GAAKlG,EAAW6V,UAC1B,IAAIu4B,GAAYC,EAEZv8B,EAAGw8B,EAAYC,EACfC,IAEJ,KAAK18B,EAAI,EAAGA,EAAIrP,KAAKiT,SAASnD,OAAQT,IAClC,GAAIrP,KAAKiT,SAAS5D,YAAcpT,qBAAoBC,OAAOC,SAASovC,SAAWvrC,KAAKiT,SAAS5D,KAAOo8B,EAAiB,CACjH,GAA8CjrC,SAA1CurC,EAAQ/rC,KAAKiT,SAAS5D,GAAG28B,aAEtB,CAIHD,IACA,OANAA,EAAQ/rC,KAAKiT,SAAS5D,GAAG28B,aAAehsC,KAAKiT,SAAS5D,GAAGknB,OAarE,GAFAoV,EAAa5tC,SAASC,cAAc,MACpC4tC,EAAY7tC,SAASC,cAAc,OAC/B+tC,EAAQj8B,OAAS,EACjB,IAAKT,EAAI,EAAGA,EAAI08B,EAAQj8B,OAAQT,IAAK,CACjC,GAA0B,gBAAf08B,GAAQ18B,GAKZ,CAIHs8B,EAAa5tC,SAASC,cAAc,MACpC4tC,EAAY7tC,SAASC,cAAc,MACnC,OAVA6tC,EAAa9tC,SAASC,cAAc,MACpC6tC,EAAWztC,YAAc2tC,EAAQ18B,GACjCs8B,EAAWptC,YAAYstC,GACvBD,EAAUrtC,YAAYR,SAASC,cAAc,QAiCzD,MArBmC,KAA/B2tC,EAAW14B,SAASnD,QAA8C,IAA9B87B,EAAU34B,SAASnD,QACvD+7B,EAAa9tC,SAASC,cAAc,MACpC6tC,EAAW/sB,UAAY,SACvB6sB,EAAWptC,YAAYstC,GACvBD,EAAUrtC,YAAYR,SAASC,cAAc,QAG7C8tC,EAAwB,GAGxBA,EAAwBH,EAAW14B,SAASnD,OAGhD47B,EAAUntC,YAAYotC,GACtBD,EAAUntC,YAAYqtC,GACtBF,EAAUhpC,aAAa,oBAAqB,IAC5CgpC,EAAUhpC,aAAa,mCAAoCopC,GAC3DH,EAAWjpC,aAAa,kBAAmB,IAC3CipC,EAAW1tC,UAAUC,IAAI,kBACzB0tC,EAAUlpC,aAAa,iBAAkB,IAElCgpC,GAGXhuC,EAAMuuC,mBAAqB,WACvB,GAAI58B,EAEJ,KAAKA,EAAI,EAAGA,EAAIrP,KAAKiT,SAASnD,OAAQT,IAClC,GAA2D,OAAvDrP,KAAKiT,SAAS5D,GAAG5M,aAAa,qBAC9B,MAAOzC,MAAKiT,SAAS5D,IAOjC3R,EAAMwuC,sBAAwB,SAAUT,GACpC,GACIhnC,GACAE,EACAwnC,EAHAnnC,KAIArE,EAAOX,IAEXmsC,GAAensC,KAAKisC,qBACCzrC,SAAjB2rC,GACAnsC,KAAKmM,YAAYggC,GAGrBnnC,EAAe1C,MAAQ,OACvB0C,EAAezC,OAAS,OACxByC,EAAeonC,cAAgB,OAC/BpnC,EAAekI,SAAWlN,KAAKqsC,kBAAkBC,cAEjD7nC,EAAezE,KAAKwrC,sBAAsBC,GAE1CzrC,KAAKmrC,uBAAyBzL,WAAWj7B,EAAahC,aAAa,qCAEpC,OAA3BzC,KAAK0E,kBACL1E,KAAKusC,aAAa9nC,EAAczE,KAAK0E,mBAErC1E,KAAKzB,YAAYkG,GAGrBE,EAAQvH,EAAEqH,GACVE,EAAM6nC,UAAUxnC,GAEhB5H,EAAE,IAAMqH,EAAahB,GAAK,qBAAqBqC,SAAS,aACxD1I,EAAE,IAAMqH,EAAahB,GAAK,eAAerE,IAAI,YAAahC,EAAE4C,MAAMZ,IAAI,cACtEhC,EAAE,IAAMqH,EAAahB,GAAK,eAAerE,IAAI,cAAehC,EAAE4C,MAAMZ,IAAI,gBACxEhC,EAAE,IAAMqH,EAAahB,GAAK,eAAerE,IAAI,cAAehC,EAAE4C,MAAMZ,IAAI,gBACxEhC,EAAE,IAAMqH,EAAahB,GAAK,eAAerE,IAAI,aAAchC,EAAE4C,MAAMZ,IAAI,eAEvEuF,EAAM6E,GAAG,SAAU,SAAUrF,GACzBxD,EAAK+hB,cAAgBve,EAAIwF,KAAK+Y,gBAGlC1iB,KAAKysC,sBAGT/uC,EAAMsF,QAAU,SAAUC,EAAUC,EAAYC,EAAYC,GACxDjG,EAAOQ,UAAUqF,QAAQjD,KAAKC,KAAMiD,EAAUC,EAAYC,EAAYC,EAEtE,IAAIqB,GAAezE,KAAK0E,kBACpBgC,EAAetJ,EAAE,IAAMqH,EAAahB,GAAK,cAE7CiD,GAAatH,KAAMgG,YAAanC,EAC5BkC,cAAejC,EACf8C,cAAe7C,EACf8C,aAAc7C,KAGtB1F,EAAMgvC,oBAAsB,SAAUC,GAClC,GAAIhsC,GAAOX,IAEXW,GAAKM,iBAAiB,uBAAwB,SAAUkD,GACpD,GAAIkL,EAEJ,IAAIlL,EAAIX,SAAW7C,EAAM,CACrB,IAAK0O,EAAI,EAAGA,EAAIs9B,EAAyB78B,OAAQT,IAC7C,GAAIs9B,EAAyBt9B,KAAOlL,EAAIvC,OAAOC,QAAS,CACpD8qC,EAAyBj4B,OAAOrF,EAAG,EACnC,OAIgC,IAApCs9B,EAAyB78B,QACzBnP,EAAKurC,2BAKjBvrC,EAAKM,iBAAiB,uBAAwB,SAAUkD,GAChDA,EAAIX,SAAW7C,GACfA,EAAKurC,sBAAsB/nC,EAAIvC,OAAOC,WAI9ClB,EAAKM,iBAAiB,6BAA8B,SAAUkD,GAC1D,GACIQ,GADAF,EAAe9D,EAAKsrC,oBAEpB9nC,GAAIX,SAAW7C,GAAyBH,SAAjBiE,IACvBE,EAAQvH,EAAEqH,GACVE,EAAM6nC,UAAU,WAAYroC,EAAIvC,OAAOC,QAAQmqC,aAC3CY,SAAUzoC,EAAIvC,OAAOC,QAAQ00B,YAKzC51B,EAAKM,iBAAiB,+BAAgC,SAAUkD,GACxDA,EAAIX,SAAW7C,GACfA,EAAKurC,2BAKjBxuC,EAAM+C,iBAAmB,WACrB,GACIksC,GADAjsC,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KAavD,OAVIU,MAAc,IACdisC,EAA2B3sC,KAAKorC,+BAEQ,IAApCuB,EAAyB78B,QACzB9P,KAAKksC,wBAGTlsC,KAAK0sC,oBAAoBC,IAGtBjsC,GAGXhD,EAAM+uC,mBAAqB,WACvB,GAAIhoC,GAAcE,EAAO0K,CAEzB,IAAIrP,KAAKmrC,uBAAyB,GAAKnrC,KAAK0iB,eAAiB,GAAK1iB,KAAK0iB,cAAgB1iB,KAAKmrC,uBAOxF,IANA1mC,EAAezE,KAAKisC,qBACpBtnC,EAAQvH,EAAEqH,GACVE,EAAM6nC,WACF9pB,cAAe1iB,KAAK0iB,gBAGnBrT,EAAI,EAAGA,EAAIrP,KAAKiT,SAASnD,OAAQT,IAC9BrP,KAAKiT,SAAS5D,YAAcpT,qBAAoBC,OAAOC,SAASovC,UAC5DvrC,KAAKiT,SAAS5D,GAAG28B,cAAgBhsC,KAAK0iB,cACtC1iB,KAAKiT,SAAS5D,GAAGpR,UAAUU,OAAO,aAElCqB,KAAKiT,SAAS5D,GAAGpR,UAAUC,IAAI,eAYnDR,EAAM2D,gBAAkB,SAAUnB,GAG9B,OAFA/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,GAEpCA,GACR,IAAK,gBACDF,KAAKysC,oBACL,MACJ,KAAK,oBAEDzsC,KAAKksC,0BAObxuC,EAAMoE,kBAAkBpE,EAAO,iBAAkB,qBACnDzB,oBAAoBC,OAAOC,SAAS+uC,WAAYjvC,oBAAoBC,OAAOC,SAAS4G,QC/TtF9G,oBAAoBC,OAAOC,SAASovC,QAAU,WAC1C,cAMH,SAAUruC,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,cACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,SACdC,aAAc,aAKtBzC,EAAM2C,gBAAkB,WACpBlD,EAAOQ,UAAU0C,gBAAgBN,KAAKC,MAMtCA,KAAK6sC,kBAAoBrsC,QAG7B9C,EAAMovC,4BAA8B,SAAU/3B,GAC1C,GAAIE,EAE2BzU,UAA3BR,KAAK6sC,oBACL53B,GACIvT,SAAS,EACTC,YAAY,EACZC,QACIC,QAAS7B,OAIjBA,KAAK6sC,kBAAkBrrC,cAAc,GAAIC,aAAYsT,EAAME,MAInEvX,EAAM+C,iBAAmB,WACrB,GAAIC,GAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KAUvD,OARIA,MAAKsX,wBAAyBrb,qBAAoBC,OAAOC,SAAS+uC,YAClElrC,KAAK6sC,kBAAoB7sC,KAAKsX,cAC9BtX,KAAK8sC,4BAA4B,0BAEjCvvC,EAAW0G,MAAM,gEAAiEjE,KAAK0D,aACvF1D,KAAK6sC,kBAAoBrsC,QAGtBE,GAGXhD,EAAM2D,gBAAkB,SAAUnB,GAG9B,OAFA/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,GAEpCA,GACR,IAAK,SACDF,KAAK8sC,4BAA4B,6BACjC,MACJ,KAAK,cACD9sC,KAAK8sC,4BAA4B,kCAOzCpvC,EAAM4D,iBAAmB,WACrBnE,EAAOQ,UAAU2D,iBAAiBvB,KAAKC,MAEvCA,KAAK8sC,4BAA4B,wBACjC9sC,KAAK6sC,kBAAoBrsC,QAG7B9C,EAAMoE,kBAAkBpE,EAAO,cAAe,kBAChDzB,oBAAoBC,OAAOC,SAASovC,QAAStvC,oBAAoBC,OAAOC,SAASiG,iBCpGnFnG,oBAAoBC,OAAOC,SAAS4wC,YAAc,WAC9C,cAMH,SAAU7vC,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SAWlBD,GAAMoE,kBAAkBpE,EAAO,kBAAmB,sBACpDzB,oBAAoBC,OAAOC,SAAS4wC,YAAa9wC,oBAAoBC,OAAOC,SAAS4G,QCvBvF9G,oBAAoBC,OAAOC,SAAS6wC,WAAa,WAC7C,cAMH,SAAU9vC,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,OACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,eACdC,aAAc,UAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,YACdC,aAAc,YAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,WACdC,aAAc,YAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,UACdC,aAAc,KAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,YACdC,cAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,UACdC,aAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,UACdC,aAAc,IAGlBzC,EAAMuC,YAAYH,GACdI,aAAc,YACdC,aAAc,MAItBzC,EAAM2C,gBAAkB,WACpBlD,EAAOQ,UAAU0C,gBAAgBN,KAAKC,MAMtCA,KAAKoX,aAAe5W,QAGxB9C,EAAM2Z,uBAAyB,SAAUtC,GACrC,GAAIE,EAEsBzU,UAAtBR,KAAKoX,eACLnC,GACIvT,SAAS,EACTC,YAAY,EACZC,QACIC,QAAS7B,OAIjBA,KAAKoX,aAAa5V,cAAc,GAAIC,aAAYsT,EAAME,MAI9DvX,EAAM+C,iBAAmB,WACrB,GAAIC,GAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KAUvD,OARIA,MAAKsX,wBAAyBrb,qBAAoBC,OAAOC,SAAS8wC,gBAClEjtC,KAAKoX,aAAepX,KAAKsX,cACzBtX,KAAKqX,uBAAuB,gCAE5B9Z,EAAW0G,MAAM,4DAA6DjE,KAAK0D,aACnF1D,KAAKoX,aAAe5W,QAGjBE,GAGXhD,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,GAE5CF,KAAKqX,uBAAuB,oBAGhC3Z,EAAM4D,iBAAmB,WACrBnE,EAAOQ,UAAU2D,iBAAiBvB,KAAKC,MAEvCA,KAAKqX,uBAAuB,8BAC5BrX,KAAKoX,aAAe5W,QAIxB9C,EAAMuS,cAAgB,WAClB,OACI3B,KAAQtO,KAAKsO,KACbqJ,UAAa3X,KAAK2X,UAClB7O,IAAO9I,KAAKgH,QACZC,IAAOjH,KAAK+G,QACZmG,SAAYlN,KAAK0X,aACjBw1B,SAAYltC,KAAKktC,SACjBC,UAAantC,KAAKmtC,UAClBC,QAAWptC,KAAKotC,UAIxB1vC,EAAMoE,kBAAkBpE,EAAO,iBAAkB,qBACnDzB,oBAAoBC,OAAOC,SAAS6wC,WAAY/wC,oBAAoBC,OAAOC,SAAS4G,QC7ItF9G,oBAAoBC,OAAOC,SAAS8wC,eAAiB,WACjD,cAMH,SAAU/vC,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,UAGd0vC,EAAI,GACJC,EAAI,IACJrmC,EAAMuoB,KAAK+d,KAAKF,EAAIA,EAAIC,EAAIA,GAC5B3W,EAAQ,EACR6W,EAAa,IAMjB9vC,GAAM+vC,UAAY,WACd,GAAmB,OAAfD,GAA6C,IAAtBA,EAAW19B,OAClC,OAAS49B,QAAS,EAAGC,QAASne,KAAK+d,KAAKF,EAAIA,EAAIC,EAAIA,GAIpD,KAAK,GAFDM,GAAUpe,KAAK1mB,MACf+kC,EAAUre,KAAKvoB,MACVoI,EAAI,EAAGA,EAAIm+B,EAAW19B,OAAQT,IAEnC,IAAK,GADDy+B,GAAMN,EAAWn+B,GACZuC,EAAI,EAAGA,EAAIk8B,EAAIh+B,OAAQ8B,IACxBk8B,EAAIl8B,GAAKi8B,IACTA,EAAUC,EAAIl8B,IAGdk8B,EAAIl8B,GAAKg8B,IACTA,EAAUE,EAAIl8B,GAK1B,QAAS87B,QAASE,EAASD,QAASE,IAI5CnwC,EAAM2C,gBAAkB,WACpBlD,EAAOQ,UAAU0C,gBAAgBN,KAAKC,MAGtCA,KAAK+tC,gBAAiB,GAM1BrwC,EAAM0Q,YAAc,WAChB,GAAI5C,IACAiD,QACIu/B,cACI1/B,MAAM,EACN2/B,QAAQ,IAGhBp/B,YACIP,MAAM,GAEVQ,WACAC,WAGJ,OAAOvD,IAGX9N,EAAM0R,eAAiB,WACnB,GAAIC,GAAGuC,EACHs8B,EAAeC,EADTC,KAEN9+B,EAAyBtP,KAAKoO,cAC9B8C,EAAOxB,KAAKC,MAAM3P,KAAKoE,MAI3B,KAHAkL,EAAuBb,OAAOu/B,aAAa98B,KAAQA,EAAKpB,OAAS,EAAIoB,EAAOlR,KAAKquC,cACjF/+B,EAAuBR,SACvBQ,EAAuBP,SAClBM,EAAI,EAAGA,EAAIrP,KAAK6P,KAAKC,OAAQT,IAAK,CACnC,GAAIU,GAAO/P,KAAK6P,KAAKR,GACjBW,EAAID,EAAKE,eAEb,IAAID,IACIA,EAAE9C,UAA2B,SAAf8C,EAAE9C,UAChBoC,EAAuBP,MAAMmB,KAAKF,GAGlCA,EAAE9C,UAA2B,WAAf8C,EAAE9C,UAChBoC,EAAuBR,MAAMoB,KAAKF,GAGlCA,EAAE9C,UAA2B,UAAf8C,EAAE9C,UAAsB,CAEtC,GAAIkgC,GAAU19B,KAAKC,MAAMK,EAAEo9B,QAC3B,KAAKx7B,EAAI,EAAGA,EAAIw7B,EAAQt9B,OAAQ8B,IAC5Bw8B,EAASx8B,IAAOxN,MAAOgpC,EAAQx7B,GAAGxN,MAAOzE,MAAOytC,EAAQx7B,GAAGjS,MAG/D,IAAIqQ,EAAE2H,aAAc,EAChBu2B,EAAgBd,EAAQ,GAAGhpC,MAC3B+pC,EAAgBf,EAAQA,EAAQt9B,OAAS,GAAG1L,MAC5CkL,EAAuBb,OAAOu/B,aAAallC,IAAMolC,EACjD5+B,EAAuBb,OAAOu/B,aAAa/mC,IAAMknC,MAC9C,CACHnuC,KAAK+tC,gBAAiB,CACtB,IAAIO,GAAQtuC,KAAKytC,WACjBS,GAAgBI,EAAMZ,QACtBS,EAAgBG,EAAMX,QACtBr+B,EAAuBb,OAAOu/B,aAAallC,IAAMwlC,EAAMZ,QACvDp+B,EAAuBb,OAAOu/B,aAAa/mC,IAAMqnC,EAAMX,QAG3Dr+B,EAAuBb,OAAOu/B,aAAaI,SAAWA,EACtD9+B,EAAuBb,OAAOu/B,aAAad,SAAWl9B,EAAEk9B,SACxD59B,EAAuBb,OAAOu/B,aAAab,UAAYn9B,EAAEm9B,WAqBrE,MAfA79B,GAAuBP,MAAMmB,MACzBhD,SAAU,QACVoB,MAAM,EACNxF,KAAM,EACN7B,IAAK,GACLsnC,cAAc,EACdC,WAAY,GACZC,YAAa,KAEjBn/B,EAAuBP,MAAMmB,MACzBhD,SAAU,QACVoB,MAAM,EACNxF,IAAKolC,EACLjnC,IAAKknC,IAEF7+B,GAGX5R,EAAMktB,YAAc,SAAU9a,GAC1B,GAAI4+B,GAAM,GAAIt9B,OAAMtB,GAAU,GAC1BT,EAAIS,CAER,IAAIyF,UAAUzF,OAAS,EAEnB,IADA,GAAInG,GAAOyH,MAAMzT,UAAUqwB,MAAMjuB,KAAKwV,UAAW,GAC1ClG,KACHq/B,EAAI5+B,EAAS,EAAIT,GAAKrP,KAAK4qB,YAAYmgB,MAAM/qC,KAAM2J,EAI3D,OAAO+kC,IAGXhxC,EAAMixC,QAAU,SAAUt/B,EAAGuC,EAAG+kB,GAC5B,GAAIiY,GAAMjY,EAAQnH,KAAK+d,KAAKl+B,EAAIA,EAAIuC,EAAIA,EAMxC,OAJIg9B,GAAM3nC,IACN2nC,GAAO3nC,GAGJ2nC,GAGXlxC,EAAM2wC,YAAc,WAEhB,IAAK,GADDQ,GAAO7uC,KAAK4qB,YAAY0iB,EAAGD,GACtBh+B,EAAI,EAAOi+B,EAAJj+B,EAAOA,IACnB,IAAK,GAAIuC,GAAI,EAAOy7B,EAAJz7B,EAAOA,IACfvC,IAAMi+B,EAAI,EACVuB,EAAKx/B,GAAGuC,GAAK,GACNvC,IAAMi+B,EAAI,EACjBuB,EAAKx/B,GAAGuC,GAAK3K,EAAM,GAEnB4nC,EAAKx/B,GAAGuC,GAAK5R,KAAK2uC,QAAQt/B,EAAGuC,EAAG+kB,EAU5C,OALAA,KACIA,EAAQ1vB,IACR0vB,EAAQ,GAGLkY,GAGXnxC,EAAMkT,WAAa,SAAUH,EAAOS,GAChC,GAAIV,KAEAC,GAAMX,OAAS,IACfU,EAAaC,EAAM,GAAGR,gBAI1B,IAAI6+B,GAAY59B,EAAKpB,OAAS,EAAIoB,EAAOlR,KAAKquC,aAC9Cb,GAAasB,EACbt+B,EAAWU,KAAO49B,CAClB,IAAIn+B,IAAsBH,EAE1B,OAAOG,IAGXjT,EAAMuU,WAAa,WACf,GAAIlB,GAAQ/Q,KAAK+Q,MACbG,EAAOlR,KAAK4Q,WAAW5Q,KAAKyQ,MAAOf,KAAKC,MAAM3P,KAAKoE,OAElDpE,MAAK+tC,eAIN/tC,KAAKuQ,qBAHLQ,EAAMmB,QAAQhB,GACdH,EAAMoB,aAKVpB,EAAMqB,QAGV1U,EAAMmT,oBAAsB,SAAUK,GAClC,MAAOA,IAGXxT,EAAMoE,kBAAkBpE,EAAO,qBAAsB,yBACvDzB,oBAAoBC,OAAOC,SAAS8wC,eAAgBhxC,oBAAoBC,OAAOC,SAASgS,oBCjO1FlS,oBAAoBC,OAAOC,SAAS4yC,qBAAuB,WACvD,cAMH,SAAU7xC,EAAOC,GACd,YAEA,IAAII,GAAatB,oBAAoBC,OAAOsB,UACxC8J,EAAoBrL,oBAAoBC,OAAOqL,gBAAgBC,qBAEnEjK,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,QACdC,cAAgBkG,YAAa,IAAKC,YAAa,GAC/ClG,WAAW,EACXyE,yBAAyB,EACzBC,wBAAwB,IAG5BpH,EAAMuC,YAAYH,GACdI,aAAc,YACdC,aAAclE,oBAAoBC,OAAOqK,WAAWC,WAAWwoC,SAGnEtxC,EAAMuC,YAAYH,GACdI,aAAc,QACdC,aAAc,QAItBzC,EAAMuxC,kBAAoB,SAAUC,EAAQC,GACxC,aAAWD,UAAkBC,GAClBD,IAAWC,EAGXzP,WAAWwP,KAAYxP,WAAWyP,IAIjDzxC,EAAM0xC,WAAa,WAMf,QAASC,KACL1uC,EAAK2uC,WAAa5/B,KAAKC,MAAMhP,EAAKyiB,OAGtC,QAASmsB,GAASC,GACd7uC,EAAK2uC,WAAWp/B,KAAKs/B,GACrB7uC,EAAKyiB,MAAQ1T,KAAK6Q,UAAU5f,EAAK2uC,YAXrC,GAAI3uC,GAAOX,IAcX,OAbKW,GAAK2uC,aACN3uC,EAAK2uC,WAAa5/B,KAAKC,MAAMhP,EAAKyiB,SAalCksB,WAAY3uC,EAAK2uC,WACjBG,WAAYJ,EACZK,aAAcH,IAOtB7xC,EAAMiyC,oCAAsC,SAAUC,GAOlD,IAAK,GALDzY,MACAnV,KACAU,EAAgB,GAChBmtB,EAAevoC,EAAkBuB,YAAY7I,KAAKoE,MAAOpE,KAAK4G,WAC9D0oC,EAAatvC,KAAKovC,aAAaE,WAC1BjgC,EAAI,EAAGA,EAAIigC,EAAWx/B,OAAQT,IAAK;AACxC,GAAImE,GAAO87B,EAAWjgC,EACtB2S,GAAO9R,KAAKsD,EAAKs8B,cACb9vC,KAAKivC,kBAAkBz7B,EAAKpP,MAAOyrC,KACnCntB,EAAgBrT,GAaxB,MATIugC,IACoB,EAAhBltB,IACAV,EAAO9R,KAAK,IAAM2/B,EAAe,KACjCntB,EAAgBV,EAAOlS,OAAS,GAIxCqnB,EAAOnV,OAASA,EAChBmV,EAAOzU,cAAgBA,EAChByU,GAIXz5B,EAAMqyC,qBAAuB,SAAUC,GAGnC,IAAK,GADDH,GADAP,EAAatvC,KAAKovC,aAAaE,WAE1BjgC,EAAI,EAAGA,EAAIigC,EAAWx/B,OAAQT,IAAK,CACxC,GAAImE,GAAO87B,EAAWjgC,EACtB,IAAImE,EAAKs8B,eAAiBE,EAAa,CACnCH,EAAer8B,EAAKpP,MACpBpE,KAAKoE,MAAQkD,EAAkBoC,QAAQmmC,EAAc7vC,KAAK4G,WAAW,EACrE,QAIR,MAAOipC,IAGXnyC,EAAMuyC,sBAAwB,SAAU/vC,EAAcyE,GAClD,OAAQzE,GACJ,IAAK,QACDF,KAAKovC,aAAaK,YAClB,IAAIv+B,GAAOlR,KAAK2vC,qCAAoC,GAChDjtB,EAAgBxR,EAAKwR,cACrBV,EAAS9Q,EAAK8Q,MAClBrd,GAAM8d,iBAAkBT,OAAQA,EAAQU,cAAeA,GACvD,MACJ,KAAK,QAID,GAHAxR,EAAOlR,KAAK2vC,qCAAoC,GAChD3tB,EAAS9Q,EAAK8Q,OACdU,EAAgBxR,EAAKwR,cACjBV,EAAOlS,SAAWnL,EAAM8d,gBAAgB,UAAU3S,OAClDnL,EAAM8d,iBAAkBC,cAAeA,QACpC,CACH,GAAI8sB,IAAYprC,MAAOkD,EAAkBuB,YAAY7I,KAAKoE,MAAOpE,KAAK4G,WAAYkpC,aAAc9tB,EAAOA,EAAOlS,OAAS,GACvH9P,MAAKovC,aAAaM,aAAaF,GAC/B7qC,EAAM8d,iBAAkBT,OAAQA,EAAQU,cAAeA,IAG3D,KACJ,KAAK,WACD/d,EAAM8d,iBAAkB9c,SAAU3F,KAAK4F,cAOrD3J,oBAAoBC,OAAOC,SAAS4yC,qBAAsB9yC,oBAAoBC,OAAOC,SAAS4G,QCzJhG9G,oBAAoBC,OAAOC,SAAS+zC,aAAe,WAC/C,cAMH,SAAUhzC,EAAOC,GACd,YAEA,IAAIC,GAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SAUlBD,GAAM+C,iBAAmB,WACrB,GACIuE,GACAL,EAFAjE,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,MAGnDW,EAAOX,IAEX,IAAIU,KAAc,EAAM,CACpBsE,IACA,IAAImrC,GAAuBpyC,SAASC,cAAc,MAClDmyC,GAAqB9sC,MAAMf,MAAQ,OACnC6tC,EAAqB9sC,MAAMd,OAAS,OACpC4tC,EAAqB9sC,MAAMJ,SAAW7F,EAAE4C,MAAMZ,IAAI,aAClD+wC,EAAqB9sC,MAAMH,WAAa9F,EAAE4C,MAAMZ,IAAI,eACpD+wC,EAAqB9sC,MAAMF,WAAa/F,EAAE4C,MAAMZ,IAAI,eACpD+wC,EAAqB9sC,MAAMD,UAAYhG,EAAE4C,MAAMZ,IAAI,cACnDY,KAAKzB,YAAY4xC,GACjBxrC,EAAQvH,EAAE+yC,EAEV,IAAIj/B,GAAOlR,KAAK2vC,sCACZjtB,EAAgBxR,EAAKwR,cACrBV,EAAS9Q,EAAK8Q,MAElBrd,GAAM8d,iBAAkBT,OAAQA,EAAQU,cAAeA,EAAeC,oBAAoB,EAAMhd,SAAU3F,KAAK4F,WAC/GjB,EAAM6E,GAAG,SAAU,SAAUC,GACzB,GAAIE,GAAOF,EAAME,IACjB,IAAIA,EAAM,CACN,GAAImmC,GAAenmC,EAAK6J,KAAKpP,KAC7BzD,GAAKovC,qBAAqBD,MAKtC,MAAOpvC,IAGXhD,EAAMmF,YAAc,SAAUC,GAC1B3F,EAAOQ,UAAUkF,YAAY9C,KAAKC,KAAM8C,GACxC1F,EAAE4C,KAAK0E,mBAAmB+d,gBAAgB3f,IAG9CpF,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,EAC5C,IAAIyE,GAAQvH,EAAE4C,KAAK0E,kBACnB,QAAQxE,GACJ,IAAK,QACL,IAAK,QACL,IAAK,WACDF,KAAKiwC,sBAAsBlwC,KAAKC,KAAME,EAAcyE,KAOhEjH,EAAMoE,kBAAkBpE,EAAO,mBAAoB,uBACrDzB,oBAAoBC,OAAOC,SAAS+zC,aAAcj0C,oBAAoBC,OAAOC,SAAS4yC,sBC/ExF9yC,oBAAoBC,OAAOC,SAASi0C,aAAe,WAC/C,cAMH,SAAUlzC,EAAOC,GACd,YAEA,IAAIC,GAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,SAE5CD,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,UAGd2J,EAAoBrL,oBAAoBC,OAAOqL,gBAAgBC,qBASnE9J,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,iBACdC,cAAc,KAItBzC,EAAM+C,iBAAmB,WACrB,GACIuE,GACAL,EACA0rC,EAHA3vC,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,MAInDW,EAAOX,IAEX,IAAIU,KAAc,EAAM,CACpBsE,IACA,IAAIsrC,GAAoBvyC,SAASC,cAAc,MAC/CsyC,GAAkBryC,UAAUC,IAAI,yBAChCoyC,EAAkBjtC,MAAMJ,SAAW7F,EAAE4C,MAAMZ,IAAI,aAC/CkxC,EAAkBjtC,MAAMH,WAAa9F,EAAE4C,MAAMZ,IAAI,eACjDkxC,EAAkBjtC,MAAMF,WAAa/F,EAAE4C,MAAMZ,IAAI,eACjDkxC,EAAkBjtC,MAAMD,UAAYhG,EAAE4C,MAAMZ,IAAI,cAChDY,KAAKzB,YAAY+xC,EAEjB,IAAIC,GAAmBxyC,SAASC,cAAc,MAC9CuyC,GAAiBtyC,UAAUC,IAAI,wBAC/B8B,KAAKzB,YAAYgyC,EAEjB,IAAIC,GAAkBzyC,SAASC,cAAc,OACzCyyC,EAAe1yC,SAASC,cAAc,MAE1CsyC,GAAkB/xC,YAAYiyC,GAC9BD,EAAiBhyC,YAAYkyC,GAC7B9rC,EAAQvH,EAAEozC,GACV7rC,EAAM8d,gBAAgBzd,EAEtB,IAAI6C,GAAc9J,SAASC,cAAc,QACzC6J,GAAYxJ,KAAO,OACnBoyC,EAAalyC,YAAYsJ,EACzB,IAAID,GAAa7J,SAASC,cAAc,MACxCyyC,GAAalyC,YAAYqJ,GACzByoC,EAAejzC,EAAEqzC,EACjB,IAAIC,KACJA,GAAsB9qC,SAAW5F,KAAK4F,SACtC8qC,EAAsBhoC,aAAc,EACpCgoC,EAAsBpuC,MAAQ,OAC9BouC,EAAsBnuC,OAAS,OAE/B8tC,EAAahnC,kBAAkBqnC,EAE/B,IAAIx/B,GAAOlR,KAAK2vC,sCACZjtB,EAAgBxR,EAAKwR,cACrBV,EAAS9Q,EAAK8Q,MAElBrd,GAAM8d,iBAAkBT,OAAQA,EAAQU,cAAeA,EAAeC,oBAAoB,EAAMhd,SAAU3F,KAAK4F,WAC/GjB,EAAM6E,GAAG,SAAU,SAAUC,GACzB,GAAIE,GAAOF,EAAME,IACjB,IAAIA,EAAM,CACN,GAAImmC,GAAenmC,EAAK6J,KAAKpP,MACzByrC,EAAelvC,EAAKovC,qBAAqBD,EAC7CO,GAAahnC,kBAAkB,MAAOwmC,MAG9CQ,EAAa7mC,GAAG,eAAgB,SAAUC,GACtC9I,EAAKyD,MAAQkD,EAAkBoC,QAAQD,EAAME,KAAKvF,MAAOzD,EAAKiG,WAAW,KAIjF,MAAOlG,IAGXhD,EAAMmF,YAAc,SAAUC,GAC1B3F,EAAOQ,UAAUkF,YAAY9C,KAAKC,KAAM8C,EACxC,IAAI6tC,GAAgB3wC,KAAKiT,SAAS,GAC9B29B,EAAmB5wC,KAAKiT,SAAS,GACjC49B,EAAYzzC,EAAEuzC,EAAcjsC,mBAC5BosC,EAAe1zC,EAAEwzC,EAAiBlsC,kBAElC1E,MAAK+wC,iBACLjuC,EAAKR,OAAS,GACdwuC,EAAa5kC,QAAQ,WAGzB2kC,EAAUpuB,gBAAgB3f,IAG9BpF,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,EAE5C,IAAIyE,GAAQvH,EAAE4C,KAAKiT,SAAS,GAAGvO,mBAC3BosC,EAAe1zC,EAAE4C,KAAKiT,SAAS,GAAGvO,kBACtC,QAAQxE,GACJ,IAAK,QACL,IAAK,WACDF,KAAKiwC,sBAAsB/vC,EAAcyE,EACzC,MACJ,KAAK,QACD3E,KAAKiwC,sBAAsB/vC,EAAcyE,EAEzC,IAAI+rC,IACAtsC,MAAOkD,EAAkBuB,YAAY7I,KAAKoE,MAAOpE,KAAK4G,WAE1DkqC,GAAaznC,kBAAkBqnC,EAC/B,MACJ,KAAK,iBACD,GAAIpuC,GAAQlF,EAAE4C,MAAMsC,OAChBtC,MAAK+wC,iBACLzuC,GAAS,IAGbqC,EAAM8d,iBAAkBngB,MAAOA,MAO3C5E,EAAMoE,kBAAkBpE,EAAO,mBAAoB,uBACrDzB,oBAAoBC,OAAOC,SAASi0C,aAAcn0C,oBAAoBC,OAAOC,SAAS4yC,sBCnJxF9yC,oBAAoBC,OAAOC,SAAS60C,iBAAmB,WACnD,cAIJ/0C,oBAAoBC,OAAOC,SAAS60C,iBAAiBC,aACjDC,WAAY,aACZC,SAAU,YAGb,SAAUj0C,EAAOC,GACd,YAEA,IAAIC,GAAInB,oBAAoBoB,QAAQC,OAChCC,EAAatB,oBAAoBC,OAAOsB,UACxC4zC,EAAuB,gBACvBC,EAAYp1C,oBAAoBC,OAAOC,SAAS60C,gBACpDzzC,GAAWE,kBAAkBP,EAAOC,EACpC,IAAIO,GAAQR,EAAMS,SASlBD,GAAMmC,iBAAmB,SAAUC,GAC/B3C,EAAOQ,UAAUkC,iBAAiBE,KAAKC,KAAMF,GAE7CpC,EAAMuC,YAAYH,GACdI,aAAc,cACdC,aAAckxC,EAAUJ,YAAYE,YAI5CzzC,EAAM+C,iBAAmB,WACrB,GACIuE,GADAtE,EAAYvD,EAAOQ,UAAU8C,iBAAiBV,KAAKC,KAGvD,IAAIU,KAAc,EAAM,CACpBsE,IACA,IAAIssC,GAA0BvzC,SAASC,cAAc,MACrDszC,GAAwBjuC,MAAMf,MAAQ,OACtCgvC,EAAwBjuC,MAAMd,OAAS,OACvC+uC,EAAwBjuC,MAAMJ,SAAW7F,EAAE4C,MAAMZ,IAAI,aACrDkyC,EAAwBjuC,MAAMH,WAAa9F,EAAE4C,MAAMZ,IAAI,eACvDkyC,EAAwBjuC,MAAMF,WAAa/F,EAAE4C,MAAMZ,IAAI,eACvDkyC,EAAwBjuC,MAAMD,UAAYhG,EAAE4C,MAAMZ,IAAI,cACtDY,KAAKzB,YAAY+yC,GACjBtxC,KAAKuxC,kBAGT,MAAO7wC,IAGXhD,EAAMmF,YAAc,SAAUC,GAC1B3F,EAAOQ,UAAUkF,YAAY9C,KAAKC,KAAM8C,EACxC,IAEIP,GAAQD,EAFRgvC,EAA0BtxC,KAAK0E,kBAC/B8sC,EAAYp0C,EAAEk0C,GAAyBr+B,SAAS,IAAMm+B,GAAsBthC,MAE5E9P,MAAKyK,cAAgB4mC,EAAUJ,YAAYC,YAC3C5uC,EAAQQ,EAAKR,MAAQkvC,EACrBjvC,EAASO,EAAKP,SAEdA,EAASO,EAAKP,OAASivC,EACvBlvC,EAAQQ,EAAKR,OAGjBlF,EAAEk0C,GAAyBr+B,SAAS,IAAMm+B,GAAsB9uC,MAAMA,GACtElF,EAAEk0C,GAAyBr+B,SAAS,IAAMm+B,GAAsB7uC,OAAOA,IAG3E7E,EAAM+zC,eAAiB,WACfzxC,KAAKyK,cAAgB4mC,EAAUJ,YAAYC,WAC3C9zC,EAAE4C,MAAM8F,SAAS,iBAEjB1I,EAAE4C,MAAMgf,YAAY,gBAGxB,IAAIlc,IAASR,MAAOlF,EAAE4C,MAAMsC,QAASC,OAAQnF,EAAE4C,MAAMuC,SACrDvC,MAAK6C,YAAYC,IAGrBpF,EAAMsF,QAAU,SAAUC,EAAUC,EAAYC,EAAYC,GACxDjG,EAAOQ,UAAUqF,QAAQjD,KAAKC,KAAMiD,EAAUC,EAAYC,EAAYC,GACtEpD,KAAK0xC,yBAGTh0C,EAAMg0C,sBAAwB,WAC1B,GAAIC,GAAav0C,EAAE4C,MAAMZ,KAAK,cAAe,cAAe,aAAc,aAC1EhC,GAAE4C,KAAK0E,mBAAmBuO,SAAS,IAAMm+B,GAAsBhyC,IAAIuyC,IAGvEj0C,EAAMk0C,qBAAuB,SAAU9B,GACnC,GAAInvC,GAAOX,IACX,OAAO,YACHW,EAAKovC,qBAAqBD,KAIlCpyC,EAAM6zC,gBAAkB,WACpB,GAAID,GAA0BtxC,KAAK0E,iBACnCtH,GAAEk0C,GAAyBO,OAO3B,KAAK,GAND3gC,GAAOlR,KAAK2vC,sCACZjtB,EAAgBxR,EAAKwR,cACrBV,EAAS9Q,EAAK8Q,OACd8vB,EAAUv0C,EAAW6V,WACrBzS,EAAOX,KACP2F,EAAW3F,KAAK4F,SACXyJ,EAAI,EAAGA,EAAI2S,EAAOlS,OAAQT,IAAK,CACpC,GAAIygC,GAAe9tB,EAAO3S,GACtB0iC,EAAqBh0C,SAASC,cAAc,MAChDZ,GAAE20C,GAAoB7rC,KAAK4pC,GAC3B1yC,EAAE20C,GAAoBC,gBAClBC,UAAWH,EACXnsC,SAAUA,IAEdvI,EAAE20C,GAAoBjsC,SAASsrC,GAC3B1uB,IAAkBrT,GAClBjS,EAAE20C,GAAoBC,gBAAiBj0B,SAAS,IAGpD3gB,EAAE20C,GAAoBvoC,GAAG,UAAW7I,EAAKixC,qBAAqB9B,IAC9DwB,EAAwB/yC,YAAYwzC,GAGxC/xC,KAAK0xC,wBACL1xC,KAAKyxC,kBAGT/zC,EAAM2D,gBAAkB,SAAUnB,GAC9B/C,EAAOQ,UAAU0D,gBAAgBtB,KAAKC,KAAME,EAC5C,IAAIgR,GAAM8Q,EAAQU,CAClB,QAAQxiB,GACJ,IAAK,QACDF,KAAKovC,aAAaK,aAClBzvC,KAAKuxC,iBACL,MACJ,KAAK,QACDrgC,EAAOlR,KAAK2vC,qCAAoC,GAChD3tB,EAAS9Q,EAAK8Q,OACdU,EAAgBxR,EAAKwR,aACrB,IAAI4uB,GAA0BtxC,KAAK0E,kBAC/BqtC,EAAqB30C,EAAEk0C,GAAyBr+B,WAAWyP,EAC/DtlB,GAAE20C,GAAoBC,gBAAiBj0B,SAAS,GAChD,MACJ,KAAK,cACD/d,KAAKyxC,gBACL,MACJ,KAAK,WACDH,EAA0BtxC,KAAK0E,kBAC/BtH,EAAEk0C,GAAyBr+B,SAAS,IAAMm+B,GAAsBY,gBAAiBrsC,SAAU3F,KAAK4F,aAO5GlI,EAAMoE,kBAAkBpE,EAAO,wBAAyB,2BAC1DzB,oBAAoBC,OAAOC,SAAS60C,iBAAkB/0C,oBAAoBC,OAAOC,SAAS4yC","file":"niElements.min.js.map","sourcesContent":["//****************************************\r\n// Web Application Prototype\r\n// DOM Registration: HTMLNIWebApplication\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.WebApplication = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\nNationalInstruments.HtmlVI.Elements.WebApplication.ServiceStateEnum = Object.freeze({\r\n    UNINITIALIZED: 'UNINITIALIZED',\r\n    READY: 'READY',\r\n    ERROR: 'ERROR'\r\n});\r\n\r\n// Keep in sync with serializer in DOMModel.cs\r\nNationalInstruments.HtmlVI.Elements.WebApplication.PanelEngineEnum = Object.freeze({\r\n    NATIVE: 'NATIVE',\r\n    VIREO: 'VIREO'\r\n});\r\n\r\n// Keep in sync with serializer in DOMModel.cs\r\nNationalInstruments.HtmlVI.Elements.WebApplication.PanelLocationEnum = Object.freeze({\r\n    IDE_EDIT: 'IDE_EDIT',\r\n    IDE_RUN: 'IDE_RUN',\r\n    BROWSER: 'BROWSER'\r\n});\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    var SERVICE_STATE_ENUM = NationalInstruments.HtmlVI.Elements.WebApplication.ServiceStateEnum;\r\n\r\n    // Static Private Functions\r\n    var createWebAppFrontend = function () {\r\n        //<div class=\"ni-execution-buttons-box disabled\">\r\n        //    <button class=\"ni-execution-button ni-start-button disabled hidden\" type=\"button\">Start</button>\r\n        //    <button class=\"ni-execution-button ni-abort-button disabled hidden\" type=\"button\">Abort</button>\r\n        //</div>\r\n        var uiControls = document.createElement('div');\r\n        uiControls.classList.add('ni-execution-buttons-box');\r\n\r\n        var startButton = document.createElement('button');\r\n        startButton.textContent = 'Start';\r\n        startButton.type = 'button';\r\n        startButton.classList.add('ni-execution-button', 'ni-start-button', 'disabled');\r\n\r\n        var abortButton = document.createElement('button');\r\n        abortButton.textContent = 'Abort';\r\n        abortButton.type = 'button';\r\n        abortButton.classList.add('ni-execution-button', 'ni-abort-button', 'disabled');\r\n\r\n        uiControls.appendChild(startButton);\r\n        uiControls.appendChild(abortButton);\r\n\r\n        var enableButtons = function (enableStart, enableAbort) {\r\n            if (enableStart) {\r\n                startButton.classList.remove('disabled');\r\n            } else {\r\n                startButton.classList.add('disabled');\r\n            }\r\n\r\n            if (enableAbort) {\r\n                abortButton.classList.remove('disabled');\r\n            } else {\r\n                abortButton.classList.add('disabled');\r\n            }\r\n        };\r\n\r\n        return {\r\n            uiControls: uiControls,\r\n            startButton: startButton,\r\n            abortButton: abortButton,\r\n            enableButtons: enableButtons\r\n        };\r\n    };\r\n\r\n    var updateUIButtons = function (frontEndElements, serviceState) {\r\n        if (serviceState === 'READY') {\r\n            frontEndElements.enableButtons(true, false);\r\n        } else if (serviceState === 'RUNNING' || serviceState === 'CONNECTING' || serviceState === 'CONNECTED' || serviceState === 'LISTENING') {\r\n            frontEndElements.enableButtons(false, true);\r\n        } else {\r\n            frontEndElements.enableButtons(false, false);\r\n        }\r\n    };\r\n\r\n    var updateConnectingDialog = function (serviceState) {\r\n        if (serviceState === 'CONNECTED') {\r\n            $.unblockUI();\r\n        } else {\r\n            $.blockUI({\r\n                message: 'CONNECTING',\r\n                ignoreIfBlocked: true,\r\n                css: {\r\n                    border: 'none',\r\n                    padding: '15px',\r\n                    backgroundColor: '#000',\r\n                    '-webkit-border-radius': '10px',\r\n                    '-moz-border-radius': '10px',\r\n                    opacity: 0.5,\r\n                    color: '#fff',\r\n                    cursor: 'wait'\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'engine',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'location',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'vireoSource',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'remoteAddress',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'testMode',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'disableAutoStart',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'serviceState',\r\n            defaultValue: SERVICE_STATE_ENUM.UNINITIALIZED,\r\n            fireEvent: true\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._enableConnectionDialog = false;\r\n        this._frontEndElements = undefined;\r\n\r\n        // If the DOM had a different value, override it\r\n        this.serviceState = SERVICE_STATE_ENUM.UNINITIALIZED;\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n        var frontEndElements,\r\n            that = this;\r\n\r\n        NationalInstruments.HtmlVI.webApplicationModelsService.register(that);\r\n\r\n        if (firstCall === true) {\r\n\r\n            if (that.disableAutoStart === false && that.engine === 'NATIVE' && that.location === 'BROWSER') {\r\n                that._enableConnectionDialog = true;\r\n                updateConnectingDialog(that.serviceState);\r\n            }\r\n\r\n            if (that.disableAutoStart === true) {\r\n                frontEndElements = createWebAppFrontend();\r\n\r\n                frontEndElements.startButton.addEventListener('click', function () {\r\n                    if (frontEndElements.startButton.classList.contains('disabled') === false) {\r\n                        that.start();\r\n                    }\r\n                });\r\n\r\n                frontEndElements.abortButton.addEventListener('click', function () {\r\n                    if (frontEndElements.abortButton.classList.contains('disabled') === false) {\r\n                        that.stop();\r\n                    }\r\n                });\r\n\r\n                that._frontEndElements = frontEndElements;\r\n                updateUIButtons(that._frontEndElements, that.serviceState);\r\n                that.appendChild(frontEndElements.uiControls);\r\n            }\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'serviceState':\r\n                if (this._enableConnectionDialog === true) {\r\n                    updateConnectingDialog(this.serviceState);\r\n                }\r\n\r\n                if (this.disableAutoStart === true) {\r\n                    updateUIButtons(this._frontEndElements, this.serviceState);\r\n                }\r\n\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        NationalInstruments.HtmlVI.webApplicationModelsService.unregister(this);\r\n    };\r\n\r\n    proto.start = function () {\r\n        this.dispatchEvent(new CustomEvent('requested-start', {\r\n            bubbles: true,\r\n            cancelable: true,\r\n            detail: {\r\n                element: this\r\n            }\r\n        }));\r\n    };\r\n\r\n    proto.stop = function () {\r\n        this.dispatchEvent(new CustomEvent('requested-stop', {\r\n            bubbles: true,\r\n            cancelable: true,\r\n            detail: {\r\n                element: this\r\n            }\r\n        }));\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-web-application', 'HTMLNIWebApplication');\r\n}(NationalInstruments.HtmlVI.Elements.WebApplication, NationalInstruments.HtmlVI.Elements.NIElement));\r\n","//****************************************\r\n// Virtual Instrument Prototype\r\n// DOM Registration: HTMLNIVirtualInstrument\r\n// National Instruments Copyright 2014\r\n//****************************************\r\nNationalInstruments.HtmlVI.Elements.VirtualInstrument = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'viName',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'viRef',\r\n            defaultValue: ''\r\n        });\r\n\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        NationalInstruments.HtmlVI.viReferenceService.registerVIElement(this);\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        NationalInstruments.HtmlVI.viReferenceService.unregisterVIElement(this);\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-virtual-instrument', 'HTMLNIVirtualInstrument');\r\n}(NationalInstruments.HtmlVI.Elements.VirtualInstrument, NationalInstruments.HtmlVI.Elements.NIElement));\r\n","//****************************************\r\n// Visual Component Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\n// For custom elements the constructor function is never invoked but is instead used for the prototype chain. See the createdCallback for perfoming actions on a new instance.\r\nNationalInstruments.HtmlVI.Elements.VisualComponent = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// Common use case is publically shared constant enums, ex:\r\n// NationalInstruments.HtmlVI.Elements.VisualComponent.MyValueEnum = Object.freeze({\r\n//     VALUE_1: 'VALUE_1',\r\n//     VALUE_2: 'VALUE_2',\r\n//     VALUE_3: 'VALUE_3',\r\n// });\r\n\r\n// Static Public Functions\r\n// Use case can be publically shared helper functions, ex:\r\n// NationalInstruments.HtmlVI.Elements.VisualComponent.MY_PUBLIC_HELPER_FUNCTION = function () {\r\n//     'use strict';\r\n//     return 42;\r\n// }\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    // Common use case is aliases or enums that are shared across all instances, ex:\r\n    // var MY_VALUE_ENUM = NationalInstruments.HtmlVI.NISupport.MyValueEnum;\r\n    // NOTE: SHOULD NOT REFERENCE THE 'this' VARIABLE\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // Common use case is constants or caches that are shared across all instances, ex:\r\n    // var MY_CONSTANT = 3.14;\r\n    // NOTE: SHOULD NOT REFERENCE THE 'this' VARIABLE\r\n\r\n    // Static Private Functions\r\n    // Common use case is helper functions used privately in the class and cannot be overridden by child classes, ex:\r\n    // var myHelperFunction = function () {\r\n    //     return 42;\r\n    // }\r\n    // NOTE: SHOULD NOT REFERENCE THE 'this' VARIABLE\r\n\r\n    // Public Prototype Methods\r\n    // Common use case is defining methods that are available to instances via the prototype chain and can be overriden by child classes, ex see the following prototype methods:\r\n    // NOTE: MAY REFERENCE THE 'this' VARIABLE\r\n    // addAllProperties is invoked during registration of the element to add all the properties managed by the ni-element framework. To add properties not managed by the framework see the createdCallback.\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'niControlId',\r\n            defaultValue: ''\r\n        });\r\n    };\r\n\r\n    // createdCallback is called once during the creation of an element. This is a good time to add additional properties to the instance but as the element may or may not be added to the DOM yet, it is probably not a good time to build internal DOM structure. To build internal DOM structure see the attachedCallback.\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // Common use case is adding properties to the custom element js object that are not managed by the framework (no DOM attribute synchronization, no events on change, etc), ex:\r\n        // this.myMagicalValue = MY_VALUE_ENUM.VALUE_1;\r\n\r\n        // Private Instance Properties\r\n        // Common use case is having private per instance data. Unfortunately JavaScript cannot actually represent this type of data; the best we can do is use a convention on a public instance property, like this._myPrivateData, or instead make a static private variable table that can be indexed by a unique value given to each instance (WeakMaps would be very helpful for this in modern browsers). Ex:\r\n        // this._myNotRuntimeEnforcedSecretMagicalValue = MY_VALUE_ENUM.VALUE_1;\r\n\r\n        // Latest recorded size from resizeEventHack.\r\n        this._latestSize = { width: undefined, height: undefined };\r\n\r\n        // Used by VIModel to temporarily save settings used to initialize element in a private instance property\r\n        this._temporaryModelSettingsHolder = undefined;\r\n\r\n        // The data-ni-base-style attribute is used as a target for applying styles to all ni-visual-component elements. Currently the attribute has two values that are used:\r\n        // [data-ni-base-style] used to style all ni-visual-component elements regardless of initialization status.\r\n        // [data-ni-base-style=\"uninitialized\"] used to style ni-visual-component elements prior to the attached callback firing. This is for creating temporary styles that are on controls for first paint prior to initialization.\r\n        // NOTE: data-ni-base-style should only be used to target either all ni-visual-components or ni-visual-components that are uninitialized. It is not useful for targetting only initialized ni-visual-components, etc.\r\n        // For best user page start-up experience, elements in html should already have the data-ni-base-style attribute set to \"uninitialized\" so styles can be applied before this function runs\r\n\r\n        // Create the data-ni-base-style attribute if it does not exist\r\n        if (this.getAttribute('data-ni-base-style') === null) {\r\n            this.setAttribute('data-ni-base-style', 'uninitialized');\r\n        }\r\n    };\r\n\r\n    // attachedCallback is called every time the element instance has been inserted into the DOM. A good time to create the element's internal DOM is when the firstCall value is true\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            that = this;\r\n\r\n        if (firstCall) {\r\n            // Reset the data-ni-base-style value to empty string so it can be targetted by [data-ni-base-style]\r\n            that.setAttribute('data-ni-base-style', '');\r\n\r\n            that.addEventListener('resizeEventHack', function (e) {\r\n                var width = parseInt(e.detail.width), height = parseInt(e.detail.height);\r\n\r\n                if (that._latestSize.width !== width || that._latestSize.height !== height) {\r\n                    that._latestSize.height = height;\r\n                    that._latestSize.width = width;\r\n                    that.forceResize(that._latestSize);\r\n                }\r\n            });\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    // forceResize is called every time the resizeEventHack fires and width and height are different from the previous values.\r\n    proto.forceResize = function (size) {\r\n        //jshint unused:vars\r\n        // Do nothing.\r\n    };\r\n\r\n    // propertyUpdated is called whenever a property managed by the ni-element framework has been updated, ex:\r\n    // proto.propertyUpdated = function (propertyName) {\r\n    //     parent.prototype.propertyUpdated.call(this, propertyName);\r\n    //\r\n    //     switch (propertyName) {\r\n    //         case 'myAwesomeProp':\r\n    //             NI_SUPPORT.log('Value Changed': + this.myAwesomeProp);\r\n    //             break;\r\n    //         default:\r\n    //             break;\r\n    //     }\r\n    // };\r\n\r\n    // attributeChangedCallback is called when a DOM attribute for the element has changed. Properties managed by the ni-element framework already have automatic attribute synchronization so attributeChangedCallback is very infrequently used, ex:\r\n    // proto.attributeChangedCallback = function (attrName, oldVal, newVal) {\r\n    //     parent.prototype.attributeChangedCallback.call(this, attrName, oldVal, newVal);\r\n    // };\r\n\r\n    // detachedCallback is called AFTER an element has been removed from the DOM (every time the element is removed). It is not frequently used, ex:\r\n    // proto.detachedCallback = function () {\r\n    //     parent.prototype.detachedCallback.call(this);\r\n    // };\r\n    //\r\n\r\n}(NationalInstruments.HtmlVI.Elements.VisualComponent, NationalInstruments.HtmlVI.Elements.NIElement));\r\n","//****************************************\r\n// Visual Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Visual = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'readOnly',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        this.style.fontSize = fontSize;\r\n        this.style.fontFamily = fontFamily;\r\n        this.style.fontWeight = fontWeight;\r\n        this.style.fontStyle = fontStyle;\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.Visual, NationalInstruments.HtmlVI.Elements.VisualComponent));\r\n","//****************************************\r\n// Boolean Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.BooleanControl = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var unbindMechanicalAction = function (target) {\r\n        var id = target.niControlId;\r\n        NationalInstruments.HtmlVI.UIActivityService.unregister(id);\r\n    };\r\n\r\n    var bindMechanicalAction = function (target) {\r\n        var onPress = target.clickMode === 'press',\r\n            isMomentary = target.momentary,\r\n            id = target.niControlId,\r\n            element = target,\r\n            that = target;\r\n\r\n        if (isMomentary === true && onPress === true) {\r\n            NI_SUPPORT.error('Invalid configuration, cannot have momentary true and click mode \"press\", instead using when released configuration');\r\n            isMomentary = false;\r\n            onPress = false;\r\n        }\r\n\r\n        if (isMomentary === false && onPress === false) { //When Released\r\n            NationalInstruments.HtmlVI.UIActivityService.register({\r\n                element: element,\r\n                id: id,\r\n                up: function (evt) {\r\n                    if (element.contains(evt.target)) {\r\n                        that.value = !that.value;\r\n                        that.valueChanged();\r\n                    }\r\n                }\r\n            });\r\n        } else if (isMomentary === false && onPress === true) { //When Pressed\r\n            NationalInstruments.HtmlVI.UIActivityService.register({\r\n                element: element,\r\n                id: id,\r\n                down: function () {\r\n                    that.value = !that.value;\r\n                    that.valueChanged();\r\n                }\r\n            });\r\n        } else if (isMomentary === true && onPress === false) { //Until Released\r\n            NationalInstruments.HtmlVI.UIActivityService.register({\r\n                element: element,\r\n                id: id,\r\n                up: function () {\r\n                    that.value = !that.value;\r\n                    that.valueChanged();\r\n                },\r\n                down: function () {\r\n                    that.value = !that.value;\r\n                    that.valueChanged();\r\n                },\r\n                cancelled: function () {\r\n                    that.value = !that.value;\r\n                    that.valueChanged();\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.updateOnCSSClass = function () { // Add or removes the ni-on CSS class to the control. Called on childs.\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n        jqref.toggleClass('ni-on', this.value);\r\n    };\r\n\r\n    proto.valueChanged = function () { // Overriden on childs\r\n        this.updateOnCSSClass();\r\n    };\r\n\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: false,\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'contentVisible',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'content',\r\n            defaultValue: 'Button'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'clickMode',\r\n            defaultValue: 'release'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'momentary',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        bindMechanicalAction(this);\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n        case 'clickMode':\r\n            bindMechanicalAction(this);\r\n            break;\r\n        case 'momentary':\r\n            bindMechanicalAction(this);\r\n            break;\r\n        default:\r\n            break;\r\n        }\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        unbindMechanicalAction(this);\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.BooleanControl, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Boolean Button Prototype\r\n// DOM Registration: HTMLNIBooleanButton\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.BooleanButton = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'glyph',\r\n            defaultValue: 0\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            childElement,\r\n            jqref;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            widgetSettings.toggled = this.value;\r\n\r\n            childElement = document.createElement('button');\r\n            childElement.type = 'button';\r\n            var glyphSpan = document.createElement('span');\r\n            $(glyphSpan).css({ 'font-family': 'FontAwesome', 'font-size': $(this).css('font-size') });\r\n            var glyph = document.createTextNode(this.glyph > 0 ? String.fromCharCode(this.glyph) + ' ' : '');\r\n            glyphSpan.appendChild(glyph);\r\n            childElement.appendChild(glyphSpan);\r\n\r\n            var contentSpan = document.createElement('span');\r\n            $(contentSpan).css({ 'font-family': $(this).css('font-family'), 'font-size': $(this).css('font-size') });\r\n            var content = document.createTextNode(this.content);\r\n            contentSpan.appendChild(content);\r\n            childElement.appendChild(contentSpan);\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            widgetSettings.disabled = this.readOnly;\r\n            childElement.style.fontWeight = $(this).css('font-weight');\r\n            childElement.style.fontStyle = $(this).css('font-style');\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            jqref.jqxToggleButton(widgetSettings);\r\n            jqref.jqxToggleButton('_removeHandlers');\r\n\r\n            // Adding CSS class names\r\n            jqref.addClass('ni-boolean-box');\r\n            this.updateOnCSSClass();\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild;\r\n        var glyphSpan, contentSpan;\r\n        glyphSpan = childElement.childNodes[0];\r\n        contentSpan = childElement.childNodes[1];\r\n\r\n        $(glyphSpan).css('font-size', fontSize);\r\n\r\n        $(contentSpan).css({ 'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n        var glyphSpan, contentSpan;\r\n        glyphSpan = childElement.childNodes[0];\r\n        contentSpan = childElement.childNodes[1];\r\n\r\n        switch (propertyName) {\r\n        case 'content':\r\n            $(contentSpan).text(this.content);\r\n            break;\r\n        case 'contentVisible':\r\n            $(contentSpan).text(this.contentVisible ? this.content : '');\r\n            break;\r\n        case 'value':\r\n            jqref.jqxToggleButton({\r\n                toggled: this.value\r\n            });\r\n            this.updateOnCSSClass();\r\n            break;\r\n        case 'readOnly':\r\n            jqref.jqxToggleButton({ disabled: this.readOnly });\r\n            break;\r\n        case 'glyph':\r\n            $(glyphSpan).text(this.contentVisible && this.glyph > 0 ? String.fromCharCode(this.glyph) + ' ' : '');\r\n            break;\r\n        default:\r\n            break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-boolean-button', 'HTMLNIBooleanButton');\r\n}(NationalInstruments.HtmlVI.Elements.BooleanButton, NationalInstruments.HtmlVI.Elements.BooleanControl));\r\n","//****************************************\r\n// Boolean Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.NumericControl = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: { stringValue: '0', numberValue: 0 },\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'valueType',\r\n            defaultValue: NationalInstruments.HtmlVI.NINumerics.ValueTypes.DOUBLE\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'minimum',\r\n            defaultValue: { stringValue: '0', numberValue: 0 }\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'maximum',\r\n            defaultValue: { stringValue: '10', numberValue: 10 }\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'interval',\r\n            defaultValue: { stringValue: '1', numberValue: 1 }\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'significantDigits',\r\n            defaultValue: 6\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'precisionDigits',\r\n            defaultValue: -1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'format',\r\n            defaultValue: 'floating point'\r\n        });\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqrefContent = $('#' + childElement.id + ' .jqx-widget-content');\r\n\r\n        jqrefContent.css({ 'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle });\r\n    };\r\n\r\n    proto.getRange = function () {\r\n        if (this.valueType !== NationalInstruments.HtmlVI.NINumerics.ValueTypes.INT64 && this.valueType !== NationalInstruments.HtmlVI.NINumerics.ValueTypes.UINT64) {\r\n            return this.maximum.numberValue - this.minimum.numberValue;\r\n        } else {\r\n            var max = new BigNumber(this.maximum.stringValue);\r\n            return max.subtract(new BigNumber(this.minimum.stringValue)).toString();\r\n        }\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.NumericControl, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n//Numeric TextBox Prototype\r\n// DOM Registration: HTMLNumericTextBox\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.NumericTextBox = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static private reference aliases\r\n    var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var convertFormatToOutputNotation = function (format) {\r\n        switch (format) {\r\n            case 'floating point':\r\n                return 'default';\r\n            case 'exponential':\r\n                return 'exponential';\r\n            case 'engineering':\r\n                return 'engineering';\r\n            case 'systeminternational':\r\n                break;\r\n        }\r\n\r\n        return 'default';\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n        this._valueChanging = false;\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            childElement,\r\n            widgetSettings,\r\n            divElement,\r\n            textElement,\r\n            jqref,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            var language = window.engine !== undefined && window.engine.IsAttached && window.NIEmbeddedBrowser !== undefined ? window.NIEmbeddedBrowser.language : window.navigator.language;\r\n            var culture = Globalize.culture(language);\r\n            if (culture !== undefined) {\r\n                var numberFormat = culture.numberFormat;\r\n                widgetSettings.decimalSeparator = numberFormat['.'];\r\n            }\r\n\r\n            if (this.valueType !== NationalInstruments.HtmlVI.NINumerics.ValueTypes.COMPLEXSINGLE && this.valueType !== NationalInstruments.HtmlVI.NINumerics.ValueTypes.COMPLEXDOUBLE) {\r\n                widgetSettings.int64 = this.valueType === NationalInstruments.HtmlVI.NINumerics.ValueTypes.INT64 ? 's' : this.valueType === NationalInstruments.HtmlVI.NINumerics.ValueTypes.UINT64 ? 'u' : false;\r\n            }\r\n\r\n            widgetSettings.readOnly = this.readOnly;\r\n            widgetSettings.spinButtons = !this.readOnly;\r\n            if (this.format === 'floating point' || this.format === 'exponential') {\r\n                widgetSettings.outputNotation = convertFormatToOutputNotation(this.format);\r\n            } else {\r\n                widgetSettings.radix = this.format;\r\n            }\r\n\r\n            widgetSettings.value = NUM_VAL_CONVERTER.convertBack(this.value, this.valueType);\r\n            widgetSettings.max = NUM_VAL_CONVERTER.convertBack(this.maximum, this.valueType);\r\n            widgetSettings.min = NUM_VAL_CONVERTER.convertBack(this.minimum, this.valueType);\r\n            if (this.valueType !== NationalInstruments.HtmlVI.NINumerics.ValueTypes.COMPLEXSINGLE && this.valueType !== NationalInstruments.HtmlVI.NINumerics.ValueTypes.COMPLEXDOUBLE) {\r\n                widgetSettings.spinButtonsStep = NUM_VAL_CONVERTER.convertBack(this.interval, this.valueType);\r\n            } else {\r\n                widgetSettings.interval = NUM_VAL_CONVERTER.convertBack(this.interval, this.valueType);\r\n            }\r\n\r\n            if (this.precisionDigits > 0) {\r\n                widgetSettings.digits = null;\r\n                widgetSettings.decimalDigits = this.precisionDigits;\r\n            }\r\n\r\n            if (this.significantDigits > 0) {\r\n                widgetSettings.decimalDigits = null;\r\n                widgetSettings.digits = this.significantDigits;\r\n            }\r\n\r\n            widgetSettings.width = '100%';\r\n            widgetSettings.height = '100%';\r\n\r\n            childElement = document.createElement('div');\r\n            this.appendChild(childElement);\r\n            textElement = document.createElement('input');\r\n            textElement.type = 'text';\r\n            childElement.appendChild(textElement);\r\n            if (widgetSettings.spinButtons) {\r\n                divElement = document.createElement('div');\r\n                childElement.appendChild(divElement);\r\n            }\r\n\r\n            jqref = $(childElement);\r\n            if (this.valueType !== NationalInstruments.HtmlVI.NINumerics.ValueTypes.COMPLEXSINGLE && this.valueType !== NationalInstruments.HtmlVI.NINumerics.ValueTypes.COMPLEXDOUBLE) {\r\n                jqref.jqxFormattedInput(widgetSettings);\r\n            } else {\r\n                widgetSettings.spinMode = 'advanced';\r\n                jqref.jqxComplexInput(widgetSettings);\r\n            }\r\n\r\n            $('#' + childElement.id + ' .jqx-widget-content').css('font-size', $(this).css('font-size'));\r\n            $('#' + childElement.id + ' .jqx-widget-content').css('font-family', $(this).css('font-family'));\r\n            $('#' + childElement.id + ' .jqx-widget-content').css('font-weight', $(this).css('font-weight'));\r\n            $('#' + childElement.id + ' .jqx-widget-content').css('font-style', $(this).css('font-style'));\r\n            jqref.on('valueChanged', function (event) {\r\n                that._valueChanging = true;\r\n                that.value = NUM_VAL_CONVERTER.convert(event.args.value, that.valueType, true);\r\n                that._valueChanging = false;\r\n            });\r\n\r\n            jqref.on('resize', function (e) {\r\n                e.stopPropagation();\r\n            });\r\n\r\n            // Adding CSS class names\r\n            jqref.addClass('ni-numeric-box');\r\n            jqref.find(' input').addClass('ni-text-field');\r\n            jqref.find(' .jqx-formatted-input-spin-button').addClass('ni-spin-button');\r\n            jqref.find(' .jqx-input').addClass('ni-spins-box');\r\n            jqref.find(' .jqx-icon-arrow-up').addClass('ni-increment-icon');\r\n            jqref.find(' .jqx-icon-arrow-down').addClass('ni-decrement-icon');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        var jqref = $(this.firstElementChild);\r\n\r\n        if (this.valueType !== NationalInstruments.HtmlVI.NINumerics.ValueTypes.COMPLEXSINGLE && this.valueType !== NationalInstruments.HtmlVI.NINumerics.ValueTypes.COMPLEXDOUBLE) {\r\n            // TODO gleon we should call jqxFormattedInput just once for setting the size of a widget.\r\n            jqref.jqxFormattedInput({ width: size.width });\r\n            jqref.jqxFormattedInput({ height: size.height });\r\n        } else {\r\n            jqref.jqxComplexInput({ width: size.width });\r\n            jqref.jqxComplexInput({ height: size.height });\r\n        }\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement),\r\n            widgetSetting = {},\r\n            isSet = false;\r\n\r\n        switch (propertyName) {\r\n            case 'maximum':\r\n                widgetSetting = {\r\n                    max: NUM_VAL_CONVERTER.convertBack(this.maximum, this.valueType)\r\n                };\r\n                isSet = true;\r\n                break;\r\n            case 'minimum':\r\n                widgetSetting = {\r\n                    min: NUM_VAL_CONVERTER.convertBack(this.minimum, this.valueType)\r\n                };\r\n                isSet = true;\r\n                break;\r\n            case 'interval':\r\n                if (this.valueType !== NationalInstruments.HtmlVI.NINumerics.ValueTypes.COMPLEXSINGLE && this.valueType !== NationalInstruments.HtmlVI.NINumerics.ValueTypes.COMPLEXDOUBLE) {\r\n                    jqref.jqxFormattedInput({ spinButtonsStep: NUM_VAL_CONVERTER.convertBack(this.interval, this.valueType) });\r\n                } else {\r\n                    jqref.jqxComplexInput({ interval: NUM_VAL_CONVERTER.convertBack(this.interval, this.valueType) });\r\n                }\r\n\r\n                break;\r\n            case 'precisionDigits':\r\n                if (this.precisionDigits >= 0) {\r\n                    if (this.valueType !== NationalInstruments.HtmlVI.NINumerics.ValueTypes.COMPLEXSINGLE && this.valueType !== NationalInstruments.HtmlVI.NINumerics.ValueTypes.COMPLEXDOUBLE) {\r\n                        jqref.jqxFormattedInput({ decimalDigits: this.precisionDigits });\r\n                        jqref.jqxFormattedInput({ digits: null });\r\n                    } else {\r\n                        jqref.jqxComplexInput({ decimalDigits: this.precisionDigits });\r\n                        jqref.jqxComplexInput({ digits: null });\r\n                    }\r\n                }\r\n\r\n                break;\r\n            case 'readOnly':\r\n                jqref.jqxFormattedInput({\r\n                    spinButtons: !this.readOnly,\r\n                    readOnly: this.readOnly\r\n                });\r\n                break;\r\n            case 'significantDigits':\r\n                if (this.significantDigits >= 0) {\r\n                    if (this.valueType !== NationalInstruments.HtmlVI.NINumerics.ValueTypes.COMPLEXSINGLE && this.valueType !== NationalInstruments.HtmlVI.NINumerics.ValueTypes.COMPLEXDOUBLE) {\r\n                        jqref.jqxFormattedInput({ digits: this.significantDigits });\r\n                        jqref.jqxFormattedInput({ decimalDigits: null });\r\n                    } else {\r\n                        jqref.jqxComplexInput({ digits: this.significantDigits });\r\n                        jqref.jqxComplexInput({ decimalDigits: null });\r\n                    }\r\n                }\r\n\r\n                break;\r\n            case 'format':\r\n                if (this.format === 'floating point' || this.format === 'exponential') {\r\n                    widgetSetting.outputNotation = convertFormatToOutputNotation(this.format);\r\n                } else {\r\n                    widgetSetting.radix = this.format;\r\n                }\r\n\r\n                isSet = true;\r\n                break;\r\n            case 'value':\r\n                if (this._valueChanging === false) {\r\n                    var value = NUM_VAL_CONVERTER.convertBack(this.value, this.valueType);\r\n                    if (this.valueType !== NationalInstruments.HtmlVI.NINumerics.ValueTypes.COMPLEXSINGLE && this.valueType !== NationalInstruments.HtmlVI.NINumerics.ValueTypes.COMPLEXDOUBLE) {\r\n                        jqref.jqxFormattedInput('setValue', value);\r\n                    } else {\r\n                        jqref.val(value);\r\n                    }\r\n                }\r\n\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        if (isSet === true) {\r\n            if (this.valueType !== NationalInstruments.HtmlVI.NINumerics.ValueTypes.COMPLEXSINGLE && this.valueType !== NationalInstruments.HtmlVI.NINumerics.ValueTypes.COMPLEXDOUBLE) {\r\n                jqref.jqxFormattedInput(widgetSetting);\r\n            } else {\r\n                jqref.jqxComplexInput(widgetSetting);\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-numeric-text-box', 'HTMLNINumericTextBox');\r\n}(NationalInstruments.HtmlVI.Elements.NumericTextBox, NationalInstruments.HtmlVI.Elements.NumericControl));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Boolean Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.NumericPointer = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'scaleVisible',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'majorTicksVisible',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'minorTicksVisible',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'labelsVisible',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'coercionMode',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'rangeDivisionsMode',\r\n            defaultValue: 'auto'\r\n        });\r\n    };\r\n\r\n    proto.convertFormatToRadix = function (format) {\r\n        switch (format) {\r\n            case 'hexadecimal':\r\n                return 16;\r\n            case 'octal':\r\n                return 8;\r\n            case 'binary':\r\n                return 2;\r\n        }\r\n\r\n        return undefined;\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.NumericPointer, NationalInstruments.HtmlVI.Elements.NumericControl));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Boolean Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.LinearNumericPointer = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'orientation',\r\n            defaultValue: 'horizontal'\r\n        });\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.LinearNumericPointer, NationalInstruments.HtmlVI.Elements.NumericPointer));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Boolean Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.RadialNumericPointer = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'startAngle',\r\n            defaultValue: 0\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'endAngle',\r\n            defaultValue: 180\r\n        });\r\n\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.RadialNumericPointer, NationalInstruments.HtmlVI.Elements.NumericPointer));\r\n","//****************************************\r\n// Numeric Slider\r\n// DOM Registration: HTMLSlider\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Slider = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static private reference aliases\r\n    var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n\r\n    // Static Private Variables\r\n    var ENDPOINTS_ONLY = 1;\r\n\r\n    // Static Private Functions\r\n    var setupWidget = function (target) {\r\n        var widgetSettings,\r\n            childElement,\r\n            jqref,\r\n            that = target;\r\n\r\n        widgetSettings = {};\r\n        widgetSettings.width = '100%';\r\n        widgetSettings.height = '100%';\r\n        widgetSettings.int64 = that.valueType === NationalInstruments.HtmlVI.NINumerics.ValueTypes.INT64 ? 's' : that.valueType === NationalInstruments.HtmlVI.NINumerics.ValueTypes.UINT64 ? 'u' : false;\r\n        widgetSettings.step = NUM_VAL_CONVERTER.convertBack(that.interval, that.valueType);\r\n        widgetSettings.orientation = that.orientation;\r\n        var max = NUM_VAL_CONVERTER.convertBack(that.maximum, that.valueType);\r\n        var min = NUM_VAL_CONVERTER.convertBack(that.minimum, that.valueType);\r\n\r\n        widgetSettings.min = min;\r\n        widgetSettings.max = max;\r\n        if (that.rangeDivisionsMode === 'auto') {\r\n            widgetSettings.tickMode = 'default';\r\n            widgetSettings.niceInterval = true;\r\n        } else {\r\n            widgetSettings.tickMode = 'tickNumber';\r\n            widgetSettings.niceInterval = false;\r\n            widgetSettings.tickNumber = ENDPOINTS_ONLY;\r\n        }\r\n\r\n        widgetSettings.padding = 1;\r\n        widgetSettings.tickLabelFormatSettings = {\r\n            outputNotation: that.format === 'floating point' ? 'decimal' : 'exponential',\r\n            radix: that.convertFormatToRadix(that.format),\r\n            digits: that.precisionDigits >= 0 ? undefined : that.significantDigits,\r\n            decimalDigits: that.significantDigits >= 0 ? undefined : that.precisionDigits\r\n        };\r\n        widgetSettings.tooltipFormatSettings = {\r\n            outputNotation: that.format === 'floating point' ? 'decimal' : 'exponential',\r\n            radix: that.convertFormatToRadix(that.format),\r\n            digits: that.precisionDigits >= 0 ? undefined : that.significantDigits,\r\n            decimalDigits: that.significantDigits >= 0 ? undefined : that.precisionDigits\r\n        };\r\n\r\n        that.applyScaleSettings(widgetSettings);\r\n\r\n        widgetSettings.showButtons = false;\r\n        widgetSettings.ticksPosition = 'bottom';\r\n        widgetSettings.mode = that.coercionMode ? 'fixedRange' : 'default';\r\n        widgetSettings.tooltip = true;\r\n        widgetSettings.value = NUM_VAL_CONVERTER.convertBack(that.value, that.valueType);\r\n\r\n        childElement = document.createElement('div');\r\n        childElement.style.width = '100%';\r\n        childElement.style.height = '100%';\r\n\r\n        that.appendChild(childElement);\r\n\r\n        jqref = $(childElement);\r\n        if (that.valueType === NationalInstruments.HtmlVI.NINumerics.ValueTypes.INT64) {\r\n            widgetSettings.int64 = 's';\r\n        } else if (that.valueType === NationalInstruments.HtmlVI.NINumerics.ValueTypes.UINT64) {\r\n            widgetSettings.int64 = 'u';\r\n        } else {\r\n            widgetSettings.int64 = false;\r\n        }\r\n\r\n        jqref.jqxSlider(widgetSettings);\r\n        jqref.css('font-size', $(that).css('font-size'));\r\n        jqref.css('font-family', $(that).css('font-family'));\r\n        jqref.css('font-weight', $(that).css('font-weight'));\r\n        jqref.css('font-style', $(that).css('font-style'));\r\n        jqref.on('change', function (event) {\r\n            that.value = NUM_VAL_CONVERTER.convert(event.args.value, that.valueType, true);\r\n        });\r\n        jqref.on('resize', function (event) {\r\n            event.stopPropagation();\r\n        });\r\n\r\n        // Adding CSS class names\r\n        jqref.addClass('ni-slider-box');\r\n        jqref.find(' .jqx-slider-tickscontainer').addClass('ni-ticks');\r\n        jqref.find(' .jqx-slider-slider').addClass('ni-thumb');\r\n        jqref.find(' .jqx-slider-tick').addClass('ni-tick');\r\n        jqref.find(' .jqx-slider-track ').addClass('ni-track');\r\n        jqref.find(' .jqx-slider-rangebar').addClass('ni-range-bar');\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxSlider(size);\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.updateRange = function (jqref) {\r\n        var settings = { int64: this.valueType === NationalInstruments.HtmlVI.NINumerics.ValueTypes.INT64 ? 's' : this.valueType === NationalInstruments.HtmlVI.NINumerics.ValueTypes.UINT64 ? 'u' : false };\r\n        settings.min = NUM_VAL_CONVERTER.convertBack(this.minimum, this.valueType);\r\n        settings.max = NUM_VAL_CONVERTER.convertBack(this.maximum, this.valueType);\r\n        settings.value = NUM_VAL_CONVERTER.convertBack(this.value, this.valueType);\r\n        settings.step = NUM_VAL_CONVERTER.convertBack(this.interval, this.valueType);\r\n\r\n        jqref.jqxSlider(settings);\r\n    };\r\n\r\n    proto.applyScaleSettings = function (settings) {\r\n        settings.showTicks = this.scaleVisible;\r\n        settings.tickSize = this.majorTicksVisible ? 7 : 0;\r\n        settings.showMinorTicks = this.minorTicksVisible && this.scaleVisible;\r\n        settings.showTickLabels = this.labelsVisible && this.scaleVisible;\r\n    };\r\n\r\n    proto.updateScaleVisibility = function (jqref) {\r\n        var settings = { };\r\n        this.applyScaleSettings(settings);\r\n        jqref.jqxSlider(settings);\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        jqref.css({ 'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        $(childElement).trigger('refresh');\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (firstCall === true) {\r\n            setupWidget(this);\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        switch (propertyName) {\r\n            case 'valueType':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'value':\r\n                jqref.jqxSlider({ value: NUM_VAL_CONVERTER.convertBack(this.value, this.valueType) });\r\n                break;\r\n            case 'minimum':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'maximum':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'interval':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'orientation':\r\n                this.removeChild(childElement);\r\n                setupWidget(this);\r\n                break;\r\n            case 'scaleVisible':\r\n                this.updateScaleVisibility(jqref);\r\n                break;\r\n            case 'majorTicksVisible':\r\n                this.updateScaleVisibility(jqref);\r\n                break;\r\n            case 'minorTicksVisible':\r\n                this.updateScaleVisibility(jqref);\r\n                break;\r\n            case 'labelsVisible':\r\n                this.updateScaleVisibility(jqref);\r\n                break;\r\n            case 'coercionMode':\r\n                jqref.jqxSlider({ mode: this.coercionMode ? 'fixedRange' : 'default' });\r\n                break;\r\n            case 'rangeDivisionsMode':\r\n                jqref.jqxSlider({ tickMode: this.rangeDivisionsMode === 'auto' || this.rangeDivisionsMode === 'none' ? 'default' : 'tickNumber' });\r\n                jqref.jqxSlider({ niceInterval: this.rangeDivisionsMode === 'auto' || this.rangeDivisionsMode === 'none' ? true : false });\r\n                if (this.rangeDivisionsMode !== 'auto' && this.rangeDivisionsMode !== 'none') {\r\n                    jqref.jqxSlider({ tickNumber: ENDPOINTS_ONLY });\r\n                }\r\n\r\n                break;\r\n            case 'format':\r\n            case 'significantDigits':\r\n            case 'precisionDigits':\r\n                if (this.significantDigits >= 0 || this.precisionDigits >= 0) {\r\n                    jqref.jqxSlider({\r\n                        tickLabelFormatSettings: {\r\n                            outputNotation: this.format === 'floating point' ? 'decimal' : 'exponential',\r\n                            radix: this.convertFormatToRadix(this.format),\r\n                            digits: this.significantDigits >= 0 ? this.significantDigits : undefined,\r\n                            decimalDigits: this.precisionDigits >= 0 ? this.precisionDigits : undefined\r\n                        }\r\n                    });\r\n                    jqref.jqxSlider({\r\n                        tooltipFormatSettings: {\r\n                            outputNotation: this.format === 'floating point' ? 'decimal' : 'exponential',\r\n                            radix: this.convertFormatToRadix(this.format),\r\n                            digits: this.significantDigits >= 0 ? this.significantDigits : undefined,\r\n                            decimalDigits: this.precisionDigits >= 0 ? this.precisionDigits : undefined\r\n                        }\r\n                    });\r\n                }\r\n\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-slider', 'HTMLNISlider');\r\n}(NationalInstruments.HtmlVI.Elements.Slider, NationalInstruments.HtmlVI.Elements.LinearNumericPointer));\r\n","//****************************************\r\n// Tank Prototype\r\n// DOM Registration: HTMLTank\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Tank = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static private reference aliases\r\n    var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n\r\n    // Static Private Variables\r\n    var ENDPOINTS_ONLY = 1;\r\n    var MINORTICKS_FOR_ENDPOINTS_ONLY = 10;\r\n    var MAJOR_TICK_SIZE = '10px';\r\n    var MINOR_TICK_SIZE = '5px';\r\n\r\n    // Static Private Functions\r\n    var setupWidget = function (target) {\r\n        var widgetSettings,\r\n            childElement,\r\n            jqref,\r\n            that = target;\r\n\r\n        widgetSettings = {};\r\n\r\n        widgetSettings.int64 = that.valueType === NationalInstruments.HtmlVI.NINumerics.ValueTypes.INT64 ? 's' : that.valueType === NationalInstruments.HtmlVI.NINumerics.ValueTypes.UINT64 ? 'u' : false;\r\n        widgetSettings.background = { visible: false };\r\n        widgetSettings.animationDuration = 0;\r\n\r\n        that.applyScaleSettings(widgetSettings);\r\n\r\n        widgetSettings.orientation = that.orientation;\r\n        var max = NUM_VAL_CONVERTER.convertBack(that.maximum, that.valueType);\r\n        var min = NUM_VAL_CONVERTER.convertBack(that.minimum, that.valueType);\r\n\r\n        widgetSettings.min = min;\r\n        widgetSettings.max = max;\r\n        widgetSettings.value = NUM_VAL_CONVERTER.convertBack(that.value, that.valueType);\r\n        childElement = document.createElement('div');\r\n        childElement.style.width = '100%';\r\n        childElement.style.height = '100%';\r\n\r\n        that.appendChild(childElement);\r\n\r\n        jqref = $(childElement);\r\n        jqref.jqxLinearGauge(widgetSettings);\r\n\r\n        // Adding CSS class names\r\n        jqref.addClass('ni-tank-box');\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxLinearGauge(size);\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.applyScaleSettings = function (settings) {\r\n        var pointerOffset,\r\n            ticksOffset,\r\n            ticksMajor = (typeof settings.ticksMajor !== 'object' || settings.ticksMajor === null) ? {} : settings.ticksMajor,\r\n            ticksMinor = (typeof settings.ticksMinor !== 'object' || settings.ticksMinor === null) ? {} : settings.ticksMinor,\r\n            labels = (typeof settings.labels !== 'object' || settings.labels === null) ? {} : settings.labels,\r\n            ticksAndLabelsPosition = 'near';\r\n\r\n        if (this.orientation === 'vertical') {\r\n            ticksOffset = ['20%', '5%'];\r\n            pointerOffset = '5%';\r\n        } else {\r\n            ticksOffset = ['5%', '20%'];\r\n            pointerOffset = '105%';\r\n        }\r\n\r\n        ticksMajor.size = MAJOR_TICK_SIZE;\r\n        ticksMajor.visible = this.majorTicksVisible && this.scaleVisible;\r\n\r\n        ticksMinor.size = MINOR_TICK_SIZE;\r\n        ticksMinor.visible = this.minorTicksVisible && this.scaleVisible;\r\n\r\n        labels.position = ticksAndLabelsPosition;\r\n        labels.visible = this.labelsVisible && this.scaleVisible;\r\n        this.updateLabelsFontAndFormat(labels);\r\n        labels.interval = NUM_VAL_CONVERTER.convertBack(this.interval, this.valueType);\r\n\r\n        if (this.rangeDivisionsMode === 'auto') {\r\n            settings.tickMode = 'default';\r\n            settings.niceInterval = true;\r\n        } else {\r\n            settings.tickMode = 'tickNumber';\r\n            settings.niceInterval = false;\r\n            ticksMajor.number = ENDPOINTS_ONLY;\r\n            ticksMinor.number = MINORTICKS_FOR_ENDPOINTS_ONLY;\r\n            labels.number = ENDPOINTS_ONLY;\r\n        }\r\n\r\n        settings.ticksMajor = ticksMajor;\r\n        settings.ticksMinor = ticksMinor;\r\n        settings.ticksOffset = ticksOffset;\r\n        settings.labels = labels;\r\n        settings.ticksPosition = ticksAndLabelsPosition;\r\n        settings.pointer = { size: '100%' };\r\n        settings.pointer.offset = pointerOffset;\r\n        settings.int64 = this.valueType === NationalInstruments.HtmlVI.NINumerics.ValueTypes.INT64 ? 's' : this.valueType === NationalInstruments.HtmlVI.NINumerics.ValueTypes.UINT64 ? 'u' : false;\r\n    };\r\n\r\n    proto.updateScaleVisibility = function (jqref) {\r\n        var settings = {};\r\n        settings.ticksMajor = jqref.jqxLinearGauge('ticksMajor');\r\n        settings.ticksMinor = jqref.jqxLinearGauge('ticksMinor');\r\n        settings.labels = jqref.jqxLinearGauge('labels');\r\n        this.applyScaleSettings(settings);\r\n        jqref.jqxLinearGauge(settings);\r\n    };\r\n\r\n    proto.updateRange = function (jqref) {\r\n        var settings = { int64: this.valueType === NationalInstruments.HtmlVI.NINumerics.ValueTypes.INT64 ? 's' : this.valueType === NationalInstruments.HtmlVI.NINumerics.ValueTypes.UINT64 ? 'u' : false };\r\n        settings.min = NUM_VAL_CONVERTER.convertBack(this.minimum, this.valueType);\r\n        settings.max = NUM_VAL_CONVERTER.convertBack(this.maximum, this.valueType);\r\n        settings.value = NUM_VAL_CONVERTER.convertBack(this.value, this.valueType);\r\n\r\n        jqref.jqxLinearGauge(settings);\r\n    };\r\n\r\n    proto.updateLabelsFontAndFormat = function (labels) {\r\n        var jqref = $(this);\r\n        labels = labels || jqref.jqxLinearGauge('labels');\r\n        labels.fontSize = jqref.css('font-size');\r\n        labels.fontFamily = jqref.css('font-family');\r\n        labels.fontStyle = jqref.css('font-style');\r\n        labels.fontWeight = jqref.css('font-weight');\r\n        labels.formatSettings = {\r\n            outputNotation: this.format === 'floating point' ? 'decimal' : 'exponential',\r\n            radix: this.convertFormatToRadix(this.format),\r\n            digits: this.precisionDigits > 0 ? undefined : this.significantDigits,\r\n            decimalDigits: this.significantDigits > 0 ? undefined : this.precisionDigits\r\n        };\r\n    };\r\n\r\n    proto.updateDivisionsMode = function (jqref) {\r\n        var interval, settings = {};\r\n\r\n        settings.ticksMajor = jqref.jqxLinearGauge('ticksMajor');\r\n        settings.ticksMinor = jqref.jqxLinearGauge('ticksMinor');\r\n        settings.labels = jqref.jqxLinearGauge('labels');\r\n\r\n        if (this.rangeDivisionsMode === 'auto') {\r\n            settings.labels.number = undefined;\r\n            settings.ticksMinor.number = undefined;\r\n            settings.ticksMajor.number = undefined;\r\n            settings.tickMode = 'default';\r\n            settings.niceInterval = true;\r\n        } else {\r\n            interval = this.getRange();\r\n            settings.labels.interval = interval;\r\n            settings.labels.number = ENDPOINTS_ONLY;\r\n            settings.ticksMinor.number = MINORTICKS_FOR_ENDPOINTS_ONLY;\r\n            settings.ticksMajor.number = ENDPOINTS_ONLY;\r\n            settings.ticksMajor.interval = interval;\r\n            settings.ticksMinor.interval = interval;\r\n            settings.tickMode = 'tickNumber';\r\n            settings.niceInterval = false;\r\n        }\r\n\r\n        jqref.jqxLinearGauge(settings);\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (firstCall === true) {\r\n            setupWidget(this);\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement), labels;\r\n\r\n        labels = jqref.jqxLinearGauge('labels');\r\n        this.updateLabelsFontAndFormat(labels);\r\n        jqref.jqxLinearGauge({ labels: labels });\r\n        jqref.jqxLinearGauge('refresh', false);\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            ticksMinor, ticksMajor,\r\n            jqref = $(childElement), labels;\r\n\r\n        switch (propertyName) {\r\n            case 'valueType':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'value':\r\n                jqref.jqxLinearGauge({ value: NUM_VAL_CONVERTER.convertBack(this.value, this.valueType) });\r\n                break;\r\n            case 'minimum':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'maximum':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'interval':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'scaleVisible':\r\n                this.updateScaleVisibility(jqref);\r\n                break;\r\n            case 'labelsVisible':\r\n                labels = jqref.jqxLinearGauge('labels');\r\n                labels.visible = this.labelsVisible && this.scaleVisible;\r\n                jqref.jqxLinearGauge({ labels: labels });\r\n                jqref.jqxLinearGauge('refresh', false);\r\n                break;\r\n            case 'majorTicksVisible':\r\n                ticksMajor = jqref.jqxLinearGauge('ticksMajor');\r\n                ticksMajor.visible = this.majorTicksVisible && this.scaleVisible;\r\n                jqref.jqxLinearGauge({ ticksMajor: ticksMajor });\r\n                jqref.jqxLinearGauge('refresh', false);\r\n                break;\r\n            case 'minorTicksVisible':\r\n                ticksMinor = jqref.jqxLinearGauge('ticksMinor');\r\n                ticksMinor.visible = this.minorTicksVisible && this.scaleVisible;\r\n                jqref.jqxLinearGauge({ ticksMinor: ticksMinor });\r\n                jqref.jqxLinearGauge('refresh', false);\r\n                break;\r\n            case 'rangeDivisionsMode':\r\n                this.updateDivisionsMode(jqref);\r\n                break;\r\n            case 'format':\r\n            case 'significantDigits':\r\n            case 'precisionDigits':\r\n                labels = jqref.jqxLinearGauge('labels');\r\n                this.updateLabelsFontAndFormat(labels);\r\n                jqref.jqxLinearGauge({ labels: labels });\r\n                jqref.jqxLinearGauge('refresh', false);\r\n                break;\r\n            case 'orientation':\r\n                this.removeChild(childElement);\r\n                setupWidget(this);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-tank', 'HTMLNITank');\r\n}(NationalInstruments.HtmlVI.Elements.Tank, NationalInstruments.HtmlVI.Elements.LinearNumericPointer));\r\n","//****************************************\r\n//Numeric TextBox Prototype\r\n// DOM Registration: HTMLGauge\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Gauge = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static private reference aliases\r\n    var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n\r\n    // Static Private Variables\r\n    var ENDPOINTS_ONLY = 1;\r\n    var MINORTICKS_FOR_ENDPOINTS_ONLY = 5;\r\n    var MAJOR_TICK_SIZE = '10%';\r\n    var MINOR_TICK_SIZE = '5%';\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            childElement,\r\n            jqref;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            widgetSettings.width = '100%';\r\n            widgetSettings.height = '100%';\r\n            widgetSettings.animationDuration = 0;\r\n            widgetSettings.border = {size: '1%', showGradient: false};\r\n            // Update the model\r\n            var labels = {\r\n                interval: 1,\r\n                visible: true,\r\n                distance: '30%',\r\n                fontSize: $(this).css('font-size'),\r\n                fontFamily: $(this).css('font-family'),\r\n                fontStyle: $(this).css('font-style'),\r\n                fontWeight: $(this).css('font-weight'),\r\n                formatSettings: {\r\n                    outputNotation: this.format === 'floating point' ? 'decimal' : 'exponential',\r\n                    radix: this.convertFormatToRadix(this.format),\r\n                    digits: this.precisionDigits > 0 ? undefined : this.significantDigits,\r\n                    decimalDigits: this.significantDigits > 0 ? undefined : this.precisionDigits\r\n                }\r\n            };\r\n            var ticksMajor = {\r\n                visible: this.majorTicksVisible && this.scaleVisible,\r\n                size: MAJOR_TICK_SIZE\r\n            };\r\n            var ticksMinor = {\r\n                visible: this.minorTicksVisible && this.scaleVisible,\r\n                size: MINOR_TICK_SIZE\r\n            };\r\n\r\n            labels.interval = NUM_VAL_CONVERTER.convertBack(this.interval, this.valueType);\r\n            labels.visible = this.labelsVisible && this.scaleVisible;\r\n            widgetSettings.labels = labels;\r\n            if (this.rangeDivisionsMode === 'auto') {\r\n                widgetSettings.tickMode = 'default';\r\n                widgetSettings.niceInterval = true;\r\n            } else {\r\n                widgetSettings.tickMode = 'tickNumber';\r\n                widgetSettings.niceInterval = false;\r\n                ticksMajor.number = ENDPOINTS_ONLY;\r\n                ticksMinor.number = MINORTICKS_FOR_ENDPOINTS_ONLY;\r\n                labels.number = ENDPOINTS_ONLY;\r\n            }\r\n\r\n            widgetSettings.ticksMajor = ticksMajor;\r\n            widgetSettings.ticksMinor = ticksMinor;\r\n            widgetSettings.ticksDistance = '5%';\r\n\r\n            widgetSettings.max = NUM_VAL_CONVERTER.convertBack(this.maximum, this.valueType);\r\n            widgetSettings.min = NUM_VAL_CONVERTER.convertBack(this.minimum, this.valueType);\r\n\r\n            widgetSettings.startAngle = this.startAngle;\r\n            widgetSettings.endAngle = this.endAngle;\r\n\r\n            widgetSettings.value = NUM_VAL_CONVERTER.convertBack(this.value, this.valueType);\r\n            widgetSettings.int64 = this.valueType === NationalInstruments.HtmlVI.NINumerics.ValueTypes.INT64 ? 's' : this.valueType === NationalInstruments.HtmlVI.NINumerics.ValueTypes.UINT64 ? 'u' : false;\r\n\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n\r\n            jqref.jqxGauge(widgetSettings);\r\n            jqref.on('resize', function (event) {\r\n                event.stopPropagation();\r\n            });\r\n\r\n            // Adding CSS class names\r\n            jqref.addClass('ni-gauge-box');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxGauge(size);\r\n    };\r\n\r\n    proto.updateRange = function (jqref) {\r\n        var settings = { int64: this.valueType === NationalInstruments.HtmlVI.NINumerics.ValueTypes.INT64 ? 's' : this.valueType === NationalInstruments.HtmlVI.NINumerics.ValueTypes.UINT64 ? 'u' : false };\r\n        settings.min = NUM_VAL_CONVERTER.convertBack(this.minimum, this.valueType);\r\n        settings.max = NUM_VAL_CONVERTER.convertBack(this.maximum, this.valueType);\r\n        settings.value = NUM_VAL_CONVERTER.convertBack(this.value, this.valueType);\r\n\r\n        jqref.jqxGauge(settings);\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild;\r\n\r\n        var labels = {\r\n            interval: NUM_VAL_CONVERTER.convertBack(this.interval, this.valueType),\r\n            visible: this.labelsVisible && this.scaleVisible,\r\n            distance: '30%',\r\n            fontSize: fontSize,\r\n            fontFamily: fontFamily,\r\n            fontStyle: fontStyle,\r\n            fontWeight: fontWeight\r\n        };\r\n\r\n        $(childElement).jqxGauge({ labels: labels });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            ticksMajor,\r\n            ticksMinor,\r\n            jqref = $(childElement);\r\n\r\n        switch (propertyName) {\r\n            case 'valueType':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'startAngle':\r\n                jqref.jqxGauge({startAngle: this.startAngle});\r\n                break;\r\n            case 'endAngle':\r\n                jqref.jqxGauge({endAngle: this.endAngle});\r\n                break;\r\n            case 'maximum':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'minimum':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'value':\r\n                jqref.jqxGauge({ value: NUM_VAL_CONVERTER.convertBack(this.value, this.valueType) });\r\n                break;\r\n            case 'interval':\r\n                this.updateRange(jqref);\r\n                break;\r\n            case 'scaleVisible':\r\n                jqref.jqxGauge({ labels: { visible: this.labelsVisible && this.scaleVisible }});\r\n                ticksMajor = jqref.jqxGauge('ticksMajor');\r\n                jqref.jqxGauge({ ticksMajor: { interval: ticksMajor.interval, visible: this.majorTicksVisible && this.scaleVisible, size: MAJOR_TICK_SIZE } });\r\n                ticksMinor = jqref.jqxGauge('ticksMinor');\r\n                jqref.jqxGauge({ ticksMinor: { interval: ticksMinor.interval, visible: this.minorTicksVisible && this.scaleVisible, size: MINOR_TICK_SIZE } });\r\n                break;\r\n            case 'labelsVisible':\r\n                jqref.jqxGauge({ labels: { visible: this.labelsVisible && this.scaleVisible } });\r\n                break;\r\n            case 'majorTicksVisible':\r\n                ticksMajor = jqref.jqxGauge('ticksMajor');\r\n                jqref.jqxGauge({ ticksMajor: { interval: ticksMajor.interval, visible: this.majorTicksVisible && this.scaleVisible, size: MAJOR_TICK_SIZE } });\r\n                break;\r\n            case 'minorTicksVisible':\r\n                ticksMinor = jqref.jqxGauge('ticksMinor');\r\n                jqref.jqxGauge({ ticksMinor: { interval: ticksMinor.interval, visible: this.minorTicksVisible && this.scaleVisible, size: MINOR_TICK_SIZE } });\r\n                break;\r\n            case 'rangeDivisionsMode':\r\n                if (this.rangeDivisionsMode === 'auto') {\r\n                    jqref.jqxGauge({ labels: { visible: this.labelsVisible && this.scaleVisible } });\r\n                    ticksMajor = jqref.jqxGauge('ticksMajor');\r\n                    jqref.jqxGauge({ ticksMajor: { interval: ticksMajor.interval, visible: this.majorTicksVisible && this.scaleVisible, size: MAJOR_TICK_SIZE } });\r\n                    ticksMinor = jqref.jqxGauge('ticksMinor');\r\n                    jqref.jqxGauge({ ticksMinor: { interval: ticksMinor.interval, visible: this.minorTicksVisible && this.scaleVisible, size: MINOR_TICK_SIZE } });\r\n                    jqref.jqxGauge({ tickMode: 'default' });\r\n                    jqref.jqxGauge({ niceInterval: true });\r\n                } else {\r\n                    var interval = this.getRange();\r\n                    jqref.jqxGauge({ labels: { interval: interval, visible: this.labelsVisible && this.scaleVisible, number: ENDPOINTS_ONLY } });\r\n                    ticksMajor = jqref.jqxGauge('ticksMajor');\r\n                    jqref.jqxGauge({ ticksMajor: { interval: interval, visible: this.majorTicksVisible && this.scaleVisible, size: MAJOR_TICK_SIZE, number: ENDPOINTS_ONLY } });\r\n                    ticksMinor = jqref.jqxGauge('ticksMinor');\r\n                    jqref.jqxGauge({ ticksMinor: { interval: interval, visible: this.minorTicksVisible && this.scaleVisible, size: MINOR_TICK_SIZE, number: MINORTICKS_FOR_ENDPOINTS_ONLY } });\r\n                    jqref.jqxGauge({ tickMode: 'tickNumber' });\r\n                    jqref.jqxGauge({ niceInterval: false });\r\n                }\r\n\r\n                break;\r\n            case 'format':\r\n            case 'significantDigits':\r\n            case 'precisionDigits':\r\n                jqref.jqxGauge({\r\n                    labels: {\r\n                        fontSize: $(this).css('font-size'),\r\n                        fontFamily: $(this).css('font-family'),\r\n                        fontStyle: $(this).css('font-style'),\r\n                        fontWeight: $(this).css('font-weight'),\r\n                        visible: this.labelsVisible && this.scaleVisible,\r\n                        formatSettings: {\r\n                            outputNotation: this.format === 'floating point' ? 'decimal' : 'exponential',\r\n                            radix: this.convertFormatToRadix(this.format),\r\n                            digits: this.significantDigits > 0 ? this.significantDigits : undefined,\r\n                            decimalDigits: this.precisionDigits > 0 ? this.precisionDigits : undefined\r\n                        }\r\n                    }\r\n                });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-gauge', 'HTMLNIGauge');\r\n}(NationalInstruments.HtmlVI.Elements.Gauge, NationalInstruments.HtmlVI.Elements.RadialNumericPointer));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Boolean Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.ProgressBar = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: 0,\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'minimum',\r\n            defaultValue: 0\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'maximum',\r\n            defaultValue: 10\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'orientation',\r\n            defaultValue: 'horizontal'\r\n        });\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.ProgressBar, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Linear Progress Bar Prototype\r\n// DOM Registration: HTMLLinearProgressBar\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.LinearProgressBar = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            childElement,\r\n            jqref;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            widgetSettings.animationDuration = 0.3;\r\n            widgetSettings.max = this.maximum;\r\n            widgetSettings.min = this.minimum;\r\n            widgetSettings.orientation = this.orientation;\r\n            widgetSettings.value = this.value;\r\n\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            jqref.jqxProgressBar(widgetSettings);\r\n\r\n            // Adding CSS class names\r\n            jqref.addClass('ni-track');\r\n            jqref.find(' .jqx-progressbar-value').addClass('ni-range-bar');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        switch (propertyName) {\r\n        case 'maximum':\r\n            jqref.jqxProgressBar({ max: this.maximum });\r\n            break;\r\n        case 'minimum':\r\n            jqref.jqxProgressBar({ min: this.minimum });\r\n            break;\r\n        case 'orientation':\r\n            jqref.jqxProgressBar({ orientation: this.orientation });\r\n            break;\r\n        case 'value':\r\n            jqref.jqxProgressBar({ value: this.value });\r\n            break;\r\n        default:\r\n            break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-linear-progress-bar', 'HTMLNILinearProgressBar');\r\n}(NationalInstruments.HtmlVI.Elements.LinearProgressBar, NationalInstruments.HtmlVI.Elements.ProgressBar));\r\n","//****************************************\r\n// Cartesian Graph Base Prototype\r\n// DOM Registration: HTMLNICartesianGraph\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.CartesianGraphBase = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.getSettings = function () {\r\n        var settings = {\r\n            lines: {\r\n                show: true,\r\n                lineWidth: 2\r\n            },\r\n            canvas: true,\r\n            series: {\r\n                shadowSize: 0, // Drawing is faster without shadows\r\n                downsample: {\r\n                    threshold: 1000\r\n                }\r\n            },\r\n            axisLabels: {\r\n                show: true\r\n            },\r\n            xaxes: [{}],\r\n            yaxes: [{}],\r\n            zoom: {\r\n                interactive: true,\r\n                trigger: null\r\n            },\r\n            pan: {\r\n                interactive: true\r\n            },\r\n            selection: {\r\n                mode: null\r\n            }\r\n        };\r\n\r\n        return settings;\r\n    };\r\n\r\n    proto.configureGraph = function () {\r\n        var i;\r\n        var cartesianGraphSettings = this.getSettings();\r\n        if (this.plotAreaMargin !== '') {\r\n            if (cartesianGraphSettings.grid === undefined) {\r\n                cartesianGraphSettings.grid = {};\r\n            }\r\n\r\n            cartesianGraphSettings.grid.margin = JSON.parse(this.plotAreaMargin);\r\n        }\r\n\r\n        // Apply Settings from host\r\n        cartesianGraphSettings.xaxes = [];\r\n        cartesianGraphSettings.yaxes = [];\r\n        cartesianGraphSettings.cursors = [];\r\n\r\n        for (i = 0; i < this.axes.length; i++) {\r\n            var axis = this.axes[i];\r\n            var a = axis.getViewConfig();\r\n\r\n            if (a) {\r\n                if (a.position && ((a.position === 'left') || (a.position === 'right'))) {\r\n                    cartesianGraphSettings.yaxes.push(a);\r\n                }\r\n\r\n                if (a.position && ((a.position === 'top') || (a.position === 'bottom'))) {\r\n                    cartesianGraphSettings.xaxes.push(a);\r\n                }\r\n            }\r\n        }\r\n\r\n        for (i = 0; i < this.cursors.length; i++) {\r\n            var cursor = this.cursors[i];\r\n            var c = cursor.getViewConfig();\r\n            cartesianGraphSettings.cursors.push(c);\r\n        }\r\n\r\n        if (this.graphTools) {\r\n            cartesianGraphSettings.zoom.interactive = this.graphTools.allowsScrollWheelZoom();\r\n            cartesianGraphSettings.pan.interactive = this.graphTools.allowsPan();\r\n            cartesianGraphSettings.selection.mode = this.graphTools.mode === 'zoom' ? 'smart' : null;\r\n        }\r\n\r\n        return cartesianGraphSettings;\r\n    };\r\n\r\n    proto.updateGraphConfig = function () {\r\n        var plotConfig;\r\n        if (this.plots.length > 0) {\r\n            plotConfig = this.plots[0].getViewConfig();\r\n        }\r\n\r\n        var childElement = this.graphdiv;\r\n        if (childElement === undefined) {\r\n            return; // not ready yet\r\n        }\r\n\r\n        var cartesianGraphData = this.createData(this.plots, this.convertToFlotFormat(JSON.parse(this.value)));\r\n        var cartesianGraphSettings = this.configureGraph();\r\n        this.setHover(cartesianGraphData, cartesianGraphSettings);\r\n\r\n        try {\r\n            this.graph = $.plot(childElement, cartesianGraphData, cartesianGraphSettings);\r\n        } catch (error) {\r\n            NI_SUPPORT.log(error.message);\r\n        }\r\n\r\n        $(this).data('chart', this.graph);\r\n    };\r\n\r\n    var isWaveform = function (value) {\r\n        return (!Array.isArray(value)) && typeof value === 'object' && Array.isArray(value.Y);\r\n    };\r\n\r\n    proto.inferDataType = function (data) {\r\n        if (isWaveform(data)) {\r\n            return 'niAnalogWaveform';\r\n        }\r\n\r\n        if (!Array.isArray(data)) {\r\n            return 'unknown';\r\n        }\r\n\r\n        if (data.length === 0) {\r\n            return 'empty';\r\n        }\r\n\r\n        if (typeof data[0] === 'number') {\r\n            return '1DNumericArray';\r\n        }\r\n\r\n        if (Array.isArray(data[0])) {\r\n            return '2DNumericArray';\r\n        }\r\n\r\n        if (data[0] instanceof Object) {\r\n            return '1DComplexArray';\r\n        }\r\n\r\n        return 'unknown';\r\n    };\r\n\r\n    var waveformToFlotFormat = function (waveform) {\r\n        return [waveform.toTimeAndValueArray()];\r\n    };\r\n\r\n    proto.convertToFlotFormat = function (data) {\r\n        var dataValuesArray = [];\r\n        var dataValuesArray2D;\r\n\r\n        var i, j, coordinatesArray;\r\n\r\n        switch (this.inferDataType(data)) {\r\n            case 'niAnalogWaveform':\r\n                var waveform = new NationalInstruments.HtmlVI.NIAnalogWaveform(data);\r\n                return waveformToFlotFormat(waveform);\r\n            case '1DNumericArray':\r\n                for (i = 0; i < data.length; i++) {\r\n                    coordinatesArray = [];\r\n                    coordinatesArray.push(i);\r\n                    coordinatesArray.push(data[i]);\r\n                    dataValuesArray.push(coordinatesArray);\r\n                }\r\n\r\n                break;\r\n            case '1DComplexArray':\r\n                for (i = 0; i < data.length; i++) {\r\n                    coordinatesArray = [];\r\n                    coordinatesArray.push(i);\r\n                    coordinatesArray.push(data[i].real);\r\n                    dataValuesArray.push(coordinatesArray);\r\n                }\r\n\r\n                break;\r\n            case '2DNumericArray':\r\n                dataValuesArray2D = [];\r\n                for (j = 0; j < data.length; j++) {\r\n                    dataValuesArray = [];\r\n                    for (i = 0; i < data[j].length; i++) {\r\n                        coordinatesArray = [];\r\n                        coordinatesArray.push(i);\r\n                        coordinatesArray.push(data[j][i]);\r\n                        dataValuesArray.push(coordinatesArray);\r\n                    }\r\n\r\n                    dataValuesArray2D.push(dataValuesArray);\r\n                }\r\n\r\n                break;\r\n            default:\r\n\r\n        }\r\n\r\n        return dataValuesArray2D || [dataValuesArray];\r\n    };\r\n\r\n    proto.updateData = function () {\r\n        var graph = this.graph;\r\n\r\n        graph.setData(this.createData(this.plots, this.convertToFlotFormat(JSON.parse(this.value))));\r\n        graph.setupGrid();\r\n        graph.draw();\r\n    };\r\n\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: '[]'\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'plotAreaMargin',\r\n            defaultValue: ''\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.plots = [];\r\n        this.axes = [];\r\n        this.cursors = [];\r\n        this.plotLegend = null;\r\n        this.cursorLegend = null;\r\n        this.scaleLegend = null;\r\n        this.graphTools = null;\r\n        this.graphdiv = undefined;\r\n        this.tooltip = null;\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    proto.findGraphItems_early = function () {\r\n        var myChildItems = [],\r\n            axisItemName = NationalInstruments.HtmlVI.Elements.CartesianPlot.prototype.elementInfo.tagName.toUpperCase(),\r\n            plotItemName = NationalInstruments.HtmlVI.Elements.CartesianAxis.prototype.elementInfo.tagName.toUpperCase(),\r\n            i;\r\n\r\n        for (i = 0; i < this.children.length; i++) {\r\n            if (this.children[i].tagName === plotItemName) {\r\n                myChildItems.push(this.children[i]);\r\n            } else if (this.children[i].tagName === axisItemName) {\r\n                myChildItems.push(this.children[i]);\r\n            }\r\n        }\r\n\r\n        return myChildItems;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        var plot = this.graph;\r\n        if (plot !== undefined) {\r\n            plot.resize();\r\n            plot.setupGrid();\r\n            plot.draw();\r\n        }\r\n    };\r\n\r\n    proto.createGraph = function () {\r\n        var that = this;\r\n        var childElement = document.createElement('div');\r\n        childElement.style.width = '100%';\r\n        childElement.style.height = '100%';\r\n        this.appendChild(childElement);\r\n        var tooltip = document.createElement('div');\r\n        tooltip.id = 'tooltip' + NI_SUPPORT.uniqueId();\r\n        tooltip.className = 'ni-graph-tooltip';\r\n        this.appendChild(tooltip);\r\n        this.tooltip = tooltip;\r\n\r\n        this.graphdiv = childElement;\r\n\r\n        var cartesianGraphData = this.createData(this.plots, this.convertToFlotFormat(JSON.parse(this.value)));\r\n        var cartesianGraphSettings = this.configureGraph();\r\n        this.setHover(cartesianGraphData, cartesianGraphSettings);\r\n\r\n        try {\r\n            this.graph = $.plot(childElement, cartesianGraphData, cartesianGraphSettings);\r\n        } catch (e) {\r\n            NI_SUPPORT.log('Failed to create a flot chart. Make sure that the placeholder element has a non-zero size !');\r\n        }\r\n\r\n        $(childElement).bind('plothover', function (event, pos, item) {\r\n            if (item) {\r\n                var str = '';\r\n                var hoverFormat = that.plots[item.seriesIndex].hoverFormat;\r\n                if (hoverFormat !== undefined) {\r\n                    str = that.format(hoverFormat, pos.x, pos.y);\r\n                } else {\r\n                    str = that.format('{0}, {1}', pos.x, pos.y);\r\n                }\r\n\r\n                $(tooltip).html(str)\r\n                                        .css({ top: item.pageY - that.offsetTop + 5, left: item.pageX - that.offsetLeft + 5 })\r\n                                        .fadeIn(100);\r\n            } else {\r\n                $(tooltip).hide();\r\n            }\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this), graphChildElements;\r\n\r\n        if (firstCall === true) {\r\n            graphChildElements = this.findGraphItems_early();\r\n            this.addGraphItemListeners(graphChildElements);\r\n            this.createGraph();\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.addGraphItemListeners = function (childElements) {\r\n        var that = this;\r\n        that.addEventListener('ni-cartesian-plot-attached', function (evt) {\r\n            var i;\r\n\r\n            if (evt.target === that) {\r\n                that.plots.push(evt.detail.element);\r\n                for (i = 0; i < childElements.length; i++) {\r\n                    if (childElements[i] === evt.detail.element) {\r\n                        childElements.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                that.updateGraphConfig();\r\n                that.notifyPlotLegend('ni-cartesian-plot-attached', evt.detail.element);\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-plot-detached', function (evt) {\r\n            var i;\r\n\r\n            if (evt.target === that) {\r\n                for (i = 0; i < that.plots.length; i++) {\r\n                    if (that.plots[i] === evt.detail.element) {\r\n                        that.plots.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                that.updateGraphConfig();\r\n                that.notifyPlotLegend('ni-cartesian-plot-detached', evt.detail.element);\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-axis-attached', function (evt) {\r\n            var i;\r\n\r\n            if (evt.target === that) {\r\n                if (typeof that.axes === 'string') {\r\n                    that.axes = [];\r\n                }\r\n\r\n                if (typeof that.plots === 'string') {\r\n                    that.plots = [];\r\n                }\r\n\r\n                that.axes.push(evt.detail.element);\r\n                for (i = 0; i < childElements.length; i++) {\r\n                    if (childElements[i] === evt.detail.element) {\r\n                        childElements.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                that.updateGraphConfig();\r\n                that.notifyScaleLegend('ni-cartesian-axis-attached', evt.detail.element);\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-axis-detached', function (evt) {\r\n            var i;\r\n\r\n            if (evt.target === that) {\r\n                for (i = 0; i < that.axes.length; i++) {\r\n                    if (that.axes[i] === evt.detail.element) {\r\n                        that.axes.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                that.updateGraphConfig();\r\n                that.notifyScaleLegend('ni-cartesian-axis-detached', evt.detail.element);\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-cursor-attached', function (evt) {\r\n            var i;\r\n\r\n            if (evt.target === that) {\r\n                if (typeof that.cursors === 'string') {\r\n                    that.cursors = [];\r\n                }\r\n\r\n                that.cursors.push(evt.detail.element);\r\n                for (i = 0; i < childElements.length; i++) {\r\n                    if (childElements[i] === evt.detail.element) {\r\n                        childElements.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                that.updateGraphConfig();\r\n                that.notifyCursorLegend('ni-cursor-attached', evt.detail.element);\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-cursor-detached', function (evt) {\r\n            var i;\r\n\r\n            if (evt.target === that) {\r\n                for (i = 0; i < that.cursors.length; i++) {\r\n                    if (that.cursors[i] === evt.detail.element) {\r\n                        that.cursors.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                that.updateGraphConfig();\r\n                that.notifyCursorLegend('ni-cursor-detached', evt.detail.element);\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-axis-changed', function (evt) {\r\n            that.updateGraphConfig();\r\n            that.notifyScaleLegend('ni-axis-changed', evt.detail.element);\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-plot-changed', function (evt) {\r\n            that.updateGraphConfig();\r\n            that.notifyPlotLegend('ni-cartesian-plot-changed', evt.detail.element);\r\n        });\r\n\r\n        that.addEventListener('ni-cursor-changed', function (evt) {\r\n            that.updateGraphConfig();\r\n            that.notifyCursorLegend('ni-cursor-changed', evt.detail.element);\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-plot-renderer-attached', function () {\r\n            that.updateGraphConfig();\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-plot-renderer-detached', function () {\r\n            that.updateGraphConfig();\r\n        });\r\n\r\n        that.addEventListener('ni-graph-tools-changed', function () {\r\n            that.updateGraphConfig();\r\n        });\r\n    };\r\n\r\n    proto.registerPlotLegend = function (plotLegend) {\r\n        var i;\r\n        this.plotLegend = plotLegend;\r\n        if (this.plots.length > 0) {\r\n            for (i = 0; i < this.plots.length; i++) {\r\n                this.notifyPlotLegend('ni-cartesian-plot-attached', this.plots[i]);\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.notifyPlotLegend = function (name, originalSource) {\r\n        var eventConfig;\r\n\r\n        if (this.plotLegend !== null) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this,\r\n                    originalSource: originalSource\r\n                }\r\n            };\r\n\r\n            this.plotLegend.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.registerCursorLegend = function (cursorLegend) {\r\n        var i;\r\n        this.cursorLegend = cursorLegend;\r\n        if (this.cursors.length > 0) {\r\n            for (i = 0; i < this.cursors.length; i++) {\r\n                this.notifyCursorLegend('ni-cursor-attached', this.cursors[i]);\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.notifyCursorLegend = function (name, originalSource) {\r\n        var eventConfig;\r\n\r\n        if (this.cursorLegend !== null) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this,\r\n                    originalSource: originalSource\r\n                }\r\n            };\r\n\r\n            this.cursorLegend.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.registerScaleLegend = function (scaleLegend) {\r\n        var i;\r\n        this.scaleLegend = scaleLegend;\r\n        if (this.axes.length > 0) {\r\n            for (i = 0; i < this.axes.length; i++) {\r\n                this.notifyScaleLegend('ni-cartesian-axis-attached', this.axes[i]);\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.notifyScaleLegend = function (name, originalSource) {\r\n        var eventConfig;\r\n\r\n        if (this.scaleLegend !== null) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this,\r\n                    originalSource: originalSource\r\n                }\r\n            };\r\n\r\n            this.scaleLegend.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.registerGraphTools = function (graphTools) {\r\n        var that = this;\r\n        this.graphTools = graphTools;\r\n\r\n        this.updateGraphConfig();\r\n\r\n        $(this.graphdiv).on('plotselected', function (event, ranges) {\r\n            that.notifyGraphTools('ni-cartesian-graph-box-selected', { ranges: ranges });\r\n        });\r\n\r\n        $(this.graphdiv).on('plotpan', function (event, ranges) {\r\n            that.notifyGraphTools('ni-cartesian-graph-interaction', { ranges: ranges });\r\n        });\r\n\r\n        $(this.graphdiv).on('plotzoom', function (event, ranges) {\r\n            that.notifyGraphTools('ni-cartesian-graph-interaction', { ranges: ranges });\r\n        });\r\n\r\n    };\r\n\r\n    proto.notifyGraphTools = function (name, originalSource) {\r\n        var eventConfig;\r\n\r\n        if (this.graphTools !== null) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this,\r\n                    originalSource: originalSource\r\n                }\r\n            };\r\n\r\n            this.graphTools.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'value':\r\n                this.updateData();\r\n                break;\r\n            case 'plotAreaMargin':\r\n                this.updateGraphConfig();\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.format = function () {\r\n        var args = arguments;\r\n        var str = args[0];\r\n        return str.replace(/{(\\d+)}/g, function (match, number) {\r\n            var index = parseInt(number) + 1;\r\n            var item = args[index];\r\n\r\n            if (typeof item !== 'undefined') {\r\n                var len1 = item.toFixed(2).length;\r\n                var len2 = item.toExponential(2).length;\r\n                if (len1 < len2) {\r\n                    return item.toFixed(2);\r\n                } else {\r\n                    return item.toExponential(2);\r\n                }\r\n            } else {\r\n                return match;\r\n            }\r\n        });\r\n    };\r\n\r\n    proto.setHover = function (graphData, graphSettings) {\r\n        var i,\r\n            isHoverable = false;\r\n\r\n        for (i = 0; i < graphData.length; i++) {\r\n            if (graphData[i].hoverable) {\r\n                isHoverable = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (isHoverable === true) {\r\n            if (graphSettings.grid === undefined) {\r\n                graphSettings.grid = {};\r\n            }\r\n\r\n            graphSettings.grid.hoverable = isHoverable;\r\n        } else {\r\n            if (this.tooltip !== null) {\r\n                $(this.tooltip).hide();\r\n            }\r\n        }\r\n    };\r\n}(NationalInstruments.HtmlVI.Elements.CartesianGraphBase, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Cartesian Graph Prototype\r\n// DOM Registration: HTMLNICartesianGraph\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.CartesianGraph = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.createData = function (plots, data) {\r\n        var plotConfig = [];\r\n\r\n        var defaultSampleCartesianGraphData = [\r\n            [\r\n                [0, 1],\r\n                [1, 5],\r\n                [2, 3],\r\n                [3, 6]\r\n            ],\r\n            [\r\n                [0, 2],\r\n                [1, 6],\r\n                [2, 2],\r\n                [3, 3]\r\n            ],\r\n            [\r\n                [0, 6],\r\n                [1, 3],\r\n                [2, 5],\r\n                [3, 1]\r\n            ],\r\n            [\r\n                [0, 3],\r\n                [1, 7],\r\n                [2, 0],\r\n                [3, 4]\r\n            ],\r\n            [\r\n                [0, 3],\r\n                [1, -1],\r\n                [2, 7],\r\n                [3, -2]\r\n            ]\r\n        ];\r\n\r\n        plots.forEach(function (plot, i) {\r\n            plotConfig[i] = plot.getViewConfig();\r\n            plotConfig[i].data = data.length > 0 ? data[i] : defaultSampleCartesianGraphData[i] || [];\r\n        });\r\n\r\n        return plotConfig;\r\n    };\r\n\r\n    proto.updateGraphConfig = function () {\r\n        var childElement = this.graphdiv;\r\n        if (childElement === undefined) {\r\n            return; // not ready yet\r\n        }\r\n\r\n        var cartesianGraphData = this.createData(this.plots, this.convertToFlotFormat(JSON.parse(this.value)));\r\n        var cartesianGraphSettings = this.configureGraph();\r\n        this.setHover(cartesianGraphData, cartesianGraphSettings);\r\n        try {\r\n            this.graph = $.plot(childElement, cartesianGraphData, cartesianGraphSettings);\r\n            var that = this;\r\n            this.graph.getCursors().forEach(function (cursor, i) {\r\n                /* place a cookie on the cursor */\r\n                cursor.cookie = that.cursors[i];\r\n                that.cursors[i].setCursor(cursor);\r\n            });\r\n        } catch (error) {}\r\n\r\n        $(this).data('chart', this.graph);\r\n    };\r\n\r\n    proto.onCursorUpdates = function (event, cursordata) {\r\n        cursordata.forEach(function (cursor, i) {\r\n            cursor.target.cookie.updateCursorElement(cursordata[i]);\r\n        });\r\n    };\r\n\r\n    proto.updateData = function () {\r\n        var graph = this.graph;\r\n\r\n        graph.setData(this.createData(this.plots, this.convertToFlotFormat(JSON.parse(this.value))));\r\n        graph.setupGrid();\r\n        graph.draw();\r\n    };\r\n\r\n    proto.createGraph = function () {\r\n        parent.prototype.createGraph.call(this);\r\n        try {\r\n            this.graph.getPlaceholder().bind('cursorupdates', this.onCursorUpdates);\r\n            var that = this;\r\n            this.graph.getCursors().forEach(function (cursor, i) {\r\n                /* place a cookie on the cursor */\r\n                cursor.cookie = that.cursors[i];\r\n                that.cursors[i].setCursor(cursor);\r\n            });\r\n        } catch (e) { }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-cartesian-graph', 'HTMLNICartesianGraph');\r\n}(NationalInstruments.HtmlVI.Elements.CartesianGraph, NationalInstruments.HtmlVI.Elements.CartesianGraphBase));\r\n","//****************************************\n// Chart Prototype\n// DOM Registration: HTMLNIChart\n// National Instruments Copyright 2015\n//****************************************\n\n// Constructor Function: Empty (Not Invoked)\nNationalInstruments.HtmlVI.Elements.Chart = function () {\n    'use strict';\n};\n\n// Static Public Variables\n// None\n\n(function (child, parent) {\n    'use strict';\n    // Static Private Reference Aliases\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n\n    NI_SUPPORT.inheritFromParent(child, parent);\n    var proto = child.prototype;\n\n    // Static Private Variables\n    // None\n\n    // Static Private Functions\n    // None\n\n    // Public Prototype Methods\n    proto.setHistoryBuffer = function (historyBuffer) {\n        this.historyBuffer = historyBuffer;\n    };\n\n    proto.getHistoryBuffer = function () {\n        return this.historyBuffer;\n    };\n\n    proto.createdCallback = function () {\n        parent.prototype.createdCallback.call(this);\n\n        // Public Instance Properties\n        this.historyBuffer = null;\n\n        // Private Instance Properties\n        // None\n    };\n\n    proto.getSettings = function () {\n        var settings = parent.prototype.getSettings.call(this);\n\n        settings.series.historyBuffer = this.historyBuffer;\n\n        return settings;\n    };\n\n    proto.createData = function (plots, data) {\n        var plotConfig = [];\n\n        plots.forEach(function (plot) {\n            plotConfig.push(plot.getViewConfig());\n\n        });\n\n        plots.forEach(function (plot, i) {\n            plotConfig[i] = plot.getViewConfig();\n            plotConfig[i].data = data.length > 0 ? data[i] : [];\n        });\n\n        return plotConfig;\n    };\n\n    proto.addAllProperties = function (targetPrototype) {\n        parent.prototype.addAllProperties.call(this, targetPrototype);\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'bufferSize',\n            defaultValue: 1024\n        });\n    };\n\n    proto.defineElementInfo(proto, 'ni-chart', 'HTMLNIChart');\n}(NationalInstruments.HtmlVI.Elements.Chart, NationalInstruments.HtmlVI.Elements.CartesianGraphBase));\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Cartesian Axis Custom Element\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.CartesianAxis = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    var isTimeAxis = function (format) {\r\n        return (format.indexOf('LVTime') === 0) || (format.indexOf('LVRelativeTime') === 0);\r\n    };\r\n\r\n    var toFlotTimeFormat = function (format) {\r\n        if (format.indexOf('LVTime') === 0) {\r\n            return '%A';\r\n        }\r\n\r\n        if (format.indexOf('LVRelativeTime') === 0) {\r\n            return '%r';\r\n        }\r\n\r\n        return null;\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'show',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'label',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'axisPosition',\r\n            defaultValue: 'left'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'showLabel',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'minimum',\r\n            defaultValue: 0\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'maximum',\r\n            defaultValue: 1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'autoScale',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'logScale',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'format',\r\n            defaultValue: ''\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    proto.sendEventToParentGraph = function (name) {\r\n        var eventConfig;\r\n\r\n        if (this._parentGraph !== undefined) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this\r\n                }\r\n            };\r\n\r\n            this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.CartesianGraphBase) {\r\n            this._parentGraph = this.parentElement;\r\n            this.sendEventToParentGraph('ni-cartesian-axis-attached');\r\n        } else {\r\n            NI_SUPPORT.error('Axis with following id does not have a parentGraph', this.niControlId);\r\n            this._parentGraph = undefined;\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        this.sendEventToParentGraph('ni-axis-changed');\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        this.sendEventToParentGraph('ni-cartesian-axis-detached');\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    // here we transform the configuration from the one used by the custom element to the one understood by Flot\r\n    proto.getViewConfig = function () {\r\n        return {\r\n            'axisLabel': this.showLabel ? this.label : undefined,\r\n            'show': this.show,\r\n            'position': this.axisPosition,\r\n            'min': this.autoScale ? undefined : this.minimum,\r\n            'max': this.autoScale ? undefined : this.maximum,\r\n            'mode': this.logScale ? 'log' : 'linear',\r\n            'element': this,\r\n            'format': isTimeAxis(this.format) ? 'time' : null,\r\n            'timeformat': toFlotTimeFormat(this.format)\r\n        };\r\n    };\r\n\r\n    // get the flot axis coresponding to this element\r\n    proto.getFlotAxis = function () {\r\n        var graph = this._parentGraph.graph;\r\n        var axes = graph.getAxes();\r\n        var that = this;\r\n\r\n        var key =  Object.keys(axes).filter(function (axis) {\r\n            return axes[axis].options.element === that;\r\n        })[0];\r\n\r\n        return axes[key];\r\n    };\r\n\r\n    // set the axis min and max to the data min and max\r\n    proto.scaleOnce = function () {\r\n        var axis = this.getFlotAxis();\r\n\r\n        this.minimum = typeof axis.datamin === 'number' ? axis.datamin : this.minimum;\r\n        this.maximum = typeof axis.datamax === 'number' ? axis.datamax : this.maximum;\r\n    };\r\n\r\n    // called after an user interacts with the plot so the attributes of the element are in sync with the plot\r\n    proto.syncWithFlot = function () {\r\n        var axis = this.getFlotAxis();\r\n\r\n        // if axis.options.min isn't set it means this axis is in autoscale mode\r\n        if (typeof axis.options.min === 'number') {\r\n            this._autoScale = false;\r\n            this._minimum = axis.options.min;\r\n            this._maximum = axis.options.max;\r\n        } else {\r\n            this._autoScale = true;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-cartesian-axis', 'HTMLNICartesianAxis');\r\n}(NationalInstruments.HtmlVI.Elements.CartesianAxis, NationalInstruments.HtmlVI.Elements.Visual));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Boolean Content Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.CartesianPlot = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'xaxis',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'yaxis',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'enableHover',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'hoverFormat',\r\n            defaultValue: ''\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    proto.sendEventToParentGraph = function (name, originalSource) {\r\n        var eventConfig;\r\n\r\n        if (this._parentGraph !== undefined) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this,\r\n                    originalSource: originalSource\r\n                }\r\n            };\r\n\r\n            this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.CartesianGraph || this.parentElement instanceof NationalInstruments.HtmlVI.Elements.Chart) {\r\n            this._parentGraph = this.parentElement;\r\n            this.addPlotItemListeners();\r\n            this.sendEventToParentGraph('ni-cartesian-plot-attached');\r\n        } else {\r\n            NI_SUPPORT.error('Plot with following id does not have a parentGraph', this.niControlId);\r\n            this._parentGraph = undefined;\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.addPlotItemListeners = function () {\r\n        var that = this;\r\n        that.addEventListener('ni-cartesian-plot-renderer-attached', function (evt) {\r\n            if (evt.target === that) {\r\n                this.plotRenderer = evt.detail.element;\r\n                this.sendEventToParentGraph('ni-cartesian-plot-renderer-attached');\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-plot-renderer-detached', function (evt) {\r\n            if (evt.target === that) {\r\n                this.plotRenderer = undefined;\r\n                this.sendEventToParentGraph('ni-cartesian-plot-renderer-detached');\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-cartesian-plot-renderer-changed', function (evt) {\r\n            if (evt.target === that) {\r\n                this.sendEventToParentGraph('ni-cartesian-plot-changed', evt.detail.element);\r\n            }\r\n        });\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        this.sendEventToParentGraph('ni-cartesian-plot-detached');\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        this.sendEventToParentGraph('ni-cartesian-plot-changed');\r\n    };\r\n\r\n    proto.getViewConfig = function () {\r\n        var plotConfig = {};\r\n        if (this.plotRenderer !== undefined) {\r\n            plotConfig = this.plotRenderer.getViewConfig();\r\n        }\r\n\r\n        plotConfig.hoverable = this.enableHover;\r\n\r\n        return plotConfig;\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-cartesian-plot', 'HTMLNICartesianPlot');\r\n}(NationalInstruments.HtmlVI.Elements.CartesianPlot, NationalInstruments.HtmlVI.Elements.Visual));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Boolean Content Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.CartesianPlotRenderer = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'lineWidth',\r\n            defaultValue: 1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'lineStyle',\r\n            defaultValue: 'solid'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'lineStroke',\r\n            defaultValue: '#ff0000'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'pointColor',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'areaFill',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'barFill',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'areaBaseLine',\r\n            defaultValue: 'zero'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'pointSize',\r\n            defaultValue: 1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'pointShape',\r\n            defaultValue: 'ellipse'\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._parentPlot = undefined;\r\n    };\r\n\r\n    proto.sendEventToParentPlot = function (name) {\r\n        var eventConfig;\r\n\r\n        if (this._parentPlot !== undefined) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this\r\n                }\r\n            };\r\n\r\n            this._parentPlot.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.CartesianPlot) {\r\n            this._parentPlot = this.parentElement;\r\n            this.sendEventToParentPlot('ni-cartesian-plot-renderer-attached');\r\n        } else {\r\n            NI_SUPPORT.error('Plot renderer with following id does not have a parentPlot', this.niControlId);\r\n            this._parentPlot = undefined;\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        this.sendEventToParentPlot('ni-cartesian-plot-renderer-changed');\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        this.sendEventToParentPlot('ni-cartesian-plot-renderer-detached');\r\n    };\r\n\r\n    proto.toFlotLineStyle = function (style) {\r\n        switch (style) {\r\n            case 'solid':\r\n                return undefined;\r\n            case 'dot':\r\n                return [this.lineWidth, this.lineWidth * 2];\r\n            case 'mediumdash':\r\n                return [this.lineWidth * 3, this.lineWidth * 2];\r\n            case 'dashdot':\r\n                return [this.lineWidth * 3, this.lineWidth * 2, this.lineWidth, this.lineWidth * 2];\r\n            case 'largedash':\r\n                return [this.lineWidth * 5, this.lineWidth * 3];\r\n            default:\r\n                return undefined;\r\n        }\r\n    };\r\n\r\n    var areaFillOpacity = 0.6;\r\n\r\n    proto.getViewConfig = function () {\r\n        return {\r\n            color: this.lineStroke || this.pointColor || this.areaFill || this.barFill,\r\n            lines: {\r\n                show: this.lineStroke !== '' || this.areaFill !== '',\r\n                lineWidth: this.lineWidth,\r\n                fill: this.areaFill !== '' ? areaFillOpacity : false,\r\n                zero: false,\r\n                dashes: this.toFlotLineStyle(this.lineStyle)\r\n            },\r\n            points: {\r\n                show: this.pointColor !== '',\r\n                radius: this.pointSize ? this.pointSize / 2 : 2,\r\n                symbol: this.pointShape\r\n            },\r\n            bars: {\r\n                show: this.barFill !== '',\r\n                barWidth: 0.75, // TODO this is only valid if the distance between points is 1\r\n                align: 'center',\r\n                zero: false\r\n            }\r\n        };\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-cartesian-plot-renderer', 'HTMLNICartesianPlotRenderer');\r\n}(NationalInstruments.HtmlVI.Elements.CartesianPlotRenderer, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Cursor Custom Element\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Cursor = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    var _cachedFont = '';\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'label',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'targetShape',\r\n            defaultValue: 'ellipse'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'cursorColor',\r\n            defaultValue: '#d42243'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'crosshairStyle',\r\n            defaultValue: 'both'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'show',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'showLabel',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'showValue',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'snapToData',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'x',\r\n            defaultValue: 0.5\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'y',\r\n            defaultValue: 0.5\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.cursor = null;\r\n\r\n        // Private Instance Properties\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    proto.sendEventToParentGraph = function (name) {\r\n        var eventConfig;\r\n\r\n        if (this._parentGraph !== undefined) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this\r\n                }\r\n            };\r\n\r\n            this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.CartesianGraph ||\r\n            this.parentElement instanceof NationalInstruments.HtmlVI.Elements.Chart) {\r\n            this._parentGraph = this.parentElement;\r\n            _cachedFont = window.getComputedStyle(this).font;\r\n            this.sendEventToParentGraph('ni-cursor-attached');\r\n        } else {\r\n            NI_SUPPORT.error('Cursor with the following id does not have a parentGraph', this.niControlId);\r\n            this._parentGraph = undefined;\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        this.sendEventToParentGraph('ni-cursor-changed');\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        this.sendEventToParentGraph('ni-cursor-detached');\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    proto.setCursor = function (cursor) {\r\n        this.cursor = cursor;\r\n    };\r\n\r\n    proto.updateCursorElement = function (data) {\r\n        // TODO mraj this._x and this._y are underlying private properties and should not be assigned to directly\r\n        this._x = this.cursor.position.relativeX;\r\n        this._y = this.cursor.position.relativeY;\r\n        $(this).trigger('cursorUpdated', data);\r\n    };\r\n\r\n    proto.getViewConfig = function () {\r\n        var crosshairStyle =  this.crosshairStyle;\r\n        var mode;\r\n\r\n        if (crosshairStyle === 'both') {\r\n            mode = 'xy';\r\n        } else if (crosshairStyle === 'horizontal') {\r\n            mode = 'y';\r\n        } else if (crosshairStyle === 'vertical') {\r\n            mode = 'x';\r\n        } else {\r\n            mode = null;\r\n        }\r\n\r\n        return {\r\n            'show': this.show,\r\n            'showLabel': this.showLabel,\r\n            'showValuesRelativeToSeries': this.showValue ? 0 : undefined,\r\n            'name': this.label,\r\n            'color': this.cursorColor,\r\n            'snapToPlot': this.snapToData ? 0 : undefined,\r\n            'mode': mode,\r\n            'symbol': this.targetShape,\r\n            'font': _cachedFont,\r\n            'position': {\r\n                'relativeX': this.x,\r\n                'relativeY': this.y\r\n            }\r\n        };\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n        _cachedFont = this.style.font;\r\n        this.sendEventToParentGraph('ni-cursor-changed');\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-cursor', 'HTMLNICursor');\r\n}(NationalInstruments.HtmlVI.Elements.Cursor, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// String Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.StringControl = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'text',\r\n            defaultValue: '',\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'acceptsReturn',\r\n            defaultValue: false\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'typeToReplace',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var childElement,\r\n            jqref,\r\n            that = this,\r\n            editingContent = false;\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (firstCall === true) {\r\n            childElement = document.createElement('textarea');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            jqref.text(this.text);\r\n            jqref.attr('disabled', this.readOnly);\r\n            jqref.css('font-size', $(this).css('font-size'));\r\n            jqref.css('font-family', $(this).css('font-family'));\r\n            jqref.css('font-weight', $(this).css('font-weight'));\r\n            jqref.css('font-style', $(this).css('font-style'));\r\n            jqref.css('resize', 'none');\r\n            jqref.on('change', function () {\r\n                var newVal = jqref.val();\r\n                if (that.text !== newVal) {\r\n                    that.text = newVal;\r\n                }\r\n            });\r\n            jqref.on('click', function () {\r\n                if (that.typeToReplace && !editingContent) {\r\n                    editingContent = true;\r\n                    this.focus();\r\n                    this.select();\r\n                }\r\n            });\r\n            jqref.on('blur', function () {\r\n                var newVal = jqref.val();\r\n                editingContent = false;\r\n                if (that.text !== newVal) {\r\n                    that.text = newVal;\r\n                }\r\n            });\r\n            jqref.on('keydown', function (e) {\r\n                if (that.acceptsReturn === false && e.keyCode === 13) {\r\n                    jqref.blur();\r\n                    return false;\r\n                }\r\n            });\r\n\r\n            // Adding CSS class names\r\n            jqref.addClass('ni-text-field');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        jqref.css({ 'font-size': fontSize,\r\n                   'font-family': fontFamily,\r\n                   'font-weight': fontWeight,\r\n                   'font-style': fontStyle });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        switch (propertyName) {\r\n            case 'readOnly':\r\n                jqref.attr({disabled: this.readOnly});\r\n                break;\r\n            case 'text':\r\n                jqref.text(this.text);\r\n                break;\r\n            case 'acceptsReturn':\r\n                break;\r\n            case 'typeToReplace':\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-string-control', 'HTMLNIStringControl');\r\n}(NationalInstruments.HtmlVI.Elements.StringControl, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Time Stamp Text Box Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.TimeStampTextBox = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var serialisedTSToJsDate = function (value) {\r\n        return (new NationalInstruments.HtmlVI.NITimestamp(value)).toDate();\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: '0:0',\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'minimum',\r\n            defaultValue: '-9223372036854775808:0'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'maximum',\r\n            defaultValue: '9223372036854775807:0'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'showCalendarButtonOnControl',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            childElement,\r\n            jqref,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            var format = 'MM/dd/yyyy hh:mm:ss tt';\r\n            var culture = Globalize.culture(window.NIEmbeddedBrowser.formatLanguage);\r\n            if (culture !== undefined) {\r\n                var calendar = culture.calendar;\r\n                format = calendar.patterns.d + ' ' + calendar.patterns.T;\r\n            }\r\n\r\n            widgetSettings = {\r\n                disabled: this.readOnly,\r\n                culture: window.NIEmbeddedBrowser.formatLanguage,\r\n                formatString: format,\r\n                min: serialisedTSToJsDate(this.minimum),\r\n                max: serialisedTSToJsDate(this.maximum),\r\n                showCalendarButton: !this.readOnly\r\n            };\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            jqref.jqxDateTimeInput(widgetSettings);\r\n            jqref.jqxDateTimeInput('setDate', serialisedTSToJsDate(this.value));\r\n            jqref.on('valueChanged', function (event) {\r\n                that.value = (new NationalInstruments.HtmlVI.NITimestamp(event.args.date)).toString();\r\n            });\r\n\r\n            if (this.showCalendarButtonOnControl === false) {\r\n                jqref.find(' .jqx-icon-calendar').parent().addClass('ni-disable');\r\n            }\r\n\r\n            $('#' + childElement.id + ' .jqx-widget-content').css('font-size', $(this).css('font-size'));\r\n            $('#' + childElement.id + ' .jqx-widget-content').css('font-family', $(this).css('font-family'));\r\n            $('#' + childElement.id + ' .jqx-widget-content').css('font-weight', $(this).css('font-weight'));\r\n            $('#' + childElement.id + ' .jqx-widget-content').css('font-style', $(this).css('font-style'));\r\n\r\n            // Adding CSS class names\r\n            jqref.addClass('ni-time-stamp-box');\r\n            jqref.find(' input').addClass('ni-text-field');\r\n            jqref.find(' .jqx-action-button').addClass('ni-calendar-button');\r\n            jqref.find(' .jqx-icon-calendar').addClass('ni-calendar-icon');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxDateTimeInput(size);\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqrefContent = $('#' + childElement.id + ' .jqx-widget-content');\r\n\r\n        jqrefContent.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        switch (propertyName) {\r\n            case 'value':\r\n                jqref.jqxDateTimeInput('setDate', serialisedTSToJsDate(this.value));\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-time-stamp-text-box', 'HTMLNITimeStampTextBox');\r\n    // Inheritance is different from C# view (where time stamp is a numeric) so that min/max/value properties can have a different datatype\r\n}(NationalInstruments.HtmlVI.Elements.TimeStampTextBox, NationalInstruments.HtmlVI.Elements.Visual));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Boolean Content Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.BooleanContentControl = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'trueContent',\r\n            defaultValue: 'on'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'falseContent',\r\n            defaultValue: 'off'\r\n        });\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.BooleanContentControl, NationalInstruments.HtmlVI.Elements.BooleanControl));\r\n","//****************************************\r\n// Boolean Switch Prototype\r\n// DOM Registration: HTMLNIBooleanSwitch\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.BooleanSwitch = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var createSliderButton = function (target, params, childElement) {\r\n        var that = target,\r\n            jqRef;\r\n\r\n        jqRef = $(childElement);\r\n        params.animationDuration = 25;\r\n        jqRef.jqxSwitchButton(params);\r\n\r\n        // TODO use an undocumented funtion mraj\r\n        jqRef.jqxSwitchButton('_removeEventHandlers');\r\n        jqRef.find(' .jqx-switchbutton-label').css('font-size', $(that).css('font-size'));\r\n        jqRef.find(' .jqx-switchbutton-label').css('font-family', $(that).css('font-family'));\r\n        jqRef.find(' .jqx-switchbutton-label').css('font-weight', $(that).css('font-weight'));\r\n        jqRef.find(' .jqx-switchbutton-label').css('font-style', $(that).css('font-style'));\r\n\r\n        // Adding CSS class names\r\n        jqRef.addClass('ni-boolean-box');\r\n        jqRef.find(' .jqx-switchbutton-label-on').addClass('ni-on-label');\r\n        jqRef.find(' .jqx-switchbutton-label-off').addClass('ni-off-label');\r\n        jqRef.find(' .jqx-switchbutton-wrapper').addClass('ni-thumb-box');\r\n        jqRef.find(' .jqx-switchbutton-thumb').addClass('ni-thumb');\r\n    };\r\n\r\n    // TODO gleon we shouldn't be using this function, we should use CSS directly.\r\n    var setPowerButtonFontSize = function (jqref, height) {\r\n        var fontSize = height * 0.67;\r\n        jqref.css({ 'font-size': fontSize + 'px', 'line-height': height + 'px' });\r\n    };\r\n\r\n    var createPowerButton = function (target, params, childElement) {\r\n        var that = target;\r\n        var powerButton = childElement;\r\n        powerButton.classList.add('ni-boolean-box');\r\n        var powerChar = '\\uF011';\r\n        var text = document.createTextNode(powerChar);\r\n        powerButton.appendChild(text);\r\n\r\n        setPowerButtonFontSize($(powerButton), $(that).height());\r\n\r\n        $(that).hover(function () {\r\n            $(powerButton).toggleClass('hover');\r\n        }, function () {\r\n            $(powerButton).toggleClass('hover');\r\n        });\r\n        $(that).on('click', function (evt) {\r\n            evt.preventDefault();\r\n        });\r\n    };\r\n\r\n    var createRoundButton = function (target, params, childElement) {\r\n        var that = target;\r\n        var divElement = document.createElement('div'),\r\n            labelElement = document.createElement('label');\r\n\r\n        var roundOffLabel = document.createElement('label');\r\n        var roundOnLabel = document.createElement('label');\r\n        var checkbox = document.createElement('input');\r\n\r\n        // Need to prevent default checkbox behavior so mechanical actions can takeover\r\n        checkbox.addEventListener('click', function (evt) {\r\n            evt.preventDefault();\r\n        });\r\n\r\n        // Add off and on labels\r\n        roundOffLabel.classList.add('ni-off-label');\r\n        roundOffLabel.innerText = params.offLabel;\r\n        roundOffLabel.style.fontSize = $(that).css('font-size');\r\n        roundOffLabel.style.fontFamily = $(that).css('font-family');\r\n        roundOffLabel.style.fontWeight = $(that).css('font-weight');\r\n        roundOffLabel.style.fontStyle = $(that).css('font-style');\r\n        divElement.appendChild(roundOffLabel);\r\n        roundOnLabel.classList.add('ni-on-label');\r\n        roundOnLabel.innerText = params.onLabel;\r\n        roundOnLabel.style.fontSize = $(that).css('font-size');\r\n        roundOnLabel.style.fontFamily =  $(that).css('font-family');\r\n        roundOnLabel.style.fontWeight =  $(that).css('font-weight');\r\n        roundOnLabel.style.fontStyle = $(that).css('font-style');\r\n        divElement.appendChild(roundOnLabel);\r\n        childElement.appendChild(divElement);\r\n\r\n        // Add the checkbox\r\n        checkbox.type = 'checkbox';\r\n        checkbox.checked = params.checked;\r\n        childElement.appendChild(checkbox);\r\n\r\n        // Add the label \"knob\"\r\n        labelElement.classList.add('ni-knob');\r\n        childElement.appendChild(labelElement);\r\n    };\r\n\r\n    var createWidgetSettings = function (target) {\r\n        var that = target,\r\n            widgetSettings = {};\r\n        widgetSettings.checked = that.value;\r\n        widgetSettings.onLabel = that.contentVisible ? that.trueContent : '';\r\n        widgetSettings.offLabel = that.contentVisible ? that.falseContent : '';\r\n        widgetSettings.orientation = that.orientation;\r\n        widgetSettings.disabled = that.readOnly;\r\n        return widgetSettings;\r\n    };\r\n\r\n    var createAndAddChildElement = function (target) {\r\n        var that = target,\r\n            childElement = document.createElement('div');\r\n        childElement.style.width = '100%';\r\n        childElement.style.height = '100%';\r\n        that.appendChild(childElement);\r\n\r\n        return childElement;\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'shape',\r\n            defaultValue: 'slider'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'orientation',\r\n            defaultValue: 'horizontal'\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (firstCall === true) {\r\n\r\n            var widgetSettings = createWidgetSettings(this);\r\n            var childElement = createAndAddChildElement(this);\r\n\r\n            switch (this.shape) {\r\n            case 'round':\r\n                createRoundButton(this, widgetSettings, childElement);\r\n                break;\r\n            case 'slider':\r\n                createSliderButton(this, widgetSettings, childElement);\r\n                break;\r\n            case 'power':\r\n                createPowerButton(this, widgetSettings, childElement);\r\n                break;\r\n            }\r\n\r\n            this.updateOnCSSClass();\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild, jqrefContent;\r\n\r\n        // We do not use text content for power controls\r\n        if (this.shape === 'round') {\r\n            $('.ni-off-label').css({ 'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle });\r\n            $('.ni-on-label').css({ 'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle });\r\n        }\r\n\r\n        if (this.shape === 'slider') {\r\n            jqrefContent = $(childElement).find(' .jqx-switchbutton-label');\r\n            $(jqrefContent).css({ 'font-size': fontSize,\r\n                'font-family': fontFamily,\r\n                'font-weight': fontWeight,\r\n                'font-style': fontStyle });\r\n        }\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement),\r\n            that = this;\r\n\r\n        switch (propertyName) {\r\n        case 'readOnly':\r\n            if (this.shape === 'round') {\r\n                childElement.attr({\r\n                    disabled: that.readOnly\r\n                });\r\n            } else if (this.shape === 'slider') {\r\n                jqref.jqxSwitchButton({\r\n                    disabled: that.readOnly\r\n                });\r\n            } else if (this.shape === 'power') {\r\n                childElement.attr({\r\n                    disabled: that.readOnly\r\n                });\r\n            }\r\n\r\n            break;\r\n        case 'orientation':\r\n            if (this.shape === 'slider') {\r\n                // Orientation changes mess with the entire DOM and\r\n                // reattaching it is the best option.\r\n                this.removeChild(this.firstElementChild);\r\n\r\n                var widgetSettings = createWidgetSettings(this);\r\n\r\n                // Ok to use parent syle, as the removal and re-addition is completely\r\n                // internal. Also, since the resizeHack does not fire, we need this.\r\n                widgetSettings.width = this.style.width;\r\n                widgetSettings.height = this.style.height;\r\n\r\n                childElement = createAndAddChildElement(this);\r\n\r\n                createSliderButton(this, widgetSettings, childElement);\r\n            }\r\n\r\n            break;\r\n        case 'trueContent':\r\n            // We do not use text content for power controls\r\n\r\n            if (this.shape === 'round') {\r\n                $('.ni-on-label').html(this.trueContent);\r\n            }\r\n\r\n            if (this.shape === 'slider') {\r\n                jqref.jqxSwitchButton({\r\n                    onLabel: that.trueContent\r\n                });\r\n            }\r\n\r\n            break;\r\n        case 'falseContent':\r\n            // We do not use text content for power controls\r\n            if (this.shape === 'round') {\r\n                $('.ni-off-label').html(this.falseContent);\r\n            }\r\n\r\n            if (this.shape === 'slider') {\r\n                jqref.jqxSwitchButton({\r\n                    offLabel: that.falseContent\r\n                });\r\n            }\r\n\r\n            break;\r\n        case 'contentVisible':\r\n            // We do not use text content for power controls\r\n            if (this.shape === 'round') {\r\n                $('.ni-off-label').html(this.contentVisible ? this.falseContent : '');\r\n            }\r\n\r\n            if (this.shape === 'round') {\r\n                $('.ni-on-label').html(this.contentVisible ? this.trueContent : '');\r\n            }\r\n\r\n            if (this.shape === 'slider') {\r\n                jqref.jqxSwitchButton({\r\n                    onLabel: that.contentVisible ? that.trueContent : '',\r\n                    offLabel: that.contentVisible ? that.falseContent : ''\r\n                });\r\n            }\r\n\r\n            break;\r\n        case 'value':\r\n            if (this.shape === 'slider') {\r\n                jqref.jqxSwitchButton({\r\n                    checked: that.value\r\n                });\r\n            }\r\n\r\n            this.updateOnCSSClass();\r\n\r\n            break;\r\n        default:\r\n            break;\r\n        }\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        var childElement = this.firstElementChild,\r\n            jqRef = $(childElement);\r\n        if (this.shape === 'slider') {\r\n            jqRef.detach();\r\n            jqRef.jqxSwitchButton(size);\r\n            $(this).append(jqRef);\r\n        }\r\n\r\n        if (this.shape === 'power') {\r\n            // TODO gleon we shouldn't be doing this. Use CSS directly.\r\n            setPowerButtonFontSize(jqRef, size.height);\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-boolean-switch', 'HTMLNIBooleanSwitch');\r\n})(NationalInstruments.HtmlVI.Elements.BooleanSwitch, NationalInstruments.HtmlVI.Elements.BooleanContentControl);\r\n","//****************************************\r\n// Boolean LED Prototype\r\n// DOM Registration: HTMLNIBooleanLED\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.BooleanLED = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        // Valid values:\r\n        // round, square\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'shape',\r\n            defaultValue: 'round'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'highlight',\r\n            defaultValue: ''\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            childElement,\r\n            jqref;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            widgetSettings.toggled = this.value;\r\n\r\n            childElement = document.createElement('input');\r\n            childElement.type = 'button';\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            widgetSettings.disabled = this.readOnly;\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            jqref.jqxToggleButton(widgetSettings);\r\n            jqref.jqxToggleButton('_removeHandlers');\r\n\r\n            this.updateContent(this, jqref);\r\n\r\n            if (this.value === true) {\r\n                jqref.jqxToggleButton('check');\r\n            } else {\r\n                jqref.jqxToggleButton('unCheck');\r\n            }\r\n\r\n            this.updateColors(childElement);\r\n\r\n            // Adding CSS class names\r\n            jqref.addClass('ni-boolean-box');\r\n            this.updateOnCSSClass();\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.updateContent = function (that, jqref) {\r\n        if (that.contentVisible === true) {\r\n            jqref.attr('value', that.value ? that.trueContent : that.falseContent);\r\n        } else {\r\n            jqref.attr('value', '');\r\n        }\r\n    };\r\n\r\n    proto.updateColors = function (childElement) {\r\n        if (this.value === true) {\r\n            $(childElement).css({ 'background-color': this.highlight, 'border-color': '#000000' });\r\n        } else {\r\n            $(childElement).css({ 'border-color': this.highlight, 'background-color': '#ffffff' });\r\n        }\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        switch (propertyName) {\r\n            case 'value':\r\n                jqref.jqxToggleButton({\r\n                    toggled: this.value\r\n                });\r\n                this.updateContent(this, jqref);\r\n                this.updateColors(childElement);\r\n                this.updateOnCSSClass();\r\n                break;\r\n            case 'readOnly':\r\n                jqref.jqxToggleButton({ disabled: this.readOnly });\r\n                break;\r\n            case 'contentVisible':\r\n            case 'trueContent':\r\n            case 'falseContent':\r\n                this.updateContent(this, jqref);\r\n                break;\r\n            case 'highlight':\r\n                this.updateColors(childElement);\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-boolean-led', 'HTMLNIBooleanLED');\r\n})(NationalInstruments.HtmlVI.Elements.BooleanLED, NationalInstruments.HtmlVI.Elements.BooleanContentControl);\r\n","//****************************************\r\n// CheckBox Prototype\r\n// DOM Registration: HTMLNICheckBox\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.CheckBox = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            childElement,\r\n            jqref;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            widgetSettings.checked = this.value;\r\n\r\n            childElement = document.createElement('div');\r\n            this.appendChild(childElement);\r\n\r\n            var textContent = document.createElement('label');\r\n            this.appendChild(textContent);\r\n            textContent.innerHTML = this.contentVisible ? this.content : '';\r\n            textContent.style.fontSize = $(this).css('font-size');\r\n            textContent.style.fontFamily =  $(this).css('font-family');\r\n            textContent.style.fontWeight =  $(this).css('font-weight');\r\n            textContent.style.fontStyle =  $(this).css('font-style');\r\n            jqref = $(childElement);\r\n            jqref.jqxCheckBox(widgetSettings);\r\n            jqref.jqxCheckBox('_removeHandlers');\r\n\r\n            // Associate the textContent with the jqxWidget\r\n            textContent.setAttribute('for', childElement.id);\r\n\r\n            if (this.value === true) {\r\n                jqref.jqxCheckBox('check');\r\n                jqref.find(' .jqx-checkbox-check-checked').addClass('ni-check-mark-icon');\r\n            } else {\r\n                jqref.jqxCheckBox('unCheck');\r\n                jqref.find(' .jqx-checkbox-check-checked').removeClass('ni-check-mark-icon');\r\n            }\r\n\r\n            // Adding CSS class names\r\n            jqref.addClass('ni-boolean-box');\r\n            jqref.find(' .jqx-checkbox-default').addClass('ni-check-mark-box');\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var textContent = this.lastElementChild;\r\n\r\n        $(textContent).css({ 'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            textContent = this.lastElementChild,\r\n            jqref = $(childElement),\r\n            that = this;\r\n\r\n        switch (propertyName) {\r\n        case 'content':\r\n            textContent.innerHTML = this.contentVisible ? this.content : '';\r\n            break;\r\n        case 'contentVisible':\r\n            textContent.innerHTML = this.contentVisible ? this.content : '';\r\n            break;\r\n        case 'value':\r\n            jqref.jqxCheckBox({\r\n                checked: that.value\r\n            });\r\n            if (that.value === true) {\r\n                jqref.find(' .jqx-checkbox-check-checked').addClass('ni-check-mark-icon');\r\n            } else {\r\n                jqref.find(' .jqx-checkbox-check-checked').removeClass('ni-check-mark-icon');\r\n            }\r\n\r\n            break;\r\n        default:\r\n            break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-check-box', 'HTMLNICheckBox');\r\n}(NationalInstruments.HtmlVI.Elements.CheckBox, NationalInstruments.HtmlVI.Elements.BooleanControl));\r\n","//****************************************\r\n// Hyperlink Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Hyperlink = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'href',\r\n            defaultValue: '',\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'content',\r\n            defaultValue: ''\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            childElement;\r\n\r\n        if (firstCall === true) {\r\n            childElement = document.createElement('a');\r\n            childElement.appendChild(document.createTextNode(''));\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            childElement.style.margin = '0px';\r\n\r\n            childElement.setAttribute('href', this.href);\r\n            childElement.setAttribute('target', '_blank'); // We want to open the link in a new tab/window. devdocs.io/html/element/a#attr-target\r\n            childElement.firstChild.nodeValue = this.content;\r\n            childElement.style.color = this.style.color;\r\n\r\n            this.appendChild(childElement);\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild;\r\n\r\n        switch (propertyName) {\r\n            case 'href':\r\n                childElement.setAttribute('href', this.href);\r\n                break;\r\n            case 'content':\r\n                childElement.firstChild.nodeValue = this.content;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-hyperlink', 'HTMLNIHyperlink');\r\n}(NationalInstruments.HtmlVI.Elements.Hyperlink, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Text Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Text = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'text',\r\n            defaultValue: ''\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            divTag;\r\n\r\n        if (firstCall === true) {\r\n            divTag = document.createElement('div');\r\n            divTag.innerHTML = this.text;\r\n            this.appendChild(divTag);\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var divElement = this.firstElementChild;\r\n\r\n        switch (propertyName) {\r\n            case 'text':\r\n                divElement.innerHTML = this.text;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-text', 'HTMLNIText');\r\n}(NationalInstruments.HtmlVI.Elements.Text, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Label Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Label = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'text',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'controlId',\r\n            defaultValue: ''\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            labelTag;\r\n\r\n        if (firstCall === true) {\r\n            labelTag = document.createElement('label');\r\n            this.appendChild(labelTag);\r\n            labelTag.innerHTML = this.text;\r\n            // We want to eventually associate labels with their widgets so that screen readers can associate them.\r\n            // This is sort of how we would do it, but this doesn't work because the id that htmlFor points to\r\n            // needs to be an input, which our controls are not (the have children that are inputs)\r\n            // labelTag.htmlFor = this.controlId;\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var labelElement = this.firstElementChild;\r\n\r\n        switch (propertyName) {\r\n            case 'text':\r\n                labelElement.innerHTML = this.text;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-label', 'HTMLNILabel');\r\n}(NationalInstruments.HtmlVI.Elements.Label, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Path Selector Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.PathSelector = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\nNationalInstruments.HtmlVI.Elements.PathSelector.PathTypeEnum = Object.freeze({\r\n    ABSOLUTE: 'absolute',\r\n    RELATIVE: 'relative'\r\n});\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype,\r\n        pathToObject, objectToPath, filterEmptyString;\r\n\r\n    // Static Private Variables\r\n    var PATH_TYPE_ENUM = NationalInstruments.HtmlVI.Elements.PathSelector.PathTypeEnum;\r\n\r\n    // Static Private Functions\r\n    filterEmptyString = function (str) {\r\n        return str.length !== 0;\r\n    };\r\n\r\n    pathToObject = function (pathString) {\r\n\r\n        var components = pathString.split('/'), // unix format expected.\r\n            type;\r\n        if (components[0].length === 0) {\r\n            type = PATH_TYPE_ENUM.ABSOLUTE;\r\n        } else {\r\n            type = PATH_TYPE_ENUM.RELATIVE;\r\n        }\r\n\r\n        components = components.filter(filterEmptyString);\r\n        return { components: components, type: type };\r\n    };\r\n\r\n    objectToPath = function (pathObject) {\r\n\r\n        pathObject = JSON.parse(pathObject);\r\n\r\n        if (pathObject === undefined || pathObject.components === undefined) {\r\n            return '';\r\n        }\r\n\r\n        var pathString = pathObject.components.join('/');\r\n        if (pathObject.type === PATH_TYPE_ENUM.ABSOLUTE) {\r\n            pathString = '/' + pathString;\r\n            // jqwidgets bug. not possible to set an absolute path containing only\r\n            // one segment in unix format.\r\n            if (pathObject.components.length === 1) {\r\n                pathString += '/';\r\n            }\r\n        }\r\n\r\n        return pathString;\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'path',\r\n            defaultValue: JSON.stringify({ components: [], type: PATH_TYPE_ENUM.ABSOLUTE }), // not a path.\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'format',\r\n            defaultValue: 'windows'\r\n        });\r\n    };\r\n\r\n    proto.setPath = function (pathValue) {\r\n        // We don't want to fire more events for re-setting the path\r\n        // once we cleared the value.\r\n        if (!(this.isNotAPath() && pathValue === '')) {\r\n            this.path = JSON.stringify(pathToObject(pathValue));\r\n        }\r\n    };\r\n\r\n    proto.setNotAPath = function () {\r\n        this.path = JSON.stringify({ components: [], type: PATH_TYPE_ENUM.ABSOLUTE });\r\n    };\r\n\r\n    proto.isNotAPath = function () {\r\n        var pathValue = JSON.parse(this.path);\r\n        if (pathValue === undefined || pathValue === null || pathValue.components === undefined) {\r\n            return true;\r\n        }\r\n\r\n        return pathValue.components.length === 0 && pathValue.type === PATH_TYPE_ENUM.ABSOLUTE;\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            childElement,\r\n            jqref,\r\n            popover,\r\n            button,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            widgetSettings.readOnly = this.readOnly;\r\n            widgetSettings.pathFormat = this.format;\r\n            widgetSettings.accept = '*';\r\n\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            jqref.jqxPathControl(widgetSettings);\r\n            jqref.jqxPathControl('val', objectToPath(this.path));\r\n\r\n            // Adding CSS class names\r\n            jqref.find(' .jqx-path-control-input').addClass('ni-text-field');\r\n            jqref.find(' .jqx-path-control-button').addClass('ni-selector-button');\r\n\r\n            popover = document.createElement('div');\r\n            button = document.createElement('input');\r\n\r\n            $(button).attr('type', 'button');\r\n            $(button).attr('value', NI_SUPPORT.i18n('msg_SET_TO_NOT_A_PATH'));\r\n            $(button).jqxButton({template: 'link'});\r\n            $(button).on('click', function () {\r\n                $(popover).jqxPopover('close');\r\n                that.setNotAPath();\r\n            });\r\n\r\n            popover.appendChild(button);\r\n            $(popover).jqxPopover({ selector: jqref.find('.ni-selector-button'), position: 'right' });\r\n\r\n            jqref.find('.ni-text-field').css({\r\n                'font-size': $(this).css('font-size'),\r\n                'font-family': $(this).css('font-family'),\r\n                'font-weight': $(this).css('font-weight'),\r\n                'font-style': $(this).css('font-style')\r\n            });\r\n\r\n            jqref.on('change', function () {\r\n                that.setPath(jqref.val('unix')); // because is easier to convert to object.\r\n            });\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxPathControl(size);\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        jqref.find('.ni-text-field').css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        switch (propertyName) {\r\n            case 'readOnly':\r\n                jqref.jqxPathControl({ readOnly: this.readOnly });\r\n                break;\r\n            case 'path':\r\n                if (this.isNotAPath()) {\r\n                    jqref.jqxPathControl('clear');\r\n                } else {\r\n                    jqref.jqxPathControl('val', objectToPath(this.path));\r\n                }\r\n\r\n                break;\r\n            case 'format':\r\n                jqref.jqxPathControl({ pathFormat: this.format });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-path-selector', 'HTMLNIPathSelector');\r\n}(NationalInstruments.HtmlVI.Elements.PathSelector, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Url Image Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.UrlImage = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\nNationalInstruments.HtmlVI.Elements.UrlImage.StretchEnum = Object.freeze({\r\n    NONE: 'none',                     // Size at the images natural size (Size to actual image size)\r\n    UNIFORM: 'uniform',               // Stretch but maintain aspect ratio (Fit image in space)\r\n    UNIFORM_TO_FILL: 'uniformtofill', // Size respecting aspect ratio, but fill given space (Fit but maintain aspect ratio)\r\n    FILL: 'fill'                      // Size so that the image fills the space ignoring aspect ratio (Stretch to fill space)\r\n});\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var STRETCH_ENUM = NationalInstruments.HtmlVI.Elements.UrlImage.StretchEnum;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var createImage = function (urlImageElement) {\r\n        var that = urlImageElement;\r\n\r\n        // A div element with background css is used instead of an img element because the img element does not support the different stretch modes\r\n        // but background images with css do support the different stretch modes\r\n        var childElement = document.createElement('div');\r\n        childElement.classList.add('ni-image-box');\r\n        childElement.style.width = '100%';\r\n        childElement.style.height = '100%';\r\n\r\n        if (that.source !== '') {\r\n            childElement.style.backgroundImage = 'url(' + that.source + ')';\r\n        }\r\n\r\n        // TODO mraj should validate enum value? currently assumes valid string\r\n        if (that.stretch !== '' && that.stretch !== STRETCH_ENUM.NONE) {\r\n            childElement.classList.add('ni-stretch-' + that.stretch);\r\n        }\r\n\r\n        childElement.title = that.alternate;\r\n        that.innerHTML = '';\r\n        that.appendChild(childElement);\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'source',\r\n            defaultValue: '',\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'alternate',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'stretch',\r\n            defaultValue: STRETCH_ENUM.UNIFORM\r\n        });\r\n\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (firstCall === true) {\r\n            createImage(this);\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'source':\r\n                createImage(this);\r\n                break;\r\n            case 'alternate':\r\n                createImage(this);\r\n                break;\r\n            case 'stretch':\r\n                createImage(this);\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-url-image', 'HTMLNIUrlImage');\r\n}(NationalInstruments.HtmlVI.Elements.UrlImage, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Image Control Prototype\r\n// DOM Registration: Yes\r\n// National Instruments Copyright 2016\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Image = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\nNationalInstruments.HtmlVI.Elements.Image.StretchEnum = Object.freeze({\r\n    NONE: 'none',                     // Size at the images natural size (Size to actual image size)\r\n    UNIFORM: 'uniform',               // Stretch but maintain aspect ratio (Fit image in space)\r\n    UNIFORM_TO_FILL: 'uniformtofill', // Size respecting aspect ratio, but fill given space (Fit but maintain aspect ratio)\r\n    FILL: 'fill'                      // Size so that the image fills the space ignoring aspect ratio (Stretch to fill space)\r\n});\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var STRETCH_ENUM = NationalInstruments.HtmlVI.Elements.Image.StretchEnum;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var createImage = function (imageElement) {\r\n        var that = imageElement;\r\n\r\n        // A div element with background css is used instead of an img element because the img element does not support the different stretch modes\r\n        // but background images with css do support the different stretch modes\r\n        var childElement = document.createElement('div');\r\n        childElement.classList.add('ni-image-box');\r\n        childElement.style.width = '100%';\r\n        childElement.style.height = '100%';\r\n\r\n        if (that.source !== '') {\r\n            childElement.style.backgroundImage = 'url(data:;base64,' + that.source + ')';\r\n        }\r\n\r\n        // TODO mraj should validate enum value? currently assumes valid string\r\n        if (that.stretch !== '' && that.stretch !== STRETCH_ENUM.NONE) {\r\n            childElement.classList.add('ni-stretch-' + that.stretch);\r\n        }\r\n\r\n        that.innerHTML = '';\r\n        that.appendChild(childElement);\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'source',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'stretch',\r\n            defaultValue: STRETCH_ENUM.UNIFORM\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (firstCall === true) {\r\n            createImage(this);\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'source':\r\n                createImage(this);\r\n                break;\r\n            case 'stretch':\r\n                createImage(this);\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-image', 'HTMLNIImage');\r\n}(NationalInstruments.HtmlVI.Elements.Image, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Selector\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Selector = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'source',\r\n            defaultValue: '[]'\r\n        });\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.Selector, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// DropDown Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.DropDown = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'selectedIndex',\r\n            defaultValue: -1,\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            childElement,\r\n            jqref,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            childElement.style.fontSize = $(this).css('font-size');\r\n            childElement.style.fontFamily = $(this).css('font-family');\r\n            childElement.style.fontWeight = $(this).css('font-weight');\r\n            childElement.style.fontStyle = $(this).css('font-style');\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            jqref.jqxDropDownList(widgetSettings);\r\n            jqref.jqxDropDownList({ source: JSON.parse(this.source), selectedIndex: this.selectedIndex, autoDropDownHeight: true, disabled: this.readOnly });\r\n            jqref.on('change', function (event) {\r\n                that.selectedIndex = event.args.index;\r\n            });\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxDropDownList(size);\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        switch (propertyName) {\r\n            case 'source':\r\n                jqref.jqxDropDownList({ source: JSON.parse(this.source) });\r\n                break;\r\n            case 'selectedIndex':\r\n                jqref.jqxDropDownList({ selectedIndex: this.selectedIndex });\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-drop-down', 'HTMLNIDropDown');\r\n}(NationalInstruments.HtmlVI.Elements.DropDown, NationalInstruments.HtmlVI.Elements.Selector));\r\n","//****************************************\r\n// ListBox\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.ListBox = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\nNationalInstruments.HtmlVI.Elements.ListBox.SelectionModeEnum = Object.freeze({\r\n    ZERO_OR_ONE: 'ZeroOrOne',\r\n    ONE: 'One',\r\n    ZERO_OR_MORE: 'ZeroOrMore',\r\n    ONE_OR_MORE: 'OneOrMore'\r\n});\r\n\r\n// Static Public Functions\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var SELECTION_MODE_ENUM = NationalInstruments.HtmlVI.Elements.ListBox.SelectionModeEnum;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    var getJqxListBoxSelectedIndices = function (jqref) {\r\n        var items = jqref.jqxListBox('getSelectedItems');\r\n        if (items.length === 0 || (items.length === 1 && items[0] === undefined)) {\r\n            return [];\r\n        }\r\n\r\n        return items.map(function (obj) {\r\n            return obj.index;\r\n        });\r\n    };\r\n\r\n    var setJqxListBoxSelectedIndices = function (jqref, indices) {\r\n        var i;\r\n        jqref.jqxListBox('clearSelection');\r\n        for (i = 0; i < indices.length; i++) {\r\n            jqref.jqxListBox('selectIndex', indices[i]);\r\n        }\r\n    };\r\n\r\n    var selectedIndicesMatch = function (jqref, elementSelectedIndices) {\r\n        var i, jqxIndices = getJqxListBoxSelectedIndices(jqref).sort(), parsedIndices = JSON.parse(elementSelectedIndices).sort();\r\n        if (jqxIndices.length !== parsedIndices.length) {\r\n            return false;\r\n        }\r\n\r\n        for (i = 0; i < jqxIndices.length; i++) {\r\n            if (jqxIndices[i] !== parsedIndices[i]) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'selectedIndex',\r\n            defaultValue: '[]',\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'selectionMode',\r\n            defaultValue: SELECTION_MODE_ENUM.ONE\r\n        });\r\n    };\r\n\r\n    proto.updateSelectionMode = function (jqref) {\r\n        var settings = {\r\n            multiple: this.selectionMode !== SELECTION_MODE_ENUM.ONE\r\n        };\r\n\r\n        jqref.jqxListBox(settings);\r\n    };\r\n\r\n    proto.coerceSelection = function (jqref) {\r\n        var selectedIndex = JSON.parse(this.selectedIndex);\r\n        var items = getJqxListBoxSelectedIndices(jqref);\r\n        var newSelection = items.filter(function (a) {\r\n            return selectedIndex.indexOf(a) === -1;\r\n        });\r\n        var revertSelection = (items.length > 1 && (this.selectionMode === SELECTION_MODE_ENUM.ONE || this.selectionMode === SELECTION_MODE_ENUM.ZERO_OR_ONE)) ||\r\n                              (items.length === 0 && (this.selectionMode === SELECTION_MODE_ENUM.ONE || this.selectionMode === SELECTION_MODE_ENUM.ONE_OR_MORE));\r\n        var firstSelectedIndex, coercedSelectedIndices, src, firstValidIndexArray;\r\n        if (revertSelection) {\r\n            src = JSON.parse(this.source);\r\n            firstValidIndexArray = Array.isArray(src) && src.length > 0 ? [0] : [];\r\n            if (newSelection.length > 0) {\r\n                firstSelectedIndex = [newSelection[0]];\r\n            } else {\r\n                firstSelectedIndex = selectedIndex.length > 0 ? [selectedIndex[0]] : [];\r\n            }\r\n\r\n            switch (this.selectionMode) {\r\n                case SELECTION_MODE_ENUM.ZERO_OR_ONE:\r\n                    coercedSelectedIndices = firstSelectedIndex;\r\n                    break;\r\n                case SELECTION_MODE_ENUM.ONE:\r\n                    coercedSelectedIndices = firstSelectedIndex.length === 1 ? firstSelectedIndex : firstValidIndexArray;\r\n                    break;\r\n                case SELECTION_MODE_ENUM.ONE_OR_MORE:\r\n                    coercedSelectedIndices = selectedIndex.length > 0 ? selectedIndex : firstValidIndexArray;\r\n                    break;\r\n            }\r\n\r\n            setJqxListBoxSelectedIndices(jqref, coercedSelectedIndices);\r\n        } else {\r\n            this.selectedIndex = JSON.stringify(items);\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            childElement,\r\n            jqref,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            childElement.style.fontSize = $(this).css('font-size');\r\n            childElement.style.fontFamily = $(this).css('font-family');\r\n            childElement.style.fontWeight = $(this).css('font-weight');\r\n            childElement.style.fontStyle = $(this).css('font-style');\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            widgetSettings.source = JSON.parse(this.source);\r\n            jqref.jqxListBox(widgetSettings);\r\n            setJqxListBoxSelectedIndices(jqref, this.selectedIndex);\r\n            this.updateSelectionMode(jqref);\r\n            jqref.on('change', function () {\r\n                if (!selectedIndicesMatch(jqref, that.selectedIndex)) {\r\n                    that.coerceSelection(jqref);\r\n                }\r\n            });\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxListBox(size);\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        jqref.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqref = $(childElement);\r\n\r\n        switch (propertyName) {\r\n            case 'source':\r\n                jqref.jqxListBox({ source: JSON.parse(this.source) });\r\n                break;\r\n            case 'selectedIndex':\r\n                if (!selectedIndicesMatch(jqref, this.selectedIndex)) {\r\n                    setJqxListBoxSelectedIndices(jqref, JSON.parse(this.selectedIndex));\r\n                }\r\n\r\n                break;\r\n            case 'selectionMode':\r\n                this.updateSelectionMode(jqref);\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-list-box', 'HTMLNIListBox');\r\n}(NationalInstruments.HtmlVI.Elements.ListBox, NationalInstruments.HtmlVI.Elements.Selector));\r\n","//**************************************\r\n//Cluster Control Prototype\r\n// DOM Registration: No\r\n//National Instruments Copyright 2014\r\n//**************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.Cluster = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var NI_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.ElementValueConverter;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: '{}',\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            preventAttributeSync: true,\r\n            isElementValueProperty: true\r\n        });\r\n    };\r\n\r\n    proto.makeValueObj = function () {\r\n        var i;\r\n        var valueObj = {};\r\n        for (i = 0; i < this.childNodes.length; i++) {\r\n            if (this.childNodes[i] instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && this.childNodes[i].tagName !== 'NI-LABEL' && this.childNodes[i].elementInfo.valuePropertyDescriptor !== undefined) {\r\n                var propertyName = this.childNodes[i].elementInfo.valuePropertyDescriptor.propertyName;\r\n                valueObj[this.childNodes[i].dataLabel] = this.getValue(this.childNodes[i], propertyName);\r\n            }\r\n        }\r\n\r\n        return valueObj;\r\n    };\r\n\r\n    proto.childChanged = function (evt) {\r\n        if (evt.srcElement === evt.target && this._childValueChanging === false) {\r\n            var valueObj = this.makeValueObj();\r\n            this._childValueChanging = true;\r\n            this.value = JSON.stringify(valueObj);\r\n            this._childValueChanging = false;\r\n        }\r\n    };\r\n\r\n    proto.addPropertyToValue = function (name, value) {\r\n        var valueObj = JSON.parse(this.value);\r\n        valueObj[name] = value;\r\n        this.valueNonSignaling = JSON.stringify(valueObj);\r\n    };\r\n\r\n    proto.removePropertyFromValue = function (name) {\r\n        var valueObj = JSON.parse(this.value);\r\n        delete valueObj[name];\r\n        this.valueNonSignaling = JSON.stringify(valueObj);\r\n    };\r\n\r\n    proto.changePropertyNameInValue = function (oldName, newName) {\r\n        var valueObj = JSON.parse(this.value);\r\n        var temp = valueObj[oldName];\r\n        delete valueObj[oldName];\r\n        valueObj[newName] = temp;\r\n        this.valueNonSignaling = JSON.stringify(valueObj);\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Private Instance Properties\r\n        this._childValueChanging = false;\r\n        this._mutationObserver = null;\r\n        this._mutationLabelObserver = null;\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n        var that = this, i;\r\n        var callChildChanged = function (evt) {\r\n            that.childChanged(evt);\r\n        };\r\n\r\n        if (firstCall) {\r\n            this._mutationObserver = new window.MutationObserver(function (mutations) {\r\n                mutations.forEach(function (m) {\r\n                    if (m.type === 'childList') {\r\n                        if (m.target === that) {\r\n                            if (m.addedNodes.length > 0) {\r\n                                for (i = 0; i < m.addedNodes.length; i++) {\r\n                                    if (m.addedNodes[i] instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && m.addedNodes[i].tagName === 'NI-LABEL') {\r\n                                        that.applyLabel(m.addedNodes[i]);\r\n                                    }\r\n                                }\r\n                            } else if (m.removedNodes.length > 0) {\r\n                                for (i = 0; i < m.removedNodes.length; i++) {\r\n                                    var removed = m.removedNodes[i];\r\n                                    if (removed instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && removed.tagName !== 'NI-LABEL' && removed.elementInfo.valuePropertyDescriptor !== undefined) {\r\n                                        var eventName = removed.elementInfo.valuePropertyDescriptor.eventName;\r\n                                        removed.removeEventListener(eventName, callChildChanged);\r\n                                        that.removePropertyFromValue(removed.dataLabel);\r\n                                    } else if (removed instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && removed.tagName === 'NI-LABEL') {\r\n                                        if (removed.textMutationObserver !== null) {\r\n                                            if (typeof removed.textMutationObserver.disconnect === 'function') {\r\n                                                removed.textMutationObserver.disconnect();\r\n                                            }\r\n\r\n                                            removed.textMutationObserver = null;\r\n                                        }\r\n                                    }\r\n\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n\r\n            if (this._mutationObserver.observe !== undefined) {\r\n                this._mutationObserver.observe(this, { childList: true, attributes: false, subtree: false });\r\n            }\r\n\r\n            for (i = 0; i < this.childNodes.length; i++) {\r\n                var child = this.childNodes[i];\r\n                if (child instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && child.tagName === 'NI-LABEL') {\r\n                    that.applyLabel(child);\r\n                }\r\n            }\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        var i;\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        if (this._mutationObserver !== null) {\r\n            if (typeof this._mutationObserver.disconnect === 'function') {\r\n                this._mutationObserver.disconnect();\r\n            }\r\n\r\n            this._mutationObserver = null;\r\n        }\r\n\r\n        for (i = 0; i < this.childNodes.length; i++) {\r\n            var child = this.childNodes[i];\r\n            if (child instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && child.tagName === 'NI-LABEL') {\r\n                if (child.textMutationObserver !== null) {\r\n                    if (typeof child.textMutationObserver.disconnect === 'function') {\r\n                        child.textMutationObserver.disconnect();\r\n                    }\r\n\r\n                    child.textMutationObserver = null;\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'value':\r\n                if (this.value !== '{}' && this._childValueChanging === false) {\r\n                    this.updateChildValues();\r\n                }\r\n\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.updateChildValues = function () {\r\n        var i = 0;\r\n        var valueObj = JSON.parse(this.value);\r\n        for (i = 0; i < this.childNodes.length; i++) {\r\n            var child = this.childNodes[i];\r\n            if (child instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && child.tagName !== 'NI-LABEL' && child.elementInfo.valuePropertyDescriptor !== undefined) {\r\n                var descriptor = child.elementInfo.valuePropertyDescriptor.propertyName;\r\n                if (valueObj[child.dataLabel] !== undefined) {\r\n                    this._childValueChanging = true;\r\n                    this.setValue(child, descriptor, valueObj[child.dataLabel]);\r\n                    this._childValueChanging = false;\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.applyLabel = function (label) {\r\n        var that = this;\r\n        if (label.text !== '') {\r\n            this.updateLabel(label, null);\r\n        }\r\n\r\n        if (label.textMutationObserver === undefined) {\r\n            label.textMutationObserver = new window.MutationObserver(function (mutations) {\r\n                mutations.forEach(function (m) {\r\n                    if (m.type === 'attributes') {\r\n                        if (m.target === label && m.attributeName === 'text') {\r\n                            that.updateLabel(label, m.oldValue);\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n\r\n            if (label.textMutationObserver.observe !== undefined) {\r\n                label.textMutationObserver.observe(label, { childList: false, attributes: true, subtree: false });\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.updateLabel = function (label, oldValue) {\r\n        var text = label.text;\r\n        var controlId = label.niControlId;\r\n        var i;\r\n        var that = this;\r\n        var callChildChanged = function (evt) {\r\n            that.childChanged(evt);\r\n        };\r\n\r\n        for (i = 0; i < this.childNodes.length; i++) {\r\n            var child = this.childNodes[i];\r\n            if (child.labelId === controlId) {\r\n                child.dataLabel = text;\r\n                if (child.elementInfo.valuePropertyDescriptor !== undefined) {\r\n                    var propertyName = child.elementInfo.valuePropertyDescriptor.propertyName;\r\n                    var eventName = child.elementInfo.valuePropertyDescriptor.eventName;\r\n                    if (oldValue === null) {\r\n                        this.addPropertyToValue(text, this.getValue(child, propertyName));\r\n                    } else {\r\n                        this.changePropertyNameInValue(oldValue, text);\r\n                    }\r\n\r\n                    if (child.dataEventListenerAdded === undefined) {\r\n                        child.addEventListener(eventName, callChildChanged);\r\n                        child.dataEventListenerAdded = true;\r\n                    }\r\n                }\r\n\r\n                break;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.getValue = function (element, propertyName) {\r\n        var value = element[propertyName],\r\n            convertedValue = NI_VAL_CONVERTER.ConvertBack(element, value);\r\n        return convertedValue;\r\n    };\r\n\r\n    proto.setValue = function (element, propertyName, value) {\r\n        var convertedValue = NI_VAL_CONVERTER.Convert(element, value);\r\n        element[propertyName] = convertedValue;\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-cluster', 'HTMLNICluster');\r\n}(NationalInstruments.HtmlVI.Elements.Cluster, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//**************************************\r\n// ArrayViewer Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//**************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.ArrayViewer = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var NI_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.ElementValueConverter;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    var CSS_PROPERTIES = ['fontSize', 'fontFamily', 'fontWeight', 'fontStyle', 'width', 'height', 'left', 'top'];\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Gets a CSS selector for an NI visual. Note: The selector will only represent this element, it won't\r\n    // walk up the DOM hierarchy. To get a complete selector (that can represent a control in an array in a cluster\r\n    // in an array, for example), use getFullCssSelectorForNIVisual.\r\n    var getCssSelectorForNIVisual = function (element, isInArrayTemplate, isLastElement) {\r\n        var selector = element.tagName, parent = element.parentElement, i, n, curNode;\r\n        if (parent instanceof NationalInstruments.HtmlVI.Elements.Cluster) {\r\n            n = 1;\r\n            for (i = 0; i < parent.childNodes.length; i++) {\r\n                curNode = parent.childNodes[i];\r\n                if (curNode === element) {\r\n                    break;\r\n                } else if (curNode.tagName === element.tagName) {\r\n                    n++;\r\n                }\r\n            }\r\n\r\n            selector = selector + ':nth-of-type(' + n + ')';\r\n        }\r\n\r\n        if (!isInArrayTemplate && element.niControlId !== undefined) {\r\n            selector = selector + '[ni-control-id=\\'' + element.niControlId + '\\']';\r\n        }\r\n\r\n        if (element instanceof NationalInstruments.HtmlVI.Elements.ArrayViewer && isLastElement !== true) {\r\n            if (isInArrayTemplate) {\r\n                selector = selector + ' > div > div > div > div > table > tbody > tr > td > div.jqx-array-element';\r\n            } else {\r\n                selector = selector + ' div.jqx-array-element-' + element.childElement.id;\r\n            }\r\n        }\r\n\r\n        return selector;\r\n    };\r\n\r\n    // Gets a full CSS selector for an NI Visual inside an array.\r\n    // Note: The input arrayViewer should be the outermost / root one, for array-in-array\r\n    // scenarios.\r\n    var getFullCssSelectorForNIVisual = function (arrayViewer, targetElement) {\r\n        var targetAndDescendants = [], curNode = targetElement;\r\n        var selector;\r\n\r\n        while (curNode !== arrayViewer && curNode !== null) {\r\n            targetAndDescendants.push(curNode);\r\n            curNode = curNode.parentElement;\r\n        }\r\n\r\n        if (curNode === null) {\r\n            return null;\r\n        }\r\n\r\n        selector = getCssSelectorForNIVisual(arrayViewer, false, targetAndDescendants.length === 0);\r\n\r\n        while (targetAndDescendants.length > 0) {\r\n            curNode = targetAndDescendants.pop();\r\n            selector = selector.concat(' > ', getCssSelectorForNIVisual(curNode, true, targetAndDescendants.length === 0));\r\n        }\r\n\r\n        return selector;\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: '[]',\r\n            addNonSignalingProperty: true,\r\n            preventAttributeSync: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'dimensions',\r\n            defaultValue: 1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'orientation',\r\n            defaultValue: 'horizontal'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'indexEditorWidth',\r\n            defaultValue: 46\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'indexVisibility',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'verticalScrollbarVisibility',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'horizontalScrollbarVisibility',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'focusedCell',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'rowsAndColumns',\r\n            defaultValue: '1,1'\r\n        });\r\n    };\r\n\r\n    proto.getFullCssSelectorForNIVisual = function (targetElement) {\r\n        return getFullCssSelectorForNIVisual(this, targetElement);\r\n    };\r\n\r\n    proto.arrayElementSizeChanged = function (elementSize) {\r\n        var controls, i, niControl, cssWidth, cssHeight;\r\n        var width = elementSize.width;\r\n        var height = elementSize.height;\r\n\r\n        if (width === this._elementWidth && height === this._elementHeight) {\r\n            return;\r\n        }\r\n\r\n        this._elementWidth = width;\r\n        this._elementHeight = height;\r\n\r\n        cssWidth = width + 'px';\r\n        cssHeight = height + 'px';\r\n\r\n        this.nodeCss[this.templateControl.niControlId].width = cssWidth;\r\n        this.nodeCss[this.templateControl.niControlId].height = cssHeight;\r\n\r\n        $(this.childElement).jqxArray('resizeElement', width, height);\r\n\r\n        controls = document.querySelectorAll(getCssSelectorForNIVisual(this, false));\r\n        for (i = 0; i < controls.length; i++) {\r\n            niControl = controls[i].firstElementChild;\r\n            niControl.style.width = cssWidth;\r\n            niControl.style.height = cssHeight;\r\n        }\r\n    };\r\n\r\n    proto.setArrayValue = function (val) {\r\n        if (this._settingArrayValue === true) {\r\n            return;\r\n        }\r\n\r\n        this._settingArrayValue = true;\r\n        // When array becomes type=none, code gets triggered to set the value to null. But ni-array-viewer defaults to [] instead,\r\n        // so we use that. The jqxArray has some issues if it has a type set but a value of null (possible because when we reinitialize\r\n        // it, if arrayValue=null then, we'd change the jqxArray value to null too)\r\n        this.arrayValue = val !== null ? val : [];\r\n\r\n        if (this._userUpdate) {\r\n            this.dispatchEvent(new CustomEvent('value-changed', {\r\n                bubbles: true,\r\n                cancelable: false,\r\n                detail: { value: val }\r\n            }));\r\n        } else if (this.childElement !== null) {\r\n            $(this.childElement).jqxArray({ value: this.arrayValue });\r\n        }\r\n\r\n        this._settingArrayValue = false;\r\n    };\r\n\r\n    proto.getArrayValue = function () {\r\n        return this.arrayValue;\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        var that = this;\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.childElement = null;\r\n        this.arrayValue = JSON.parse(this.value);\r\n        this.nodeCss = {};\r\n        this.templateControl = null;\r\n        this.mutationObserver = null;\r\n        this.attributeMutationObserver = null;\r\n        Object.defineProperty(this, 'elementSize', {\r\n            configurable: false,\r\n            enumerable: true,\r\n            get: function () {\r\n                return { width: this._elementWidth, height: this._elementHeight };\r\n            },\r\n            set: function (value) {\r\n                that.arrayElementSizeChanged(value);\r\n            }\r\n        });\r\n        this.rows = 1;\r\n        this.columns = 1;\r\n        // Private Instance Properties\r\n        this._userUpdate = false;\r\n        this._settingArrayValue = false;\r\n        this._useAttributeMutationObserver = true;\r\n        this._elementWidth = 0;\r\n        this._elementHeight = 0;\r\n        this._nodeLabelMap = [];\r\n    };\r\n\r\n    proto.clearArrayType = function (wasInitialized) {\r\n        if (wasInitialized) {\r\n            // We'll set size separately (the editor computes it, and it'll come here via forceResize)\r\n            $(this.childElement).jqxArray({\r\n                type: 'none',\r\n                dimensions: this.dimensions,\r\n                indexerWidth: this.indexEditorWidth,\r\n                showIndexDisplay: this.indexVisibility\r\n            });\r\n        } else {\r\n            $(this.childElement).jqxArray({\r\n                width : this.style.width,\r\n                height : this.style.height,\r\n                type: 'none',\r\n                dimensions: this.dimensions,\r\n                indexerWidth: this.indexEditorWidth,\r\n                showIndexDisplay: this.indexVisibility\r\n            });\r\n        }\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        if (this.templateControl === null) {\r\n            $(this.childElement).jqxArray({\r\n                width: size.width + 'px',\r\n                height: size.height + 'px'\r\n            });\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (firstCall) {\r\n            var node = null, i;\r\n            var that = this;\r\n\r\n            this.parseRowsAndColumns();\r\n\r\n            for (i = 0; i < this.childNodes.length; i++) {\r\n                if (this.childNodes[i].tagName !== 'NI-LABEL') {\r\n                    node = this.childNodes[i];\r\n                    break;\r\n                }\r\n            }\r\n\r\n            this.childElement = document.createElement('div');\r\n            this.appendChild(this.childElement);\r\n            if (node !== null) {\r\n                if (node instanceof NationalInstruments.HtmlVI.Elements.VisualComponent && $(node).width() > 0 && $(node).height() > 0) {\r\n                    this.createArray(node);\r\n                } else {\r\n                    window.requestAnimationFrame(function () {\r\n                        that.createArray(node);\r\n                    });\r\n                }\r\n            } else {\r\n                this.clearArrayType(false);\r\n            }\r\n\r\n            var mutationObserver = new window.MutationObserver(function (mutations) {\r\n                mutations.forEach(function (m) {\r\n                    if (m.type === 'childList') {\r\n                        if (m.target === that) {\r\n                            mutationObserver.disconnect();\r\n                            if (m.addedNodes.length === 1 && m.addedNodes[0] instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && m.addedNodes[0].tagName !== 'NI-LABEL') { // can only accept one child\r\n                                node = m.addedNodes[0];\r\n                                $(node).addClass('array-template');\r\n                                that.createArray(node);\r\n                            } else if (m.removedNodes.length > 0 && m.removedNodes[0] instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true) {\r\n                                that.templateControl = null;\r\n                                that.clearArrayType(true);\r\n                            }\r\n\r\n                            if (mutationObserver.observe !== undefined) {\r\n                                mutationObserver.observe(that, { childList: true, attributes: false, subtree: false });\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n\r\n            if (mutationObserver.observe !== undefined) {\r\n                mutationObserver.observe(this, { childList: true, attributes: false, subtree: false });\r\n            }\r\n\r\n            this.mutationObserver = mutationObserver;\r\n\r\n            $(this.childElement).on('change', function () {\r\n                that._userUpdate = true;\r\n                that.setArrayValue($(that.childElement).val());\r\n                that._userUpdate = false;\r\n            });\r\n            $(this.childElement).on('scroll', function () {\r\n                var indices = $(that.childElement).jqxArray('getIndexerValue');\r\n                var eventConfig = {\r\n                    bubbles: true,\r\n                    cancelable: true,\r\n                    detail: {\r\n                        indices: indices,\r\n                        originalSource: this.childElement\r\n                    }\r\n                };\r\n                that.dispatchEvent(new CustomEvent('scroll-changed', eventConfig));\r\n            });\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        if (this.mutationObserver !== null) {\r\n            if (typeof this.mutationObserver.disconnect === 'function') {\r\n                this.mutationObserver.disconnect();\r\n            }\r\n\r\n            this.mutationObserver = null;\r\n        }\r\n\r\n        this.templateControl = null;\r\n    };\r\n\r\n    proto.updateFromTemplate = function (control, node, updatePosition) {\r\n        var i, j, nodeCss;\r\n        control.niControlId = NI_SUPPORT.uniqueId();\r\n        control._preventModelCreation = true;\r\n        control.visible = true;\r\n        nodeCss = this.nodeCss[node.niControlId];\r\n        if (nodeCss === undefined) {\r\n            nodeCss = $(node).css(CSS_PROPERTIES);\r\n            this.nodeCss[node.niControlId] = nodeCss;\r\n        }\r\n\r\n        control.style.width = nodeCss.width;\r\n        control.style.height = nodeCss.height;\r\n        control.style.display = 'inline-block';\r\n        if (updatePosition) {\r\n            control.style.left = nodeCss.left;\r\n            control.style.top = nodeCss.top;\r\n        } else {\r\n            control.style.left = '';\r\n            control.style.top = '';\r\n        }\r\n\r\n        control.style.fontSize = nodeCss.fontSize;\r\n        control.style.fontFamily = nodeCss.fontFamily;\r\n        control.style.fontWeight = nodeCss.fontWeight;\r\n        control.style.fontStyle = nodeCss.fontStyle;\r\n        j = 0;\r\n        for (i = 0; i < node.childNodes.length; i++) {\r\n            if (node.childNodes[i] instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === true && control.childNodes[j] !== undefined) {\r\n                this.updateFromTemplate(control.childNodes[j], node.childNodes[i], true);\r\n\r\n                if (node.childNodes[i].tagName === 'NI-LABEL') {\r\n                    this._nodeLabelMap[node.childNodes[i].niControlId] = control.childNodes[j].niControlId;\r\n                }\r\n\r\n                j++;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.updateLabelIds = function (node) {\r\n        var i, label;\r\n        if (node instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === false) {\r\n            return null;\r\n        }\r\n\r\n        for (i = 0; i < node.childNodes.length; i++) {\r\n            if (node.childNodes[i].tagName !== 'NI-LABEL') {\r\n                label = this._nodeLabelMap[node.childNodes[i].labelId];\r\n                if (label === undefined) { // This can be unset when we recurse into an array viewer - its template element doesn't have a label\r\n                    label = '';\r\n                }\r\n\r\n                node.childNodes[i].labelId = label;\r\n                this.updateLabelIds(node.childNodes[i]);\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.copyNIElement = function (node) {\r\n        if (node instanceof NationalInstruments.HtmlVI.Elements.VisualComponent === false) {\r\n            return null;\r\n        }\r\n\r\n        var newNode = node.cloneNode(false);\r\n        // niTemplate should always be a 'real' / original niControlId (a number). This allows us to look up\r\n        // the real / original template control from all of our copies (for array elements and nested arrays).\r\n        newNode._niTemplateId = node._niTemplateId !== undefined ? node._niTemplateId : node.niControlId;\r\n        if (node.childNodes.length > 0) {\r\n            for (var i = 0; i < node.childNodes.length; i++) {\r\n                var childNode = this.copyNIElement(node.childNodes[i]);\r\n                if (childNode !== null) {\r\n                    newNode.appendChild(childNode);\r\n                }\r\n            }\r\n        }\r\n\r\n        return newNode;\r\n    };\r\n\r\n    proto.updateTemplateCss = function (templateDescendant) {\r\n        var curNodeCss = $(templateDescendant).css(CSS_PROPERTIES);\r\n        this.nodeCss[templateDescendant.niControlId] = curNodeCss;\r\n    };\r\n\r\n    proto.recreateCells = function (fullRefresh) {\r\n        var r, c, cell, that = this;\r\n\r\n        var recreateCell = function (r, c) {\r\n            var val, cellSelector;\r\n            cell = $(that.childElement).jqxArray('getElement', r, c);\r\n            if (cell !== null && cell !== undefined) {\r\n                cellSelector = $(cell);\r\n                val = $(that.childElement).jqxArray('getElementValue', cellSelector, { x: c, y: r });\r\n                while (cell.hasChildNodes()) {\r\n                    cell.removeChild(cell.lastChild);\r\n                }\r\n\r\n                $(that.childElement).jqxArray('elementTemplate', cellSelector);\r\n                $(that.childElement).jqxArray('setElementValue', val, cellSelector, { x: c, y: r });\r\n            }\r\n        };\r\n\r\n        if (fullRefresh) {\r\n            for (r = 0; r < this.rows; r++) {\r\n                for (c = 0; c < this.columns; c++) {\r\n                    recreateCell(r, c);\r\n                }\r\n            }\r\n        } else if (this._focusedColumn !== undefined && this._focusedRow !== undefined) {\r\n            recreateCell(this._focusedRow, this._focusedColumn);\r\n        }\r\n\r\n        window.requestAnimationFrame(function () {\r\n            that.updateFocusedCell();\r\n        });\r\n    };\r\n\r\n    proto.createArray = function (node) {\r\n        var that = this;\r\n        var elementInfo = node.elementInfo;\r\n        var propertyName = elementInfo.valuePropertyDescriptor.propertyName;\r\n        var eventName = elementInfo.valuePropertyDescriptor.eventName;\r\n        var nonSignalingPropertyName = elementInfo.valuePropertyDescriptor.propertyNameNonSignaling;\r\n        var defaultValue = node[propertyName];\r\n        var curNodeCss;\r\n        node.style.left = '0px';\r\n        node.style.top = '0px';\r\n        node.style.display = 'none';\r\n\r\n        node.labelId = '';\r\n        this.templateControl = node;\r\n\r\n        if (defaultValue !== undefined) {\r\n            defaultValue = NI_VAL_CONVERTER.ConvertBack(node, defaultValue);\r\n        }\r\n\r\n        this.nodeCss = {};\r\n        curNodeCss = $(node).css(CSS_PROPERTIES);\r\n        this.nodeCss[node.niControlId] = curNodeCss;\r\n\r\n        this._elementWidth = parseInt(curNodeCss.width);\r\n        this._elementHeight = parseInt(curNodeCss.height);\r\n\r\n        $(this.childElement).jqxArray({\r\n            elementWidth: this._elementWidth,\r\n            elementHeight: this._elementHeight,\r\n            elementTemplate: function (div) {\r\n                that._nodeLabelMap = [];\r\n                var control = that.copyNIElement(node);\r\n                var divElement = div[0];\r\n                var curNodeCss = that.nodeCss[node.niControlId];\r\n                that.updateFromTemplate(control, node, false);\r\n                that.updateLabelIds(control);\r\n                divElement.style.width = curNodeCss.width;\r\n                divElement.style.height = curNodeCss.height;\r\n                divElement.appendChild(control);\r\n                $(control).on(eventName, function (event) {\r\n                    if (event.originalEvent.srcElement === control && event.originalEvent.srcElement === event.originalEvent.target) {\r\n                        if (!div.supressChange) {\r\n                            div.trigger('change');\r\n                        }\r\n                    }\r\n                });\r\n            },\r\n            changeProperty: function (property, value, widgets) {\r\n                if (property === 'width') {\r\n                    widgets.css({ width: value });\r\n                } else if (property === 'height') {\r\n                    widgets.css({ height: value });\r\n                } else if (property === 'disabled') {\r\n                    widgets.css({ disabled: value });\r\n                }\r\n            },\r\n            getElementValue: function (div, dimensions) {\r\n                // jshint unused:vars\r\n                var element = div[0].firstElementChild;\r\n                var val = element[propertyName];\r\n                if (val !== undefined) {\r\n                    return NI_VAL_CONVERTER.ConvertBack(element, val);\r\n                }\r\n\r\n                return val;\r\n            },\r\n            setElementValue: function (value, div, dimensions) {\r\n                // jshint unused:vars\r\n                if (value !== undefined) {\r\n                    var element = div[0].firstElementChild;\r\n                    element[nonSignalingPropertyName] = NI_VAL_CONVERTER.Convert(element, value);\r\n                }\r\n            },\r\n            type: 'custom',\r\n            dimensions: this.dimensions,\r\n            indexerWidth: this.indexEditorWidth,\r\n            showIndexDisplay: this.indexVisibility,\r\n            showHorizontalScrollbar: this.horizontalScrollbarVisibility,\r\n            showVerticalScrollbar: this.verticalScrollbarVisibility,\r\n            customWidgetDefaultValue: defaultValue,\r\n            value: that.arrayValue\r\n        });\r\n        // TODO : We'd like to be able to send rows and columns in the same\r\n        // jqxArray statement as above. However, this causes issues when you have\r\n        // an initialized array (with > 1 rows or columns), delete the array element,\r\n        // then undo (there's extra cells rendered that shouldn't be there).\r\n        $(this.childElement).jqxArray({\r\n            rows: this.rows,\r\n            columns: this.columns\r\n        });\r\n\r\n        // Adding CSS class names\r\n        var jqref = $(this.childElement);\r\n        jqref.addClass('ni-array-viewer-box');\r\n        jqref.find(' .jqx-array-indexer').addClass('ni-indexer-box');\r\n        jqref.find(' .jqx-input-content').addClass('ni-text-field');\r\n        jqref.find(' .jqx-input.jqx-rc-r').addClass('ni-spins-box');\r\n        jqref.find(' .jqx-action-button').addClass('ni-spin-button');\r\n        jqref.find(' .jqx-icon-arrow-up').addClass('ni-increment-icon');\r\n        jqref.find(' .jqx-icon-arrow-down').addClass('ni-increment-icon');\r\n\r\n        this.updateFocusedCell();\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'dimensions':\r\n                $(this.childElement).jqxArray({ dimensions: this.dimensions });\r\n                break;\r\n            case 'indexEditorWidth':\r\n                $(this.childElement).jqxArray({ indexerWidth: this.indexEditorWidth });\r\n                break;\r\n            case 'indexVisibility':\r\n                $(this.childElement).jqxArray({ showIndexDisplay: this.indexVisibility });\r\n                break;\r\n            case 'verticalScrollbarVisibility':\r\n                $(this.childElement).jqxArray({ showVerticalScrollbar: this.verticalScrollbarVisibility });\r\n                break;\r\n            case 'horizontalScrollbarVisibility':\r\n                $(this.childElement).jqxArray({ showHorizontalScrollbar: this.horizontalScrollbarVisibility });\r\n                break;\r\n            case 'orientation':\r\n                break;\r\n            case 'focusedCell':\r\n                this.updateFocusedCell();\r\n                break;\r\n            case 'rowsAndColumns':\r\n                this.updateRowsAndColumns();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.updateFocusedCell = function () {\r\n        var indices, i, curCell, matches, templateMatch, r, c;\r\n\r\n        if (this.templateControl === null) {\r\n            return;\r\n        }\r\n\r\n        if (typeof this.focusedCell === 'string' && this.focusedCell.length > 0) {\r\n            indices = this.focusedCell.split(',');\r\n            if (indices.length === 2) {\r\n                r = parseInt(indices[0]);\r\n                c = parseInt(indices[1]);\r\n                this._focusedRow = r;\r\n                this._focusedColumn = c;\r\n\r\n                curCell = $(this.childElement).jqxArray('getElement', r, c);\r\n                if (curCell === undefined || curCell === null) {\r\n                    // We can get a focused cell index from C# that hasn't yet been created. In this case, we'll do the code below later\r\n                    // (updateRowsAndColumns also triggers this)\r\n                    return;\r\n                }\r\n\r\n                matches = curCell.querySelectorAll('[ni-control-id]');\r\n                for (i = 0; i < matches.length; i++) {\r\n                    if (matches[i]._niTemplateId !== undefined) {\r\n                        templateMatch = document.querySelector('[ni-control-id=\\'' + matches[i]._niTemplateId + '\\']');\r\n                        if (templateMatch !== null) {\r\n                            templateMatch._niFocusedCloneId = matches[i].niControlId;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return;\r\n            }\r\n        }\r\n\r\n        this._focusedRow = undefined;\r\n        this._focusedColumn = undefined;\r\n        matches = Array.prototype.slice.call(this.templateControl.querySelectorAll('[ni-control-id]'));\r\n        matches.push(this.templateControl);\r\n        for (i = 0; i < matches.length; i++) {\r\n            matches[i]._niFocusedCloneId = undefined;\r\n        }\r\n    };\r\n\r\n    proto.parseRowsAndColumns = function () {\r\n        var indices;\r\n        if (typeof this.rowsAndColumns === 'string' && this.rowsAndColumns.length > 0) {\r\n            indices = this.rowsAndColumns.split(',');\r\n            if (indices.length === 2) {\r\n                this.rows = parseInt(indices[0]);\r\n                this.columns = parseInt(indices[1]);\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.updateRowsAndColumns = function () {\r\n        var oldRows, oldColumns;\r\n\r\n        this.parseRowsAndColumns();\r\n\r\n        // We can get a rows and columns update when we don't have an array element (if you undo the delete of an array element, there'll be separate\r\n        // messages: first to put back the old rows and columns value, then to put back the array element. So don't update the jqxArray if we don't\r\n        // have an array element (createArray will also set rows and columns).\r\n        if (this.templateControl === null) {\r\n            return;\r\n        }\r\n\r\n        oldRows = $(this.childElement).jqxArray('rows');\r\n        oldColumns = $(this.childElement).jqxArray('columns');\r\n\r\n        if (this.rows !== oldRows || this.columns !== oldColumns) {\r\n            if ($(this.childElement).val() === null) {\r\n                // Nested arrays can end up with a null value, triggering an error in the jqxArray when you resize that nested array.\r\n                // TODO : Track down why this happens\r\n                $(this.childElement).jqxArray({ value: [] });\r\n            }\r\n\r\n            $(this.childElement).jqxArray({ rows: this.rows, columns: this.columns });\r\n        }\r\n\r\n        this.updateFocusedCell();\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-array-viewer', 'HTMLNIArrayViewer');\r\n}(NationalInstruments.HtmlVI.Elements.ArrayViewer, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Data Grid\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.DataGrid = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Properties\r\n    var DEFAULT_ROW_HEIGHT = 22;\r\n    var ID_DATAFIELD = '_id'; // The column datafield name for the 'id' column that shows the row index\r\n    var STRING_TEMPLATE_TYPE = 'NI-STRING-CONTROL';\r\n    var NUMERIC_TEMPLATE_TYPE = 'NI-NUMERIC-TEXT-BOX';\r\n    var CHECKBOX_TEMPLATE_TYPE = 'NI-CHECK-BOX';\r\n    var LED_TEMPLATE_TYPE = 'NI-BOOLEAN-LED';\r\n    var SLIDER_TEMPLATE_TYPE = 'NI-SLIDER';\r\n    var PROGRESSBAR_TEMPLATE_TYPE = 'NI-LINEAR-PROGRESS-BAR';\r\n    var DROPDOWN_TEMPLATE_TYPE = 'NI-DROP-DOWN';\r\n    var JQX_MATH = new $.jqx.math();\r\n\r\n    // Static Private Functions\r\n\r\n    // Utility\r\n    var getFalseValue = function () {\r\n        return false;\r\n    };\r\n\r\n    var getElementHeight = function (elementSelector) {\r\n        if (elementSelector.length > 0) {\r\n            var element = elementSelector[0];\r\n            if (element.style.display !== 'none' && element.style.visibility !== 'hidden') {\r\n                return element.offsetHeight;\r\n            }\r\n        }\r\n\r\n        return 0;\r\n    };\r\n\r\n    var getAltRowSettings = function (start, step) {\r\n        // We want Alt Start Index (the property that this element defines) to mean that the row at that index is the first\r\n        // one in the alt color. The jqxGrid defines it differently (if rowindex > altstart && ((altstart + i) % (1 + altstep) == 0)).\r\n        // We want (i - altstart) % (1 + altstep) == 0.\r\n        // So basically we'd just need to negate startIndex, except that would mean the first colored row starts too early. So we add to that\r\n        // based on multiples of the step size.\r\n        var altstart = -start + Math.floor(2 * start / (step + 1)) * (step + 1);\r\n        return {\r\n            altstep: step,\r\n            altstart: altstart\r\n        };\r\n    };\r\n\r\n    // Column Widgets\r\n    var initJqxColumnWidget = function (dataGrid, row, column, value, cellElement) {\r\n        var rowindex = (typeof row === 'number') ? row : row.visibleindex;\r\n        var datafield = (typeof column === 'string') ? column : column.datafield;\r\n        var niElement = cellElement.firstElementChild;\r\n        niElement._dataGridRow = rowindex;\r\n        niElement._dataGridColumn = datafield;\r\n        columnTypeHelpers[niElement.nodeName].setWidgetValue(niElement, value);\r\n    };\r\n\r\n    var createJqxColumnWidget = function (dataGrid, row, column, value, cellElement) {\r\n        if (!cellElement.firstElementChild) {\r\n            var columnIndex = column.datafield;\r\n            var niColumn = dataGrid.columns[columnIndex];\r\n            var templateControl = niColumn.firstElementChild;\r\n            var templateType = templateControl.nodeName;\r\n            var columnTypeHelper = columnTypeHelpers[templateType];\r\n            var control = templateControl.cloneNode(false);\r\n            // TODO : Right now we need to clear the style, because the template control has a transform set on it that we\r\n            // don't want to clone. Long term, it would be nice not do this, in case the control has other style settings we\r\n            // do want to clone.\r\n            control.setAttribute('style', '');\r\n            var fontStyles;\r\n            control.niControlId = NI_SUPPORT.uniqueId();\r\n            control._dataGridRow = row.visibleindex;\r\n            control._dataGridColumn = column.datafield;\r\n            control._preventModelCreation = true;\r\n            control.visible = true;\r\n            control.style.width = '100%';\r\n            control.style.height = '100%';\r\n            fontStyles = window.getComputedStyle(templateControl);\r\n            control.style.fontSize = fontStyles.fontSize;\r\n            control.style.fontFamily = fontStyles.fontFamily;\r\n            control.style.fontWeight = fontStyles.fontWeight;\r\n            control.style.fontStyle = fontStyles.fontStyle;\r\n            columnTypeHelper.setWidgetValue(control, value);\r\n            cellElement.appendChild(control);\r\n            if (typeof columnTypeHelper.configureWidget === 'function') {\r\n                columnTypeHelper.configureWidget(dataGrid, control, cellElement);\r\n            }\r\n\r\n            if (typeof columnTypeHelper.resize === 'function') {\r\n                control.attachedCallback(); // Force internal DOM to be initialized, since the resize code often assumes its already there\r\n                columnTypeHelper.resize(control, { width: niColumn.width, height: dataGrid.coercedRowHeight });\r\n            }\r\n        }\r\n    };\r\n\r\n    var initCustomColumnType = function (dataGrid, jqxColumn) {\r\n        jqxColumn.columntype = 'custom';\r\n        jqxColumn.createwidget = function (row, column, value, cellElement) {\r\n            createJqxColumnWidget(dataGrid, row, column, value, cellElement);\r\n        };\r\n\r\n        jqxColumn.initwidget = function (row, column, value, cellElement) {\r\n            initJqxColumnWidget(dataGrid, row, column, value, cellElement);\r\n        };\r\n\r\n        jqxColumn.cellbeginedit = getFalseValue;\r\n    };\r\n\r\n    var getAggregateStringValue = function (aggregate, val) {\r\n        var significantDigits = aggregate.significantDigits;\r\n        var precisionDigits = aggregate.precisionDigits;\r\n\r\n        if (aggregate.format === 'exponential') {\r\n            if (precisionDigits < 0) {\r\n                precisionDigits = undefined;\r\n            }\r\n\r\n            return JQX_MATH.getDecimalNotation(val, aggregate.format, precisionDigits, significantDigits);\r\n        }\r\n\r\n        if (significantDigits >= 0) {\r\n            return Number(val.toPrecision(significantDigits)).toString();\r\n        } else if (precisionDigits >= 0) {\r\n            return val.toFixed(precisionDigits);\r\n        } else {\r\n            throw new Error('Unexpected significantDigits / precisionDigits for column aggregate');\r\n        }\r\n    };\r\n\r\n    var aggregatesRenderer = function (aggregates, jqxAggregates) {\r\n        var first = true;\r\n        var alignment = '';\r\n        if (aggregates.horizontalAlignment !== undefined) {\r\n            alignment = ' style=\\'text-align:' + aggregates.horizontalAlignment + '\\'';\r\n        }\r\n\r\n        var renderstring = '<div class=\\'ni-aggregate-box\\'' + alignment + '>';\r\n        $.each(jqxAggregates, function (key, value) {\r\n            var aggregate = aggregates.items[key];\r\n            var label = aggregate.label;\r\n            if (label === undefined) {\r\n                label = '';\r\n            }\r\n\r\n            if (first) {\r\n                first = false;\r\n            } else {\r\n                renderstring += '<br />';\r\n            }\r\n\r\n            renderstring += '<strong>' + label + ':</strong> ' + getAggregateStringValue(aggregate, value);\r\n        });\r\n        renderstring += '</div>';\r\n        return renderstring;\r\n    };\r\n\r\n    // Support (column initialization, default values, value updating) for all supported column types\r\n\r\n    var addTemplateControlMutationObserver = function (dataGrid, column) {\r\n        var observer, observerConfig, columnTypeHelper, columnDataField;\r\n        var templateControl = column.firstElementChild;\r\n\r\n        if (templateControl === null) {\r\n            return;\r\n        }\r\n\r\n        columnDataField = column.index.toString();\r\n        columnTypeHelper = columnTypeHelpers[templateControl.nodeName];\r\n        observer = new window.MutationObserver(function (mutations) {\r\n            var changedAttributes;\r\n            if (columnTypeHelper.templateControlAttributeChanged !== undefined) {\r\n                changedAttributes = {};\r\n                mutations.forEach(function (mutation) {\r\n                    var attrName = mutation.attributeName;\r\n                    if (attrName !== null) {\r\n                        changedAttributes[attrName] = true;\r\n                    }\r\n                });\r\n                columnTypeHelper.templateControlAttributeChanged(dataGrid, column, changedAttributes);\r\n            }\r\n        });\r\n\r\n        observerConfig = { attributes: true };\r\n        column._niColumnTemplateControlObserver = observer;\r\n        if (typeof observer.observe === 'function') {\r\n            observer.observe(templateControl, observerConfig);\r\n        }\r\n    };\r\n\r\n    var removeTemplateControlMutationObserver = function (column) {\r\n        var columnObserver = column._niColumnTemplateControlObserver;\r\n        if (columnObserver !== undefined && (typeof columnObserver.disconnect === 'function')) {\r\n            columnObserver.disconnect();\r\n            column._niColumnTemplateControlObserver = undefined;\r\n        }\r\n    };\r\n\r\n    var templateControlAttributeChangedNIElement = function (dataGrid, column, attributes) {\r\n        var columnDataField = column.index.toString();\r\n        var templateControl = column.firstElementChild;\r\n        var fontStyles, attrName, templateAttributeValues = {}, matchedControls, control, i;\r\n        for (attrName in attributes) {\r\n            if (attributes.hasOwnProperty(attrName)) {\r\n                if (attrName === 'style') {\r\n                    fontStyles = $(templateControl).css(['fontSize', 'fontFamily', 'fontWeight', 'fontStyle']);\r\n                } else if (templateControl.hasAttribute(attrName)) {\r\n                    templateAttributeValues[attrName] = templateControl.getAttribute(attrName);\r\n                }\r\n            }\r\n        }\r\n\r\n        matchedControls = dataGrid.jqref[0].querySelectorAll(templateControl.tagName);\r\n\r\n        for (i = 0; i < matchedControls.length; i++) {\r\n            control = matchedControls[i];\r\n            if (control._dataGridColumn === columnDataField) {\r\n                for (attrName in attributes) {\r\n                    if (attributes.hasOwnProperty(attrName)) {\r\n                        if (attrName === 'style') {\r\n                            control.setFont(fontStyles.fontSize, fontStyles.fontFamily, fontStyles.fontWeight, fontStyles.fontStyle);\r\n                        } else if (templateAttributeValues[attrName] !== undefined) {\r\n                            control.setAttribute(attrName, templateAttributeValues[attrName]);\r\n                        } else {\r\n                            control.removeAttribute(attrName);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    var addNumericValueChangedListener = function (dataGrid, widgetElement) {\r\n        widgetElement.addEventListener('value-changed', function (event) {\r\n            var modelValue = NUM_VAL_CONVERTER.convertBack(event.detail.value, widgetElement.valueType);\r\n            dataGrid.templateControlValueChanged(widgetElement, modelValue);\r\n        });\r\n    };\r\n\r\n    var keyDownStopPropagation = function (e) {\r\n        // This keydown handler is meant to be hooked up to template control\r\n        // types that use keyboard input (e.g. numeric text box and string).\r\n        // It prevents keydown events from bubbling up to the data grid.\r\n        // (The data grid has its own key listeners which interfere with\r\n        // the control's, otherwise.)\r\n        if (e.stopPropagation !== undefined) {\r\n            e.stopPropagation();\r\n        }\r\n    };\r\n\r\n    var triggerResizeForWidget = function (element, size) {\r\n        element.dispatchEvent(new CustomEvent('resizeEventHack', { detail: size, bubbles: false }));\r\n    };\r\n\r\n    var columnTypeHelpers = {};\r\n\r\n    columnTypeHelpers[STRING_TEMPLATE_TYPE] = {\r\n        initializeColumn: initCustomColumnType,\r\n        setWidgetValue: function (niElement, value) {\r\n            var type = typeof value;\r\n            if (type === 'string') {\r\n                niElement.textNonSignaling = value;\r\n            }\r\n        },\r\n        getDefaultValue: function () {\r\n            return '';\r\n        },\r\n        templateControlAttributeChanged: templateControlAttributeChangedNIElement,\r\n        configureWidget: function (dataGrid, widgetElement) {\r\n            widgetElement.addEventListener('text-changed', function (evt) {\r\n                dataGrid.templateControlValueChanged(widgetElement, evt.detail.text);\r\n            });\r\n            widgetElement.addEventListener('keydown', keyDownStopPropagation, false);\r\n        }\r\n    };\r\n\r\n    columnTypeHelpers[NUMERIC_TEMPLATE_TYPE] = {\r\n        initializeColumn: initCustomColumnType,\r\n        setWidgetValue: function (niElement, value) {\r\n            niElement.valueNonSignaling = NUM_VAL_CONVERTER.convert(value);\r\n        },\r\n        resize: triggerResizeForWidget,\r\n        getDefaultValue: function (templateElement) {\r\n            var valueTypeAttr = templateElement.attributes['value-type'], valueType,\r\n                defaultValue = {stringValue: '0', numberValue: 0};\r\n            if (valueTypeAttr !== undefined) {\r\n                valueType = valueTypeAttr.value;\r\n            }\r\n\r\n            return NUM_VAL_CONVERTER.convertBack(defaultValue, valueType);\r\n        },\r\n        templateControlAttributeChanged: templateControlAttributeChangedNIElement,\r\n        configureWidget: function (dataGrid, widgetElement) {\r\n            addNumericValueChangedListener(dataGrid, widgetElement);\r\n            widgetElement.addEventListener('keydown', keyDownStopPropagation, false);\r\n        }\r\n    };\r\n\r\n    columnTypeHelpers[CHECKBOX_TEMPLATE_TYPE] = {\r\n        initializeColumn: function (dataGrid, jqxColumn) {\r\n            jqxColumn.columntype = 'checkbox';\r\n        },\r\n        getDefaultValue: getFalseValue\r\n    };\r\n\r\n    columnTypeHelpers[LED_TEMPLATE_TYPE] = {\r\n        initializeColumn: initCustomColumnType,\r\n        setWidgetValue: function (niElement, value) {\r\n            if (typeof value === 'boolean') {\r\n                niElement.valueNonSignaling = value;\r\n            }\r\n        },\r\n        templateControlAttributeChanged: templateControlAttributeChangedNIElement,\r\n        configureWidget: function (dataGrid, widgetElement) {\r\n            widgetElement.attachedCallback(); // Without attaching early here, detached can be called before attached and we hit errors in niUIActivityService.\r\n            widgetElement.addEventListener('value-changed', function (event) {\r\n                dataGrid.templateControlValueChanged(widgetElement, event.detail.value);\r\n            });\r\n        },\r\n        getDefaultValue: getFalseValue,\r\n        resize: function (element, size) {\r\n            var minDimension = Math.min(size.width, size.height) - 4; // -4 for 2*padding for LEDs in a data grid in our CSS\r\n            element.style.left = ((size.width - minDimension - 4) / 2) + 'px';\r\n            element.style.top = ((size.height - minDimension - 4) / 2) + 'px';\r\n            element.style.width = minDimension + 'px';\r\n            element.style.height = minDimension + 'px';\r\n        }\r\n    };\r\n\r\n    columnTypeHelpers[SLIDER_TEMPLATE_TYPE] = {\r\n        initializeColumn: initCustomColumnType,\r\n        setWidgetValue: columnTypeHelpers[NUMERIC_TEMPLATE_TYPE].setWidgetValue,\r\n        getDefaultValue: columnTypeHelpers[NUMERIC_TEMPLATE_TYPE].getDefaultValue,\r\n        resize: function (element, size) {\r\n            var newSize = { width: size.width - 6, height: size.height }; // 6px is the same as margin-left for the ni-slider in a data grid in our CSS\r\n            triggerResizeForWidget(element, newSize);\r\n        },\r\n        templateControlAttributeChanged: templateControlAttributeChangedNIElement,\r\n        configureWidget: function (dataGrid, widgetElement) {\r\n            addNumericValueChangedListener(dataGrid, widgetElement);\r\n        }\r\n    };\r\n\r\n    columnTypeHelpers[PROGRESSBAR_TEMPLATE_TYPE] = {\r\n        initializeColumn: initCustomColumnType,\r\n        setWidgetValue: function (niElement, value) {\r\n            var type = typeof value;\r\n            if (type === 'number') {\r\n                niElement.valueNonSignaling = value;\r\n            }\r\n        },\r\n        getDefaultValue: function () {\r\n            return 0;\r\n        },\r\n        templateControlAttributeChanged: templateControlAttributeChangedNIElement\r\n    };\r\n\r\n    columnTypeHelpers[DROPDOWN_TEMPLATE_TYPE] = {\r\n        initializeColumn: initCustomColumnType,\r\n        setWidgetValue: function (niElement, value) {\r\n            var type = typeof value;\r\n            if (type === 'number') {\r\n                niElement.selectedIndexNonSignaling = value;\r\n            }\r\n        },\r\n        getDefaultValue: function () {\r\n            return -1;\r\n        },\r\n        resize: triggerResizeForWidget,\r\n        templateControlAttributeChanged: templateControlAttributeChangedNIElement,\r\n        configureWidget: function (dataGrid, widgetElement) {\r\n            widgetElement.addEventListener('selected-index-changed', function (evt) {\r\n                dataGrid.templateControlValueChanged(widgetElement, evt.detail.selectedIndex);\r\n            });\r\n        }\r\n    };\r\n\r\n    // Add Rows Tool Bar\r\n    var appendAddRowsToolbar = function (dataGrid) {\r\n        var innerDiv = $('<div style=\\'margin:5px;\\'></div>');\r\n        var rowCountInput = $('<div style=\\'display: inline-table; margin-right: 5px;\\' />');\r\n        innerDiv.append(rowCountInput);\r\n        innerDiv.append(dataGrid.addRowsLabel + ': ');\r\n        var addButton = $('<input type=\\'button\\' style=\\'margin-left: 2px;\\' />');\r\n        innerDiv.append(addButton);\r\n        var outerDiv = $('<div class=\\'ni-add-rows-toolbar\\'></div>');\r\n        outerDiv.append(innerDiv);\r\n        if (dataGrid.readOnly || !dataGrid.showAddRowsToolBar) {\r\n            outerDiv[0].style.display = 'none';\r\n        }\r\n\r\n        dataGrid.jqref.append(outerDiv);\r\n        dataGrid.addRowsToolbarRef = outerDiv;\r\n        rowCountInput.jqxNumberInput({ inputMode: 'simple', decimalDigits: 0, min: 1, value: 1 });\r\n        rowCountInput[0].style.width = '55px';\r\n        rowCountInput[0].firstElementChild.style.width = '50px';\r\n        rowCountInput.addClass('ni-row-count-text-field-box');\r\n        rowCountInput.find(' input').addClass('ni-row-count-text-field');\r\n        addButton[0].value = dataGrid.addRowsButtonLabel;\r\n        addButton.jqxButton({ width: '50' });\r\n        addButton.addClass('ni-add-rows-button');\r\n        addButton.on('click', function () {\r\n            if (dataGrid.jqref === undefined) {\r\n                return;\r\n            }\r\n\r\n            dataGrid.addEmptyRows(rowCountInput.jqxNumberInput('val'));\r\n\r\n            addButton.blur();\r\n        });\r\n    };\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: '[]',\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'rowHeaderVisible',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'columnHeaderVisible',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'showAddRowsToolBar',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'allowSorting',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'allowPaging',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'allowFiltering',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'allowGrouping',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'rowHeight',\r\n            defaultValue: DEFAULT_ROW_HEIGHT\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'altRowColors',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'altRowStart',\r\n            defaultValue: 1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'altRowStep',\r\n            defaultValue: 1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'isInEditMode',\r\n            defaultValue: false,\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'selectedColumn',\r\n            defaultValue: -1\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.columns = [];\r\n        this.selectedColumnDataField = undefined;\r\n        this.sortedColumnIndices = [];\r\n        this.parsedValue = [];\r\n        this.jqxValue = [];\r\n        this.columnObservers = [];\r\n        this.pageSize = 0;\r\n        this.addRowsButtonLabel = NI_SUPPORT.i18n('msg_datagrid_addrowsbuttonlabel');\r\n        this.addRowsLabel = NI_SUPPORT.i18n('msg_datagrid_addrowslabel');\r\n        this.coercedRowHeight = DEFAULT_ROW_HEIGHT;\r\n        this.showAggregates = false;\r\n        this.maxAggregateCountPerColumn = 0;\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    proto.getDefaultColumns = function () {\r\n        // This adds the leftmost 'row index' column, which will be hidden if the 'row header visible' property is false.\r\n        return [{\r\n            text: '',\r\n            datafield: ID_DATAFIELD,\r\n            width: 50,\r\n            cellsalign: 'center',\r\n            columntype: 'custom',\r\n            createwidget: function (row, column, value, cellElement) {\r\n                if (!cellElement.firstElementChild) {\r\n                    $(cellElement).append('<div style=\\'width: 100%; height: 100%; display: table; text-align: center;\\'>' +\r\n                       '<span style=\\'display: table-cell; vertical-align: middle;\\'>' + value.toString() + '</span></div>');\r\n                }\r\n            },\r\n            initwidget: function (row, column, value, cellElement) {\r\n                var outerDiv = cellElement.firstElementChild;\r\n                if (outerDiv !== null) {\r\n                    outerDiv.firstElementChild.textContent = value.toString();\r\n                }\r\n            },\r\n            cellbeginedit: getFalseValue,\r\n            hidden: !this.rowHeaderVisible,\r\n            pinned: this.columns.some(function (col) {\r\n                return col.pinned;\r\n            })\r\n        }];\r\n    };\r\n\r\n    proto.setFont = function () {\r\n        // Don't call the parent / base method, which changes the font properties on our CSS style. Changing fonts on the data grid shouldn't\r\n        // affect the headers / toolbar / etc. Each column can have its font settings changed individually via styling the template control\r\n        // for that column.\r\n        // parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n    };\r\n\r\n    proto.templateControlValueChanged = function (element, modelValue) {\r\n        var row = element._dataGridRow, column = element._dataGridColumn;\r\n        var curValue = this.jqxValue[row][column];\r\n        if (curValue !== modelValue) {\r\n            this.jqxValue[row][column] = modelValue;\r\n            this.parsedValue[row][this.columns[column].fieldName] = modelValue;\r\n            this.value = JSON.stringify(this.parsedValue);\r\n        }\r\n    };\r\n\r\n    proto.updateJqxColumnConfig = function () {\r\n        var that = this;\r\n        var i;\r\n        var columns = this.getDefaultColumns();\r\n        var newColumn, templateType, templateElement, columnTypeHelper;\r\n        var aggregates, showAggregates = false, aggregateCount = 0;\r\n        var maxAggregateCountPerColumn = 0;\r\n        var sortedIndices = [0];\r\n        var columnsValid = true;\r\n\r\n        // Sanity check column ordering. If we're in an inconsistent state (missing column, 2 columns with the same index,\r\n        // etc), then tell the jqxGrid that it has no user columns (just the row ID one).\r\n        for (i = 0; i < this.columns.length; i++) {\r\n            if (i !== this.columns[i].index) {\r\n                columnsValid = false;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (columnsValid) {\r\n            for (i = 0; i < this.columns.length; i++) {\r\n                if (this.columns[i].pinned) {\r\n                    sortedIndices.push(i + 1);\r\n                }\r\n            }\r\n\r\n            // Note: using forEach instead of a regular for loop here because otherwise, the value of 'column' in the inner function\r\n            // would be incorrect due to how closures work in loops in JS\r\n            this.columns.forEach(function (column, i) {\r\n                column.parsedAggregates = JSON.parse(column.aggregates);\r\n                aggregates = [];\r\n                aggregateCount = 0;\r\n                for (var aggregate in column.parsedAggregates.items) {\r\n                    if (column.parsedAggregates.items.hasOwnProperty(aggregate)) {\r\n                        aggregates.push(aggregate);\r\n                        aggregateCount++;\r\n                        showAggregates = true;\r\n                    }\r\n                }\r\n\r\n                maxAggregateCountPerColumn = Math.max(maxAggregateCountPerColumn, aggregateCount);\r\n                newColumn = {\r\n                    align: 'center',\r\n                    text: column.header,\r\n                    datafield: i.toString(),\r\n                    width: column.width,\r\n                    pinned: column.pinned,\r\n                    aggregates: aggregates\r\n                };\r\n                if (aggregates.length > 0) {\r\n                    newColumn.aggregatesrenderer = function (aggregates) {\r\n                        return aggregatesRenderer(column.parsedAggregates, aggregates);\r\n                    };\r\n                }\r\n\r\n                if (!column.pinned) {\r\n                    sortedIndices.push(i + 1);\r\n                }\r\n\r\n                templateElement = column.firstElementChild;\r\n                if (templateElement !== null) {\r\n                    templateType = templateElement.nodeName;\r\n                    if (!columnTypeHelpers.hasOwnProperty(templateType)) {\r\n                        throw new Error('Unsupported template element type for column ' + i + ': ' + templateType);\r\n                    }\r\n\r\n                    columnTypeHelper = columnTypeHelpers[templateType];\r\n                    column._niColumnDefaultValue = columnTypeHelper.getDefaultValue(templateElement);\r\n                    columnTypeHelper.initializeColumn(that, newColumn);\r\n\r\n                    columns.push(newColumn);\r\n                }\r\n            });\r\n        }\r\n\r\n        this.showAggregates = showAggregates;\r\n        this.maxAggregateCountPerColumn = maxAggregateCountPerColumn;\r\n        this.sortedColumnIndices = sortedIndices;\r\n        this.jqxColumnConfig = columns;\r\n    };\r\n\r\n    proto.addEmptyRows = function (count) {\r\n        var row, jqxRow, rows, i, j, n, column, oldLength;\r\n        if (count > 0) {\r\n            rows = [];\r\n            oldLength = this.parsedValue.length;\r\n            n = oldLength;\r\n            for (i = 0; i < count; i++) {\r\n                row = {};\r\n                jqxRow = {};\r\n                jqxRow[ID_DATAFIELD] = n++;\r\n                for (j = 0; j < this.columns.length; j++) {\r\n                    column = this.columns[j];\r\n                    jqxRow[j] = column._niColumnDefaultValue;\r\n                    row[column.fieldName] = column._niColumnDefaultValue;\r\n                }\r\n\r\n                rows.push(jqxRow);\r\n                this.jqxValue.push(jqxRow);\r\n                this.parsedValue.push(row);\r\n            }\r\n\r\n            if (this.showAggregates && oldLength === 0) {\r\n                // If we have data and we didn't before, show the aggregates bar as needed.\r\n                this.updateStatusBar();\r\n                this.updatePageSize();\r\n            }\r\n\r\n            this.jqref.jqxGrid('addrow', null, rows);\r\n            this.value = JSON.stringify(this.parsedValue);\r\n        }\r\n    };\r\n\r\n    proto.updateJqxValueFromParsedValue = function () {\r\n        // jqxValue and parsedValue both represent the full data set, but with different field names.\r\n        // Example: If you have 'Column A' and 'Column B' in the editor and 1 row of data, you would have\r\n        // parsedValue[0]['Column A'] and parsedValue[0]['Column B'], versus\r\n        // jqxValue[0]['0'] and jqxValue[0]['1'] for the cell values.\r\n        // There's 2 main reasons why jqxValue and parsedValue can't be the same array instance (and why the\r\n        // field names are different):\r\n        // 1. Each column in the jqxGrid has a datafield (string property) that's the field name in the row objects,\r\n        //    where the data should come from for that column. The ID / row index column also must have a datafield.\r\n        //    If we directly map the diagram cluster field names as the datafield, a user-specified name could conflict\r\n        //    with the name we pick for the ID column's datafield. So, we have a copy with different field names that\r\n        //    we know won't conflict.\r\n        // 2. When you give the jqxGrid an array data source, it sets additional fields in the row objects inside the\r\n        //    array you give it. We don't want those additional (internal) fields to still be in the array of objects that\r\n        //    we hand back to the model when the user changes data. So, we'd need a copy anyway.\r\n        var i, j, curRow, result;\r\n        result = [];\r\n        for (i = 0; i < this.parsedValue.length; i++) {\r\n            curRow = {};\r\n            curRow[ID_DATAFIELD] = i;\r\n            for (j = 0; j < this.columns.length; j++) {\r\n                curRow[j] = this.parsedValue[i][this.columns[j].fieldName];\r\n            }\r\n\r\n            result.push(curRow);\r\n        }\r\n\r\n        this.jqxValue = result;\r\n    };\r\n\r\n    proto.initializeColumnsAndData = function () {\r\n        this.updateJqxColumnConfig();\r\n        this.parsedValue = JSON.parse(this.value);\r\n        this.updateJqxValueFromParsedValue();\r\n        this.dataSource = {\r\n            datatype: 'array',\r\n            localdata: this.jqxValue\r\n        };\r\n        this.dataAdapter = new $.jqx.dataAdapter(this.dataSource);\r\n        this.updateStatusBar(); // Make sure aggregates will show, if enabled\r\n        this.jqref.jqxGrid({ columns: this.jqxColumnConfig, source: this.dataAdapter });\r\n    };\r\n\r\n    proto.getSettings = function () {\r\n        var altRowSettings = getAltRowSettings(this.altRowStart, this.altRowStep);\r\n        return {\r\n            editable: !this.readOnly,\r\n            showemptyrow: false, // Don't show 'No Data to Display' when empty,\r\n            selectionmode: 'none',\r\n            showheader: this.columnHeaderVisible,\r\n            columnsresize: true,\r\n            enablehover: false,\r\n            sortable: this.allowSorting,\r\n            filterable: this.allowFiltering,\r\n            showfilterrow: this.allowFiltering,\r\n            pageable: this.allowPaging,\r\n            groupable: this.allowGrouping,\r\n            altrows: this.altRowColors,\r\n            altstart: altRowSettings.altstart,\r\n            altstep: altRowSettings.altstep,\r\n            width: this.offsetWidth,\r\n            height: this.offsetHeight,\r\n            columnsheight: DEFAULT_ROW_HEIGHT,\r\n            rowsheight: this.coercedRowHeight\r\n        };\r\n    };\r\n\r\n    proto.setSelectedColumn = function (column) {\r\n        var newSelectedDataField, columnToSelect;\r\n\r\n        if (!this.jqref) {\r\n            return;\r\n        }\r\n\r\n        if (!this.isInEditMode) {\r\n            return;\r\n        }\r\n\r\n        if (column >= 0 && column < this.columns.length) {\r\n            columnToSelect = column;\r\n            newSelectedDataField = column.toString();\r\n        } else {\r\n            columnToSelect = -1;\r\n        }\r\n\r\n        if (columnToSelect !== this.selectedColumn) {\r\n            this.selectedColumn = columnToSelect;\r\n        }\r\n\r\n        if (this.selectedColumnDataField !== newSelectedDataField) {\r\n            if (this.selectedColumnDataField !== undefined) {\r\n                $(this.jqref.jqxGrid('getcolumn', this.selectedColumnDataField).element).removeClass('ni-selected-header');\r\n            }\r\n\r\n            this.selectedColumnDataField = newSelectedDataField;\r\n            this.refreshSelectedColumn();\r\n\r\n            this.dispatchEvent(new CustomEvent('selected-column-changed', {\r\n                detail: { selectedColumn: this.selectedColumn }\r\n            }));\r\n        }\r\n    };\r\n\r\n    proto.refreshSelectedColumn = function () {\r\n        var i, jqxColumn, leftIndex;\r\n        if (this.isInEditMode) {\r\n            if (this.selectedColumn === -1) {\r\n                for (i = 0; i < this.jqxColumnConfig.length; i++) {\r\n                    jqxColumn = this.jqref.jqxGrid('getcolumn', this.jqxColumnConfig[i].datafield);\r\n                    if (jqxColumn !== null && jqxColumn !== undefined) {\r\n                        jqxColumn.cellclassname = '';\r\n                    }\r\n                }\r\n            } else {\r\n                leftIndex = this.sortedColumnIndices[this.sortedColumnIndices.indexOf(this.selectedColumn + 1) - 1];\r\n                for (i = 0; i < this.jqxColumnConfig.length; i++) {\r\n                    jqxColumn = this.jqref.jqxGrid('getcolumn', this.jqxColumnConfig[i].datafield);\r\n                    if (jqxColumn !== null && jqxColumn !== undefined) {\r\n                        if (i === leftIndex) {\r\n                            jqxColumn.cellclassname = 'ni-selected-cell';\r\n                        } else if (i === this.selectedColumn + 1) {\r\n                            jqxColumn.cellclassname = 'ni-selected-cell';\r\n                            $(jqxColumn.element).addClass('ni-selected-header');\r\n                        } else {\r\n                            jqxColumn.cellclassname = '';\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // Trigger a 'soft refresh' so the jqxGrid will re-query the cell CSS classes, but not recreate widgets\r\n            $(this.jqref).jqxGrid('clearselection');\r\n        }\r\n    };\r\n\r\n    proto.updateCoercedRowHeight = function () {\r\n        this.coercedRowHeight = this.rowHeight >= 1 ? this.rowHeight : DEFAULT_ROW_HEIGHT;\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            childElement,\r\n            childColumns,\r\n            jqref,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            childColumns = this.findInitialColumns();\r\n            this.addColumnListeners(childColumns);\r\n\r\n            this.updateCoercedRowHeight();\r\n\r\n            widgetSettings = this.getSettings();\r\n\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            // Currently, we don't want changing the data grid headers to affect the row / column header font, or the\r\n            // statusbar / toolbar fonts, so we're setting the font we want explicitly here\r\n            childElement.style.fontSize = '12px';\r\n            childElement.style.fontFamily = 'Segoe UI, sans-serif';\r\n            childElement.style.fontWeight = 'normal';\r\n            childElement.style.fontStyle = 'normal';\r\n            this.appendChild(childElement);\r\n\r\n            jqref = $(childElement);\r\n            jqref.jqxGrid(widgetSettings);\r\n            this.jqref = jqref;\r\n            appendAddRowsToolbar(this);\r\n            this.updateStatusBar();\r\n            this.updatePagingSettings();\r\n\r\n            if (childColumns.length === 0) {\r\n                this.initializeColumnsAndData();\r\n            }\r\n\r\n            // Adding CSS class names\r\n            jqref.find(' .jqx-grid-statusbar').addClass('ni-status-bar');\r\n            jqref.addClass('ni-grid-widget');\r\n            jqref.addClass('ni-grid-widget-content');\r\n            jqref.find(' .jqx-widget').addClass('ni-grid-widget');\r\n            jqref.find(' .jqx-widget-content').addClass('ni-grid-widget-content');\r\n            jqref.find(' .jqx-grid-groups-header').addClass('ni-groups-header');\r\n            jqref.find(' .jqx-grid-pager').addClass('ni-pager-box');\r\n            jqref.find(' .jqx-grid-pager-input').addClass('ni-pager-text-field');\r\n            jqref.find(' .jqx-dropdownlist-state-normal').addClass('ni-selector');\r\n            jqref.find(' .jqx-max-size').addClass('ni-filter-row-box');\r\n            jqref.find(' .jqx-grid-column-header').addClass('ni-column-header');\r\n            jqref.find(' .jqx-grid-content').addClass('ni-grid-content');\r\n            jqref.find(' .jqx-grid-cell-filter-row').addClass('ni-filter-row');\r\n            jqref.find(' .jqx-grid-cell').addClass('ni-cell');\r\n            jqref.find(' .jqx-grid-group-cell').addClass('ni-group-cell');\r\n\r\n            jqref.on('cellendedit', function (event) {\r\n                var rowindex = event.args.rowindex, datafield = event.args.datafield, value = event.args.value;\r\n                that.jqxValue[rowindex][datafield] = value;\r\n                that.parsedValue[rowindex][that.columns[datafield].fieldName] = value;\r\n                that.value = JSON.stringify(that.parsedValue);\r\n            });\r\n\r\n            jqref.on('columnclick', function (event) {\r\n                var origMouseEvent = event.args.originalEvent.originalEvent;\r\n                that.setSelectedColumn(parseInt(event.args.datafield));\r\n\r\n                if (origMouseEvent !== undefined && origMouseEvent.x !== undefined && origMouseEvent.y !== undefined) {\r\n                    that.handledClickEvent = { x: origMouseEvent.x, y: origMouseEvent.y };\r\n                }\r\n            });\r\n\r\n            jqref.on('cellclick', function (event) {\r\n                var origMouseEvent = event.args.originalEvent.originalEvent;\r\n                that.setSelectedColumn(parseInt(event.args.datafield));\r\n\r\n                if (origMouseEvent !== undefined && origMouseEvent.x !== undefined && origMouseEvent.y !== undefined) {\r\n                    that.handledClickEvent = { x: origMouseEvent.x, y: origMouseEvent.y };\r\n                }\r\n            });\r\n\r\n            jqref.on('click', function (event) {\r\n                // If a click is on the data grid but not on its cells or columns (which are handled above), deselect\r\n                // the currently active column\r\n                var origMouseEvent = event.originalEvent;\r\n                if (origMouseEvent !== undefined && that.handledClickEvent !== undefined &&\r\n                    origMouseEvent.x === that.handledClickEvent.x && origMouseEvent.y === that.handledClickEvent.y) {\r\n                    return;\r\n                }\r\n\r\n                that.setSelectedColumn(-1);\r\n                that.handledClickEvent = undefined;\r\n            });\r\n\r\n            jqref.on('columnresized', function (event) {\r\n                var args = event.args;\r\n                var dataField = args.datafield;\r\n                var newWidth = args.newwidth;\r\n                var newHeight = that.coercedRowHeight;\r\n                var column = that.columns[dataField];\r\n                var templateControl = column.firstElementChild;\r\n                var columnHelper = columnTypeHelpers[templateControl.nodeName];\r\n                var matchedControls, i, control;\r\n\r\n                if (typeof columnHelper.resize !== 'function') {\r\n                    return;\r\n                }\r\n\r\n                matchedControls = jqref[0].querySelectorAll(templateControl.tagName);\r\n\r\n                for (i = 0; i < matchedControls.length; i++) {\r\n                    control = matchedControls[i];\r\n                    if (control._dataGridColumn === dataField) {\r\n                        columnHelper.resize(control, { width: newWidth, height: newHeight });\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        var jqref = this.jqref;\r\n\r\n        if (jqref === undefined) {\r\n            jqref = $(this).children('div');\r\n        }\r\n\r\n        jqref.jqxGrid(size);\r\n        this.updatePageSize();\r\n    };\r\n\r\n    proto.updateDataGridConfig = function (refresh) {\r\n        if (this.jqref === undefined || this.parentElement === null) {\r\n            return;\r\n        }\r\n\r\n        this.updateJqxColumnConfig();\r\n\r\n        // Cancel any pending edits before refreshing columns\r\n        this.jqref.jqxGrid('endcelledit');\r\n\r\n        this.jqref.jqxGrid({ columns: this.jqxColumnConfig });\r\n\r\n        if (refresh) {\r\n            this.jqref.jqxGrid('refresh');\r\n        }\r\n\r\n        this.refreshSelectedColumn();\r\n    };\r\n\r\n    proto.refreshDataSource = function () {\r\n        this.dataSource.localdata = this.jqxValue;\r\n        this.jqref.jqxGrid({ source: this.dataAdapter });\r\n    };\r\n\r\n    proto.updateData = function () {\r\n        var oldDataLength;\r\n\r\n        if (this.jqref === undefined) {\r\n            return;\r\n        }\r\n\r\n        oldDataLength = this.parsedValue.length;\r\n        this.parsedValue = JSON.parse(this.value);\r\n        this.updateJqxValueFromParsedValue();\r\n\r\n        if (this.showAggregates && (oldDataLength === 0) !== (this.parsedValue.length === 0)) {\r\n            // If we have any data and didn't before (or the opposite),\r\n            // show or hide the aggregates bar as needed.\r\n            this.updateStatusBar();\r\n        }\r\n\r\n        // The jqxGrid updaterow function is noticeably faster than\r\n        // refreshing the data grid via refreshing the data source, so\r\n        // we do that when we can (when the number of rows is the same).\r\n        if (oldDataLength === this.parsedValue.length) {\r\n            var rows = [];\r\n            var i;\r\n            for (i = 0; i < oldDataLength; i++) {\r\n                rows[i] = i;\r\n            }\r\n\r\n            this.jqref.jqxGrid('updaterow', rows, this.jqxValue);\r\n        } else {\r\n            this.refreshDataSource();\r\n        }\r\n    };\r\n\r\n    proto.findInitialColumns = function () {\r\n        var childColumns = [],\r\n            columnItemName = NationalInstruments.HtmlVI.Elements.DataGridColumn.prototype.elementInfo.tagName.toUpperCase(),\r\n            i;\r\n\r\n        for (i = 0; i < this.children.length; i++) {\r\n            if (this.children[i].tagName === columnItemName) {\r\n                childColumns.push(this.children[i]);\r\n            }\r\n        }\r\n\r\n        return childColumns;\r\n    };\r\n\r\n    proto.sortColumns = function () {\r\n        this.columns.sort(function (a, b) {\r\n            return a.index - b.index;\r\n        });\r\n    };\r\n\r\n    proto.addColumnListeners = function (initialColumns) {\r\n        var that = this;\r\n\r\n        that.addEventListener('ni-data-grid-column-attached', function (evt) {\r\n            var i, column, observer, observerConfig;\r\n\r\n            if (evt.target === that) {\r\n                column = evt.detail.element;\r\n                that.columns.push(column);\r\n                that.sortColumns();\r\n\r\n                observer = new window.MutationObserver(function (mutations) {\r\n                    mutations.forEach(function (mutation) {\r\n                        if (mutation.removedNodes.length > 0) {\r\n                            removeTemplateControlMutationObserver(that, column);\r\n                        }\r\n\r\n                        if (mutation.addedNodes.length > 0) {\r\n                            addTemplateControlMutationObserver(that, column);\r\n                            that.updateDataGridConfig(true);\r\n                        }\r\n                    });\r\n                });\r\n\r\n                observerConfig = { childList: true };\r\n                column._niColumnObserver = observer;\r\n                if (typeof observer.observe === 'function') {\r\n                    observer.observe(column, observerConfig);\r\n                }\r\n\r\n                addTemplateControlMutationObserver(that, column);\r\n\r\n                for (i = 0; i < initialColumns.length; i++) {\r\n                    if (initialColumns[i] === evt.detail.element) {\r\n                        initialColumns.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (initialColumns.length === 0) { // We've either just added the last initial column, or this is attaching a new column after that (at edit-time)\r\n                    if (this.dataSource === undefined) {\r\n                        this.initializeColumnsAndData(); // First time initialization\r\n                    } else {\r\n                        that.updateDataGridConfig(false);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-data-grid-column-detached', function (evt) {\r\n            var i, column;\r\n            if (evt.target === that) {\r\n                column = evt.detail.element;\r\n                for (i = 0; i < that.columns.length; i++) {\r\n                    if (that.columns[i] === column) {\r\n                        that.columns.splice(i, 1);\r\n\r\n                        if (typeof column._niColumnObserver.disconnect === 'function') {\r\n                            column._niColumnObserver.disconnect();\r\n                        }\r\n\r\n                        removeTemplateControlMutationObserver(that, column);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                that.updateDataGridConfig(false);\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-data-grid-column-changed', function (evt) {\r\n            var propName = evt.detail.propertyName;\r\n            if (propName === 'index') {\r\n                that.sortColumns();\r\n            }\r\n\r\n            that.updateDataGridConfig(false);\r\n\r\n            if (propName === 'aggregates') {\r\n                that.updateStatusBar();\r\n                that.updatePageSize();\r\n            } else if (propName === 'index' || propName === 'fieldName') {\r\n                that.updateJqxValueFromParsedValue();\r\n                that.refreshDataSource();\r\n            }\r\n        });\r\n    };\r\n\r\n    proto.updateStatusBar = function () {\r\n        var that = this;\r\n        var showAddRowsToolBar = (!that.readOnly && that.showAddRowsToolBar);\r\n        var statusBarHeight;\r\n        if (that.addRowsToolbarRef !== undefined) {\r\n            that.addRowsToolbarRef.toggle(showAddRowsToolBar);\r\n        }\r\n\r\n        if (that.jqref !== undefined) {\r\n            statusBarHeight = showAddRowsToolBar ? 40 : 0;\r\n            if (this.parsedValue.length > 0 && that.maxAggregateCountPerColumn > 0) {\r\n                statusBarHeight += that.maxAggregateCountPerColumn * DEFAULT_ROW_HEIGHT + 4;\r\n            }\r\n\r\n            // Note: We need to set the statusbarheight before updating the aggregate properties, since\r\n            // it has to already be set before the aggregates render.\r\n            that.jqref.jqxGrid({\r\n                statusbarheight: statusBarHeight\r\n            });\r\n            that.jqref.jqxGrid({\r\n                showstatusbar: showAddRowsToolBar || that.showAggregates,\r\n                showaggregates: that.showAggregates\r\n            });\r\n            if (that.showAggregates) {\r\n                that.jqref.jqxGrid('refreshaggregates');\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.updatePageSize = function () {\r\n        var that = this;\r\n\r\n        if (this.updatePageSizeTimer !== undefined) {\r\n            clearTimeout(this.updatePageSizeTimer);\r\n        }\r\n\r\n        this.updatePageSizeTimer = setTimeout(function () {\r\n            that.updatePageSizeTimer = undefined;\r\n            if (that.allowPaging) {\r\n                var numRows;\r\n                var height = that.jqref.height();\r\n                height -= getElementHeight(that.jqref.find('div.jqx-grid-header'));\r\n                height -= getElementHeight(that.jqref.find('div.jqx-grid-groups-header'));\r\n                height -= getElementHeight(that.jqref.find('div.jqx-grid-pager'));\r\n                height -= getElementHeight(that.jqref.find('div.ni-status-bar'));\r\n                var horizScrollBar = that.jqref.find('div.jqx-scrollbar').sort(function (a, b) {\r\n                    return a.offsetLeft - b.offsetLeft;\r\n                });\r\n\r\n                height -= getElementHeight(horizScrollBar);\r\n                numRows = Math.floor(height / that.coercedRowHeight);\r\n\r\n                // Sanity check the number of rows. If the data grid is very small, we can end up computing a negative size since we\r\n                // subtract the size of toolbars (assuming they're always visible and nonoverlapping).\r\n                if (numRows <= 0) {\r\n                    numRows = 10;\r\n                }\r\n\r\n                if (that.pageSize !== numRows) {\r\n                    that.pageSize = numRows;\r\n                    that.jqref.jqxGrid({ pagesize: numRows, pagesizeoptions: [numRows] });\r\n                }\r\n            }\r\n        }, 10);\r\n    };\r\n\r\n    proto.updatePagingSettings = function () {\r\n        var pagerRef;\r\n\r\n        this.jqref.jqxGrid({ pageable: this.allowPaging });\r\n        pagerRef = this.jqref.find('div.jqx-grid-pager');\r\n\r\n        // Workaround for a jqxGrid issue where the top border of the pager toolbar / a 1px line is still\r\n        // visible when you turn paging on then off\r\n        pagerRef.toggle(this.allowPaging);\r\n\r\n        if (this.allowPaging === true) {\r\n            this.addRowsToolbarRef[0].style.bottom = pagerRef.outerHeight() + 'px';\r\n        } else {\r\n            this.addRowsToolbarRef[0].style.bottom = '0px';\r\n        }\r\n\r\n        this.updatePageSize();\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        if (this.jqref === undefined) {\r\n            return;\r\n        }\r\n\r\n        switch (propertyName) {\r\n            case 'rowHeaderVisible':\r\n                this.jqref.jqxGrid('setcolumnproperty', ID_DATAFIELD, 'hidden', !this.rowHeaderVisible);\r\n                break;\r\n            case 'columnHeaderVisible':\r\n                this.jqref.jqxGrid({ showheader: this.columnHeaderVisible });\r\n                this.updatePageSize();\r\n                break;\r\n            case 'isInEditMode':\r\n                this.jqref.jqxGrid({ columnsresize: !this.isInEditMode });\r\n                this.jqref.jqxGrid('render');\r\n                break;\r\n            case 'value':\r\n                this.updateData();\r\n                break;\r\n            case 'showAddRowsToolBar':\r\n                this.updateStatusBar();\r\n                this.updatePageSize();\r\n                break;\r\n            case 'allowSorting':\r\n                this.jqref.jqxGrid({ sortable: this.allowSorting });\r\n                break;\r\n            case 'allowPaging':\r\n                this.updatePagingSettings();\r\n                break;\r\n            case 'allowFiltering':\r\n                this.jqref.jqxGrid({ filterable: this.allowFiltering, showfilterrow: this.allowFiltering });\r\n                this.updatePageSize();\r\n                break;\r\n            case 'allowGrouping':\r\n                this.jqref.jqxGrid({ groupable: this.allowGrouping });\r\n                this.updatePageSize();\r\n                break;\r\n            case 'rowHeight':\r\n                this.updateCoercedRowHeight();\r\n                this.jqref.jqxGrid({ rowsheight: this.coercedRowHeight });\r\n                this.jqref.jqxGrid('render');\r\n                break;\r\n            case 'altRowColors':\r\n                this.jqref.jqxGrid({ altrows: this.altRowColors });\r\n                break;\r\n            case 'altRowStart':\r\n                this.jqref.jqxGrid(getAltRowSettings(this.altRowStart, this.altRowStep));\r\n                break;\r\n            case 'altRowStep':\r\n                this.jqref.jqxGrid(getAltRowSettings(this.altRowStart, this.altRowStep));\r\n                break;\r\n            case 'readOnly':\r\n                this.jqref.jqxGrid({ editable: !this.readOnly });\r\n                this.updateStatusBar();\r\n                this.updatePageSize();\r\n                break;\r\n            case 'selectedColumn':\r\n                this.setSelectedColumn(this.selectedColumn);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-data-grid', 'HTMLNIDataGrid');\r\n}(NationalInstruments.HtmlVI.Elements.DataGrid, NationalInstruments.HtmlVI.Elements.Visual));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Data Grid Column\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.DataGridColumn = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'index',\r\n            defaultValue: -1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'header',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'fieldName',\r\n            defaultValue: ''\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'width',\r\n            defaultValue: 50\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'pinned',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'aggregates',\r\n            defaultValue: '{}'\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._parentDataGrid = undefined;\r\n    };\r\n\r\n    proto.sendEventToParentDataGrid = function (name, propertyName) {\r\n        var eventConfig;\r\n\r\n        if (this._parentDataGrid !== undefined) {\r\n            eventConfig = {\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this,\r\n                    propertyName: propertyName\r\n                }\r\n            };\r\n\r\n            this._parentDataGrid.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.DataGrid) {\r\n            this._parentDataGrid = this.parentElement;\r\n            this.sendEventToParentDataGrid('ni-data-grid-column-attached');\r\n        } else {\r\n            NI_SUPPORT.error('Data Grid Column with the following id does not have a parent data grid', this.niControlId);\r\n            this._parentDataGrid = undefined;\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        this.sendEventToParentDataGrid('ni-data-grid-column-changed', propertyName);\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        this.sendEventToParentDataGrid('ni-data-grid-column-detached');\r\n        this._parentDataGrid = undefined;\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-data-grid-column', 'HTMLNIDataGridColumn');\r\n}(NationalInstruments.HtmlVI.Elements.DataGridColumn, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//**************************************\r\n//IOName Control Prototype\r\n//DOM Registration: No\r\n//National Instruments Copyright 2014\r\n//**************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.IONameControl = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'source',\r\n            defaultValue: '[]',\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'selectedValue',\r\n            defaultValue: '',\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'allowMultipleSelection',\r\n            defaultValue: false\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'allowUndefinedValues',\r\n            defaultValue: false\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'showUserCreateResource',\r\n            defaultValue: false\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'readOnlyName',\r\n            defaultValue: false\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'caseSensitive',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n        var widgetSettings, jqref, that = this;\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n\r\n            var childElement = document.createElement('div');\r\n            childElement.value = this.value;\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n\r\n            this.appendChild(childElement);\r\n            jqref = $(childElement);\r\n\r\n            widgetSettings.selectedIndex = -1;\r\n            widgetSettings.disabled = false;\r\n            widgetSettings.autoDropDownHeight = true;\r\n            var sourceArray = JSON.parse(this.source);\r\n            widgetSettings.selectedIndex = sourceArray.indexOf(this.selectedValue);\r\n\r\n            jqref.jqxDropDownList({ source: sourceArray });\r\n            jqref.jqxDropDownList(widgetSettings);\r\n\r\n            jqref.on('select', function (event) {\r\n                var args = event.args;\r\n                if (args) {\r\n                    var item = args.item;\r\n                    if (item === null) {\r\n                        that.selectedValue = '';\r\n                    } else {\r\n                        that.selectedValue = item.value;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxDropDownList(size);\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n        var childElement = this.firstElementChild;\r\n        switch (propertyName) {\r\n            case 'selectedValue':\r\n                var source = $(childElement).jqxDropDownList('source');\r\n                var index = source.indexOf(this.selectedValue);\r\n\r\n                $(childElement).jqxDropDownList({ selectedIndex: index });\r\n                break;\r\n            case 'source':\r\n                var newSource = JSON.parse(this.source);\r\n                $(childElement).jqxDropDownList({ source: newSource });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-io-name-control', 'HTMLNIIONameControl');\r\n}(NationalInstruments.HtmlVI.Elements.IONameControl, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Legend Helpers Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.LegendHelpers = function (helpers, legendItemDisplay) {\r\n        this.helpers = helpers;\r\n        this.legendItemDisplay = legendItemDisplay;\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.LegendHelpers;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addButtons = function (menuItem, div, index) {\r\n        var that = this;\r\n        var btn, current;\r\n        menuItem.children.forEach(function (children) {\r\n            btn = document.createElement('button');\r\n            btn.type = 'button';\r\n            btn.className = 'ni-button';\r\n            $(btn).jqxToggleButton({ toggled: false });\r\n            if (children.cssClass !== '') {\r\n                btn.classList.add(children.cssClass);\r\n            }\r\n\r\n            $(btn).on('click', function () {\r\n                if (this !== current) {\r\n                    $(current).jqxToggleButton('toggle');\r\n                    current = this;\r\n                }\r\n\r\n                that.helpers.handleClick(children.name, null, index);\r\n                that.legendItemDisplay.updateShape(index);\r\n            });\r\n            var state = that.helpers.getState(children.name, index);\r\n            if (state !== undefined) {\r\n                $(btn).jqxToggleButton({ 'toggled': state });\r\n                if (state === true) {\r\n                    current = btn;\r\n                }\r\n            }\r\n\r\n            div.appendChild(btn);\r\n        });\r\n    };\r\n\r\n    proto.addComboBox = function (menuItem, div, index, iconWidth) {\r\n        var that = this;\r\n        var i, selectedIndex = 0, init = true;\r\n        $(div).jqxDropDownList(\r\n                {\r\n                    width: 'inherit',\r\n                    dropDownHeight: menuItem.children.length * 26\r\n                }\r\n                );\r\n        for (i = 0; i < menuItem.children.length; i++) {\r\n            var text = NI_SUPPORT.i18n(menuItem.children[i].tag);\r\n            if (text.substring(0, 5) === '[msg_') { // in case server is not running\r\n                text = menuItem.name;\r\n            }\r\n\r\n            $(div).jqxDropDownList('addItem', { id: menuItem.children[i].name, html: '<div style=\"width: 100%\"><span class=\"ni-selector-title\">' + text + '</span><div class=\"ni-selector-icon ' + menuItem.children[i].cssClass + '\"' + ' style=\"background-size: ' + iconWidth + 'px 16px; width: ' + (iconWidth + 4) + 'px; \"></div></div>' });\r\n            var itemState = this.helpers.getState(menuItem.children[i].name, index);\r\n            if (itemState === true) {\r\n                selectedIndex = i;\r\n            }\r\n        }\r\n\r\n        $(div).on('select', function (event) {\r\n            var args = event.args;\r\n            if (init === true) {\r\n                return;\r\n            }\r\n\r\n            that.helpers.handleClick(args.item.label.id, null, index);\r\n            that.legendItemDisplay.updateShape(index);\r\n        });\r\n        $(div).jqxDropDownList({ 'selectedIndex': selectedIndex });\r\n        init = false;\r\n    };\r\n\r\n    proto.getTextElementByColor = function (color) {\r\n        if (color === 'transparent' || color.hex === '') {\r\n            return $('<div class=\"ni-colorbox-content\">transparent</div>');\r\n        }\r\n\r\n        var element = $('<div class=\"ni-colorbox-content\">#' + color.hex + '</div>');\r\n        var nThreshold = 105;\r\n        var bgDelta = (color.r * 0.299) + (color.g * 0.587) + (color.b * 0.114);\r\n        var foreColor = (255 - bgDelta < nThreshold) ? 'Black' : 'White';\r\n        element.css('color', foreColor);\r\n        element.css('background', '#' + color.hex);\r\n        element.addClass('jqx-rc-all');\r\n        return element;\r\n    };\r\n\r\n    proto.addColorBox = function (menuItem, div, index) {\r\n        var that = this;\r\n        var dropList = document.createElement('div');\r\n        $(div).append(dropList);\r\n        var colorbox = document.createElement('div');\r\n        colorbox.className = 'legend-colorbox-colorbox';\r\n        dropList.appendChild(colorbox);\r\n        $(colorbox).jqxColorPicker({\r\n            width: '200px', height: '220px',\r\n            colorMode: 'hue'\r\n        });\r\n        $(colorbox).on('colorchange', function (e) {\r\n            $(div).jqxDropDownButton('setContent', that.getTextElementByColor(e.args.color));\r\n            that.helpers.handleClick(menuItem.name, e.args.color, index);\r\n            that.legendItemDisplay.updateShape(index);\r\n        });\r\n        $(div).jqxDropDownButton(\r\n            { width: 'inherit'}\r\n            );\r\n        var color = this.helpers.getState(menuItem.name, index);\r\n        if (color !== undefined) {\r\n            if (color.charAt(0) === '#') {\r\n                color = color.substring(1);\r\n            }\r\n        } else {\r\n            color = 'ff0000';\r\n        }\r\n\r\n        $(div).jqxDropDownButton('setContent', this.getTextElementByColor(new $.jqx.color({ hex: color })));\r\n    };\r\n\r\n    proto.addCheckBox = function (menuItem, div, index) {\r\n        var that = this;\r\n        var btn = $(div).jqxCheckBox();\r\n        btn.className = 'legend-checkbox';\r\n        $(btn).on('change', function (e) {\r\n            that.helpers.handleClick(menuItem.name, e.args.checked, index);\r\n        });\r\n        var state = that.helpers.getState(menuItem.name, index);\r\n        if (state !== undefined) {\r\n            $(btn).jqxCheckBox({ checked: state });\r\n        }\r\n    };\r\n}());\r\n","//****************************************\r\n// Plot Legend Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.PlotLegend = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    var rowSize = 26;\r\n    var legendBorderHeight = 2;\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'graphName',\r\n            defaultValue: '',\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'isInEditMode',\r\n            defaultValue: false,\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.tbl = undefined;\r\n        this.nPlots = 0;\r\n        this.currentExpander = null;\r\n        this.helpers = new NationalInstruments.HtmlVI.Elements.PlotLegendHelpers();\r\n        this.plotLegendItemDisplay = new NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay(this.helpers);\r\n        this.uihelpers = new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers, this.plotLegendItemDisplay);\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    proto.plotAdded = function () {\r\n        this.createRow(this.tbl, this.nPlots);\r\n        this.helpers.addRenderer(this.nPlots);\r\n        this.nPlots++;\r\n    };\r\n\r\n    proto.plotRemoved = function () {\r\n        this.removeLastRow(this.tbl);\r\n        this.helpers.clearRenderer(this.nPlots);\r\n        this.nPlots--;\r\n    };\r\n\r\n    proto.createRows = function () {\r\n        var i;\r\n        for (i = 0; i < this.nPlots; i++) {\r\n            this.createRow(this.tbl, i);\r\n        }\r\n    };\r\n\r\n    proto.calculateNumPlots = function (newHeight) {\r\n        var currentHeight = parseFloat(this.style.height);\r\n        var snappedHeight = newHeight;\r\n        var numPlotsToAdd = Math.floor(Math.round(newHeight - (this.nPlots * rowSize + legendBorderHeight)) / rowSize);\r\n        if (numPlotsToAdd !== 0) {\r\n            if (snappedHeight <= currentHeight) {\r\n                snappedHeight = Math.max(currentHeight - (Math.ceil((currentHeight - snappedHeight) / rowSize) * rowSize) + rowSize, rowSize);\r\n            } else {\r\n                snappedHeight = currentHeight + (Math.floor((snappedHeight - currentHeight) / rowSize) * rowSize);\r\n            }\r\n\r\n            this.style.height = snappedHeight + 2 * legendBorderHeight + 'px';\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            childElement,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            this.helpers.graphName = this.graphName;\r\n            this.helpers.isInEditMode = this.isInEditMode;\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            childElement.style.overflowX = 'auto';\r\n            childElement.style.overflowY = 'hidden';\r\n            this.appendChild(childElement);\r\n            this.tbl = document.createElement('table');\r\n            this.tbl.style.width = '100%';\r\n            this.tbl.style.height = '100%';\r\n            childElement.appendChild(this.tbl);\r\n            this.createRows();\r\n            this.addEventListener('ni-cartesian-plot-attached', function () {\r\n                that.plotAdded();\r\n            });\r\n            this.addEventListener('ni-cartesian-plot-detached', function () {\r\n                that.plotRemoved();\r\n            });\r\n            this.addEventListener('ni-cartesian-plot-changed', function (evt) {\r\n                var index = that.helpers.rendererToIndex(evt.detail.originalSource);\r\n                that.plotLegendItemDisplay.updateShape(index);\r\n            });\r\n            var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n            if (graph !== null) {\r\n                graph.registerPlotLegend(this);\r\n            }\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.createRow = function (tbl, index) {\r\n        var that = this;\r\n        var tr, exp, header, content, div, plotName, p, span;\r\n\r\n        tr = document.createElement('tr');\r\n        tbl.appendChild(tr);\r\n        exp = document.createElement('div');\r\n        exp.id = 'expander' + index;\r\n        exp.className = 'ni-plot-legend-box';\r\n        tr.appendChild(exp);\r\n        header = document.createElement('div');\r\n        header.id = 'header' + index;\r\n        header.className = 'ni-master-row';\r\n        exp.appendChild(header);\r\n\r\n        div = document.createElement('div');\r\n        div.className = 'ni-plot-display';\r\n        header.appendChild(div);\r\n        this.plotLegendItemDisplay.createHeaderDisplay(div, index);\r\n\r\n        span = document.createElement('span');\r\n        span.className = 'ni-plot-title';\r\n        plotName = ' plot';\r\n        if (index > 0) {\r\n            plotName = plotName + index.toString();\r\n        }\r\n\r\n        p = document.createTextNode(plotName);\r\n        span.appendChild(p);\r\n        header.appendChild(span);\r\n\r\n        content = document.createElement('div');\r\n        content.id = 'content' + index;\r\n        content.className = 'ni-details-box';\r\n        exp.appendChild(content);\r\n        $(exp).jqxExpander({\r\n            expanded: false,\r\n            disabled: this.isInEditMode,\r\n            expandAnimationDuration: 200,\r\n            collapseAnimationDuration: 200,\r\n            initContent: function () {\r\n                that.loadContent(content, index);\r\n            }\r\n        });\r\n        $(exp).on('expanded', function () {\r\n            if (this !== that.currentExpander) {\r\n                var expander = that.currentExpander;\r\n                that.currentExpander = this;\r\n                if (expander !== null) {\r\n                    $(expander).jqxExpander({ expanded: false });\r\n                }\r\n            }\r\n        });\r\n        this.applyFont();\r\n    };\r\n\r\n    proto.loadContent = function (content, index) {\r\n        var tbl, tr, j, span, p, td1, td2, div;\r\n        content.style.height = ((this.helpers.menu.length + 1) * 30) + 10 + 'px';\r\n        tbl = document.createElement('table');\r\n        tbl.className = 'ni-details';\r\n        content.appendChild(tbl);\r\n\r\n        for (j = 0; j < this.helpers.menu.length; j++) {\r\n            var menuItem = this.helpers.menu[j];\r\n            tr = document.createElement('tr');\r\n            tr.className = 'ni-details-row';\r\n            tbl.appendChild(tr);\r\n            td1 = document.createElement('td');\r\n            td1.className = 'ni-detail-row-title-box';\r\n            tr.appendChild(td1);\r\n            span = document.createElement('span');\r\n            span.className = 'ni-detail-row-title';\r\n            td1.appendChild(span);\r\n            var text = NI_SUPPORT.i18n(menuItem.tag);\r\n            if (text.substring(0, 5) === '[msg_') { // in case server is not running\r\n                text = menuItem.name + '!';\r\n            }\r\n\r\n            p = document.createTextNode(text);\r\n            span.appendChild(p);\r\n            td2 = document.createElement('td');\r\n            td2.className = 'ni-details-row-operations-box';\r\n            tr.appendChild(td2);\r\n            switch (menuItem.type) {\r\n                case 'buttons':\r\n                    this.uihelpers.addButtons(menuItem, td2, index);\r\n                    break;\r\n                case 'combobox':\r\n                    div = document.createElement('div');\r\n                    div.className = 'ni-selector';\r\n                    td2.appendChild(div);\r\n                    this.uihelpers.addComboBox(menuItem, div, index, 60);\r\n                    break;\r\n                case 'colorbox':\r\n                    div = document.createElement('div');\r\n                    div.className = 'ni-colorbox-selector ni-selector';\r\n                    td2.appendChild(div);\r\n                    this.uihelpers.addColorBox(menuItem, div, index);\r\n                    break;\r\n                case 'checkbox':\r\n                    div = document.createElement('div');\r\n                    div.className = 'ni-hover-box';\r\n                    td2.appendChild(div);\r\n                    this.uihelpers.addCheckBox(menuItem, div, index);\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.removeLastRow = function (tbl) {\r\n        var row = tbl.lastElementChild;\r\n        if (row !== null) {\r\n            tbl.removeChild(row);\r\n        }\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqrefContent = $(childElement).find(' .jqx-widget-content'),\r\n            jqrefItemTitle = $(childElement).find(' .ni-plot-title'),\r\n            jqrefItemContentTitle = $(childElement).find(' .ni-detail-row-title');\r\n\r\n        jqrefContent.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemTitle.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemContentTitle.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.applyFont = function () {\r\n        var childElement = this.firstElementChild,\r\n            jqrefContent = $(childElement).find(' .jqx-widget-content'),\r\n            jqrefItemTitle = $(childElement).find(' .ni-plot-title'),\r\n            jqrefItemContentTitle = $(childElement).find(' .ni-detail-row-title');\r\n\r\n        var fontSize = $(this).css('font-size');\r\n        var fontFamily = $(this).css('font-family');\r\n        var fontWeight = $(this).css('font-weight');\r\n        var fontStyle = $(this).css('font-style');\r\n        jqrefContent.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemTitle.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemContentTitle.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'graphName':\r\n                // should never change\r\n                this.helpers.graphName = this.graphName;\r\n                break;\r\n            case 'isInEditMode':\r\n                // this changes once after the element is created\r\n                this.helpers.isInEditMode = this.isInEditMode;\r\n                $(this.tbl).find('.ni-plot-legend-box').each(function () {\r\n                    $(this).jqxExpander({ disabled: this.isInEditMode });\r\n                });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-plot-legend', 'HTMLNIPlotLegend');\r\n}(NationalInstruments.HtmlVI.Elements.PlotLegend, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Plot Legend Helpers Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.PlotLegendHelpers = function () {\r\n        this.graphName = '';\r\n        this.isInEditMode = false;\r\n        this.defaultPlotColors = [\r\n           '#7B161A',\r\n           '#008EE4',\r\n           '#E2B683',\r\n           '#B7AC1F',\r\n           '#AEDCEF',\r\n           '#A08BB0',\r\n           '#7F7F7F',\r\n           '#3C0726'\r\n        ];\r\n        this.renderers = [];\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.PlotLegendHelpers;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.menu = [\r\n        {\r\n            name: 'Plot Style', tag: 'msg_plotstyle', type: 'buttons', children: [\r\n                { name: 'Line', tag: 'msg_line', cssClass: 'ni-line-style-button' },\r\n                { name: 'Point', tag: 'msg_point', cssClass: 'ni-point-style-button' },\r\n                { name: 'Line & Point', tag: 'msg_lineandpoint', cssClass: 'ni-line-and-point-style-button' },\r\n                { name: 'Bar', tag: 'msg_bar', cssClass: 'ni-bar-style-button' },\r\n                { name: 'Fill', tag: 'msg_fill', cssClass: 'ni-fill-style-button' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'Point Style', tag: 'msg_pointstyle', type: 'buttons', children: [\r\n                { name: 'Ellipse', tag: 'msg_ellipse', cssClass: 'ni-ellipse-point-style-button' },\r\n                { name: 'Rectangle', tag: 'msg_rectangle', cssClass: 'ni-rect-point-style-button' },\r\n                { name: 'Diamond', tag: 'msg_diamond', cssClass: 'ni-diamond-point-style-button' },\r\n                { name: 'Cross', tag: 'msg_cross', cssClass: 'ni-cross-point-style-button' },\r\n                { name: 'Plus', tag: 'msg_plus', cssClass: 'ni-plus-point-style-button' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'Line Width', tag: 'msg_linewidth', type: 'combobox', children: [\r\n                { name: 'No line', tag: 'msg_noline', cssClass: '' },\r\n                { name: '1-pixel', tag: 'msg_1pixel', cssClass: 'ni-1-pixel-line-width-icon' },\r\n                { name: '2-pixels', tag: 'msg_2pixels', cssClass: 'ni-2-pixels-line-width-icon' },\r\n                { name: '3-pixels', tag: 'msg_3pixels', cssClass: 'ni-3-pixels-line-width-icon' },\r\n                { name: '4-pixels', tag: 'msg_4pixels', cssClass: 'ni-4-pixels-line-width-icon' },\r\n                { name: '5-pixels', tag: 'msg_5pixels', cssClass: 'ni-5-pixels-line-width-icon' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'Line Style', tag: 'msg_linestyle', type: 'combobox', children: [\r\n                { name: 'No style', tag: 'msg_nostyle', cssClass: '' },\r\n                { name: 'Solid', tag: 'msg_solid', cssClass: 'ni-solid-line-style-icon' },\r\n                { name: 'Dot', tag: 'msg_dot', cssClass: 'ni-dot-line-style-icon' },\r\n                { name: 'Dot-dash', tag: 'msg_dashdot', cssClass: 'ni-dot-dash-line-style-icon' },\r\n                { name: 'Medium dash', tag: 'msg_mediumdash', cssClass: 'ni-medium-dash-line-style-icon' },\r\n                { name: 'Large dash', tag: 'msg_largedash', cssClass: 'ni-large-dash-line-style-icon' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'Fill Baseline', tag: 'msg_fillbaseline', type: 'buttons', children: [\r\n                { name: 'No baseline', tag: 'msg_nobaseline', cssClass: 'ni-fill-base-line-none-button' },\r\n                { name: 'Zero', tag: 'msg_zero', cssClass: 'ni-fill-to-zero-style-button' },\r\n                { name: '-Inf', tag: 'msg_neginf', cssClass: 'ni-fill-base-line-negative-infinity-button' },\r\n                { name: 'Inf', tag: 'msg_inf', cssClass: 'ni-fill-base-line-positive-infinity-button' }\r\n            ]\r\n        },\r\n        {\r\n            name: 'Color', tag: 'msg_color', type: 'colorbox', children: [\r\n            ]\r\n        },\r\n        {\r\n            name: 'Hover', tag: 'msg_hover', type: 'checkbox', children: [\r\n\r\n            ]\r\n        }\r\n    ];\r\n\r\n    proto.addRenderer = function () {\r\n    };\r\n\r\n    proto.clearRenderer = function (index) {\r\n        this.renderers[index] = null;\r\n    };\r\n\r\n    proto.getPlot = function (index) {\r\n        var i = 0;\r\n        var plot = null;\r\n        var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n\r\n        if (graph !== null) {\r\n            for (child in graph.childNodes) {\r\n                if (graph.childNodes[child].localName === 'ni-cartesian-plot') {\r\n                    if (i === index) {\r\n                        plot = graph.childNodes[child];\r\n                        break;\r\n                    }\r\n\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n\r\n        return plot;\r\n    };\r\n\r\n    proto.getRenderer = function (index) {\r\n        var plot = null;\r\n        var renderer = null;\r\n        if (this.renderers[index] === null || this.renderers[index] === undefined) {\r\n            plot = this.getPlot(index);\r\n\r\n            if (plot !== null) {\r\n                renderer = plot.lastElementChild;\r\n            }\r\n\r\n            if (renderer === null) {\r\n                return null;\r\n            }\r\n\r\n            this.renderers[index] = renderer;\r\n        }\r\n\r\n        return this.renderers[index];\r\n    };\r\n\r\n    proto.rendererToIndex = function (renderer) {\r\n        var i = 0, index, graph, child, currentRenderer;\r\n        graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n        if (graph !== null) {\r\n            for (child in graph.childNodes) {\r\n                if (graph.childNodes[child].localName === 'ni-cartesian-plot') {\r\n                    currentRenderer = graph.childNodes[child].lastElementChild;\r\n                    if (currentRenderer === renderer) {\r\n                        index = i;\r\n                        break;\r\n                    }\r\n\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n\r\n        return index;\r\n    };\r\n\r\n    proto.handleClick = function (itemName, arg, index) {\r\n        if (this.isInEditMode !== true) {\r\n            var initialColor = '';\r\n            var plot;\r\n            var renderer = this.getRenderer(index);\r\n            if (renderer === null) {\r\n                return;\r\n            }\r\n\r\n            if (renderer.lineStroke !== '') {\r\n                initialColor = renderer.lineStroke;\r\n            }\r\n\r\n            if (renderer.pointColor !== '') {\r\n                initialColor = renderer.pointColor;\r\n            }\r\n\r\n            if (renderer.barFill !== '') {\r\n                initialColor = renderer.barFill;\r\n            }\r\n\r\n            if (renderer.areaFill !== '') {\r\n                initialColor = renderer.areaFill;\r\n            }\r\n\r\n            switch (itemName) {\r\n                case 'No line':\r\n                    renderer.lineWidth = 0;\r\n                    break;\r\n                case '1-pixel':\r\n                    renderer.lineWidth = 1;\r\n                    break;\r\n                case '2-pixels':\r\n                    renderer.lineWidth = 2;\r\n                    break;\r\n                case '3-pixels':\r\n                    renderer.lineWidth = 3;\r\n                    break;\r\n                case '4-pixels':\r\n                    renderer.lineWidth = 4;\r\n                    break;\r\n                case '5-pixels':\r\n                    renderer.lineWidth = 5;\r\n                    break;\r\n                case 'Line':\r\n                    renderer.lineStroke = initialColor;\r\n                    renderer.pointColor = '';\r\n                    renderer.barFill = '';\r\n                    renderer.areaFill = '';\r\n                    break;\r\n                case 'Point':\r\n                    renderer.lineStroke = '';\r\n                    renderer.pointColor = initialColor;\r\n                    renderer.barFill = '';\r\n                    renderer.areaFill = '';\r\n                    break;\r\n                case 'Line & Point':\r\n                    renderer.lineStroke = initialColor;\r\n                    renderer.pointColor = initialColor;\r\n                    renderer.barFill = '';\r\n                    renderer.areaFill = '';\r\n                    break;\r\n                case 'Bar':\r\n                    renderer.lineStroke = '';\r\n                    renderer.pointColor = '';\r\n                    renderer.barFill = initialColor;\r\n                    renderer.areaFill = '';\r\n                    break;\r\n                case 'Fill':\r\n                    renderer.lineStroke = '';\r\n                    renderer.pointColor = '';\r\n                    renderer.barFill = '';\r\n                    renderer.areaFill = initialColor;\r\n                    break;\r\n                case 'Ellipse':\r\n                    renderer.pointShape = 'ellipse';\r\n                    break;\r\n                case 'Rectangle':\r\n                    renderer.pointShape = 'rectangle';\r\n                    break;\r\n                case 'Diamond':\r\n                    renderer.pointShape = 'diamond';\r\n                    break;\r\n                case 'Cross':\r\n                    renderer.pointShape = 'cross';\r\n                    break;\r\n                case 'Plus':\r\n                    renderer.pointShape = 'plus';\r\n                    break;\r\n                case 'No style':\r\n                    renderer.lineStyle = '';\r\n                    break;\r\n                case 'Solid':\r\n                    renderer.lineStyle = 'solid';\r\n                    break;\r\n                case 'Dot':\r\n                    renderer.lineStyle = 'dot';\r\n                    break;\r\n                case 'Dot-dash':\r\n                    renderer.lineStyle = 'dashdot';\r\n                    break;\r\n                case 'Medium dash':\r\n                    renderer.lineStyle = 'mediumdash';\r\n                    break;\r\n                case 'Large dash':\r\n                    renderer.lineStyle = 'largedash';\r\n                    break;\r\n                case 'No baseline':\r\n                    break;\r\n                case 'Zero':\r\n                    break;\r\n                case '-Inf':\r\n                    break;\r\n                case 'Inf':\r\n                    break;\r\n                case 'Color':\r\n                    if (renderer.lineStroke !== '') {\r\n                        renderer.lineStroke = '#' + arg.hex;\r\n                    } else if (renderer.pointColor !== '') {\r\n                        renderer.pointColor = '#' + arg.hex;\r\n                    } else if (renderer.barFill !== '') {\r\n                        renderer.barFill = '#' + arg.hex;\r\n                    } else if (renderer.areaFill !== '') {\r\n                        renderer.areaFill = '#' + arg.hex;\r\n                    }\r\n\r\n                    break;\r\n                case 'Hover':\r\n                    plot = this.getPlot(index);\r\n                    plot.enableHover = arg;\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.getState = function (itemName, index) {\r\n        var plot;\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer === null) {\r\n            return undefined;\r\n        }\r\n\r\n        var state;\r\n        switch (itemName) {\r\n            case 'No line':\r\n                state = renderer.lineWidth === 0;\r\n                break;\r\n            case '1-pixel':\r\n                state = renderer.lineWidth === 1;\r\n                break;\r\n            case '2-pixels':\r\n                state = renderer.lineWidth === 2;\r\n                break;\r\n            case '3-pixels':\r\n                state = renderer.lineWidth === 3;\r\n                break;\r\n            case '4-pixels':\r\n                state = renderer.lineWidth === 4;\r\n                break;\r\n            case '5-pixels':\r\n                state = renderer.lineWidth === 5;\r\n                break;\r\n            case 'Line':\r\n                state = renderer.lineStroke !== '' && renderer.pointColor === '';\r\n                break;\r\n            case 'Point':\r\n                state = renderer.lineStroke === '' && renderer.pointColor !== '';\r\n                break;\r\n            case 'Line & Point':\r\n                state = renderer.lineStroke !== '' && renderer.pointColor !== '';\r\n                break;\r\n            case 'Bar':\r\n                state = renderer.barFill !== '';\r\n                break;\r\n            case 'Fill':\r\n                state = renderer.areaFill !== '';\r\n                break;\r\n            case 'Ellipse':\r\n                state = renderer.pointShape === 'ellipse';\r\n                break;\r\n            case 'Rectangle':\r\n                state = renderer.pointShape === 'rectangle';\r\n                break;\r\n            case 'Diamond':\r\n                state = renderer.pointShape === 'diamond';\r\n                break;\r\n            case 'Cross':\r\n                state = renderer.pointShape === 'cross';\r\n                break;\r\n            case 'Plus':\r\n                state = renderer.pointShape === 'plus';\r\n                break;\r\n            case 'No style':\r\n                state = renderer.lineStyle === '';\r\n                break;\r\n            case 'Solid':\r\n                state = renderer.lineStyle === 'solid';\r\n                break;\r\n            case 'Dot':\r\n                state = renderer.lineStyle === 'dot';\r\n                break;\r\n            case 'Dot-dash':\r\n                state = renderer.lineStyle === 'dashdot';\r\n                break;\r\n            case 'Medium dash':\r\n                state = renderer.lineStyle === 'mediumdash';\r\n                break;\r\n            case 'Large dash':\r\n                state = renderer.lineStyle === 'largedash';\r\n                break;\r\n            case 'No baseline':\r\n                break;\r\n            case 'Zero':\r\n                break;\r\n            case '-Inf':\r\n                break;\r\n            case 'Inf':\r\n                break;\r\n            case 'Color':\r\n                state = this.getPlotColorFromRenderer(renderer);\r\n                break;\r\n            case 'Hover':\r\n                plot = this.getPlot(index);\r\n                state = plot.enableHover;\r\n                break;\r\n        }\r\n\r\n        return state;\r\n    };\r\n\r\n    proto.getPlotColor = function (index) {\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer !== null) {\r\n            return this.getPlotColorFromRenderer(renderer);\r\n        }\r\n\r\n        return this.defaultPlotColors[index % this.defaultPlotColors.length];\r\n    };\r\n\r\n    proto.getPlotColorFromRenderer = function (renderer) {\r\n        var state;\r\n        if (renderer.lineStroke !== '') {\r\n            state = renderer.lineStroke;\r\n        } else if (renderer.pointColor !== '') {\r\n            state = renderer.pointColor;\r\n        } else if (renderer.barFill !== '') {\r\n            state = renderer.barFill;\r\n        } else if (renderer.areaFill !== '') {\r\n            state = renderer.areaFill;\r\n        }\r\n\r\n        return state;\r\n    };\r\n\r\n    proto.getLineWidth = function (index) {\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer !== null) {\r\n            return renderer.lineWidth;\r\n        }\r\n\r\n        // Return the default line width if there is no renderer.\r\n        return 1;\r\n    };\r\n\r\n    proto.getLineShape = function (index) {\r\n        var lineShape = 'line';\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer !== null) {\r\n            if (renderer.lineStroke !== '' && renderer.pointColor === '') {\r\n                lineShape = 'line';\r\n            } else if (renderer.lineStroke === '' && renderer.pointColor !== '') {\r\n                lineShape = 'point';\r\n            } else if (renderer.lineStroke !== '' && renderer.pointColor !== '') {\r\n                lineShape = 'line & point';\r\n            } else if (renderer.barFill !== '') {\r\n                lineShape = 'bar';\r\n            } else if (renderer.areaFill !== '') {\r\n                lineShape = 'fill';\r\n            }\r\n        }\r\n\r\n        // Return the default line shape if there is no renderer.\r\n        return lineShape;\r\n    };\r\n\r\n    proto.getPointShape = function (index) {\r\n        var renderer = this.getRenderer(index);\r\n        if (renderer !== null) {\r\n            return renderer.pointShape;\r\n        }\r\n\r\n        // Return the default point shape if there is no renderer.\r\n        return 'ellipse';\r\n    };\r\n}());\r\n","//****************************************\r\n// Plot Legend Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay = function (helpers) {\r\n        this.pointTypes = [\r\n            { name: 'ellipse', creator: this.createEllipseShape },\r\n            { name: 'rectangle', creator: this.createRectangleShape },\r\n            { name: 'diamond', creator: this.createDiamondShape },\r\n            { name: 'cross', creator: this.createCrossShape },\r\n            { name: 'plus', creator: this.createPlusShape }\r\n        ];\r\n\r\n        this.shapes = [];\r\n        this.helpers = helpers;\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.createHeaderDisplay = function (div, index) {\r\n        var svgns, svg, shape;\r\n        svgns = 'http://www.w3.org/2000/svg';\r\n        svg = document.createElementNS(svgns, 'svg');\r\n        svg.setAttribute('style', 'border: 1px solid black');\r\n        svg.setAttribute('width', '16');\r\n        svg.setAttribute('height', '16');\r\n        svg.setAttribute('viewBox', '0,0,16,16');\r\n        svg.setAttributeNS('http://www.w3.org/2000/xmlns/', 'xmlns:xlink', 'http://www.w3.org/1999/xlink');\r\n        div.appendChild(svg);\r\n        this.shapes[index] = {};\r\n        shape = this.createLine(svgns);\r\n        shape.setAttribute('fill', 'none');\r\n        shape.setAttribute('stroke-width', this.helpers.getLineWidth(index));\r\n        shape.setAttribute('stroke', this.getComputedColor(index, 'line'));\r\n        svg.appendChild(shape);\r\n        this.shapes[index].line = shape;\r\n\r\n        this.shapes[index].points = [];\r\n        this.createPoints(index, svg, svgns, this.pointTypes);\r\n\r\n        shape = this.createFillArea(svgns);\r\n        shape.setAttribute('fill', this.getComputedColor(index, 'fill'));\r\n        shape.setAttribute('stroke-width', 1);\r\n        shape.setAttribute('stroke', this.getComputedColor(index, 'fill'));\r\n        svg.appendChild(shape);\r\n        this.shapes[index].fill = shape;\r\n\r\n        shape = this.createBars(svgns);\r\n        shape.setAttribute('fill', this.getComputedColor(index, 'bar'));\r\n        shape.setAttribute('stroke-width', 1);\r\n        shape.setAttribute('stroke', this.getComputedColor(index, 'bar'));\r\n        svg.appendChild(shape);\r\n        this.shapes[index].bar = shape;\r\n    };\r\n\r\n    proto.createLine = function (svgns) {\r\n        var shape = document.createElementNS(svgns, 'polyline');\r\n        shape.setAttribute('points', '0,15 5,5 10,10 15,0');\r\n        return shape;\r\n    };\r\n\r\n    proto.createFillArea = function (svgns) {\r\n        var shape = document.createElementNS(svgns, 'polyline');\r\n        shape.setAttribute('points', '0,15 5,5 10,10 15,0, 15,15, 0,15');\r\n        return shape;\r\n    };\r\n\r\n    proto.createBars = function (svgns) {\r\n        var shape = document.createElementNS(svgns, 'polyline');\r\n        shape.setAttribute('points', '1,15 1,12, 4,12 4,15 6,15 6,3, 9,3 9,15 11,15 11,7 14,7 14,15 1,15');\r\n        return shape;\r\n    };\r\n\r\n    proto.createPoints = function (index, svg, svgns, pointShapes) {\r\n        var size = 4;\r\n        var i, j;\r\n        var group;\r\n        var points = [\r\n            {x: 0, y: 15},\r\n            {x: 10, y: 10},\r\n            {x: 5, y: 5},\r\n            {x: 15, y: 0}\r\n        ];\r\n        var shape;\r\n\r\n        for (j = 0; j < pointShapes.length; j++) {\r\n            group = document.createElementNS(svgns, 'g');\r\n            for (i = 0; i < 4; i++) {\r\n                shape = pointShapes[j].creator(svgns, points[i], size);\r\n                group.appendChild(shape);\r\n            }\r\n\r\n            group.setAttribute('fill', this.getComputedColor(index, 'point'));\r\n            group.setAttribute('stroke-width', 1);\r\n            group.setAttribute('stroke', this.getComputedColor(index, 'point'));\r\n            svg.appendChild(group);\r\n            this.shapes[index].points[pointShapes[j].name] = group;\r\n        }\r\n    };\r\n\r\n    proto.createEllipseShape = function (svgns, center, size) {\r\n        var shape = document.createElementNS(svgns, 'circle');\r\n        shape.setAttribute('cx', center.x);\r\n        shape.setAttribute('cy', center.y);\r\n        shape.setAttribute('r', size / 2);\r\n        return shape;\r\n    };\r\n\r\n    proto.createRectangleShape = function (svgns, center, size) {\r\n        var shape = document.createElementNS(svgns, 'rect');\r\n        shape.setAttribute('x', center.x - size / 2);\r\n        shape.setAttribute('y', center.y - size / 2);\r\n        shape.setAttribute('width', size);\r\n        shape.setAttribute('height', size);\r\n        return shape;\r\n    };\r\n\r\n    proto.createDiamondShape = function (svgns, center, size) {\r\n        var shape = document.createElementNS(svgns, 'path');\r\n        var path = 'M' + (center.x - size / 2) + ',' + center.y;\r\n        path += ' L' + center.x + ',' + (center.y - size / 2);\r\n        path += ' L' + (center.x + size / 2) + ',' + center.y;\r\n        path += ' L' + center.x + ',' + (center.y + size / 2);\r\n        path += ' Z';\r\n        shape.setAttribute('d', path);\r\n        return shape;\r\n    };\r\n\r\n    proto.createCrossShape = function (svgns, center, size) {\r\n        var shape = document.createElementNS(svgns, 'path');\r\n        var path = 'M' + (center.x - size / 2) + ',' + (center.y - size / 2);\r\n        path += ' L' + (center.x + size / 2) + ',' + (center.y + size / 2);\r\n        path += 'M' + (center.x + size / 2) + ',' + (center.y - size / 2);\r\n        path += ' L' + (center.x - size / 2) + ',' + (center.y + size / 2);\r\n        shape.setAttribute('d', path);\r\n        return shape;\r\n    };\r\n\r\n    proto.createPlusShape = function (svgns, center, size) {\r\n        var shape = document.createElementNS(svgns, 'path');\r\n        var path = 'M' + center.x + ',' + (center.y - size / 2);\r\n        path += ' L' + center.x + ',' + (center.y + size / 2);\r\n        path += 'M' + (center.x - size / 2) + ',' + center.y;\r\n        path += ' L' + (center.x + size / 2) + ',' + center.y;\r\n        shape.setAttribute('d', path);\r\n        return shape;\r\n    };\r\n\r\n    proto.colorWithAlpha = function (color, alpha) {\r\n        var r = parseInt(color.substring(1, 3), 16);\r\n        var g = parseInt(color.substring(3, 5), 16);\r\n        var b = parseInt(color.substring(5), 16);\r\n        return 'rgba(' + r + ',' + g + ',' +  b + ',' + alpha + ')';\r\n    };\r\n\r\n    proto.getComputedColor = function (index, lineShape) {\r\n        var currentLineShape = this.helpers.getLineShape(index);\r\n        var currentColor = this.helpers.getPlotColor(index);\r\n        if (currentLineShape === lineShape) {\r\n            return this.colorWithAlpha(currentColor, '255');\r\n        } else if (currentLineShape === 'line & point' && (lineShape === 'line' || lineShape === 'point')) {\r\n            return this.colorWithAlpha(currentColor, '255');\r\n        } else {\r\n            return this.colorWithAlpha(currentColor, '0');\r\n        }\r\n    };\r\n\r\n    proto.setPointColor = function (shape, shapeType, currentPointShape, color) {\r\n        if (shapeType === currentPointShape) {\r\n            shape.setAttribute('stroke', color);\r\n            shape.setAttribute('fill', color);\r\n        } else {\r\n            shape.setAttribute('stroke', 'rgba(0, 0, 0, 0)');\r\n            shape.setAttribute('fill', 'rgba(0, 0, 0, 0)');\r\n        }\r\n    };\r\n\r\n    proto.updatePointColor = function (index, shape) {\r\n        var i;\r\n        var color = this.getComputedColor(index, 'point');\r\n        var pointShape = this.helpers.getPointShape(index);\r\n        for (i = 0; i < this.pointTypes.length; i++) {\r\n            this.setPointColor(shape.points[this.pointTypes[i].name], this.pointTypes[i].name, pointShape, color);\r\n        }\r\n    };\r\n\r\n    proto.updateShape = function (index) {\r\n        var shape = this.shapes[index];\r\n        if (shape === undefined) {\r\n            return;\r\n        }\r\n\r\n        var lineShape = this.helpers.getLineShape(index);\r\n        var width = this.helpers.getLineWidth(index);\r\n        if (lineShape === 'line') {\r\n            shape.line.setAttribute('stroke-width', width);\r\n        }\r\n\r\n        shape.line.setAttribute('stroke', this.getComputedColor(index, 'line'));\r\n        this.updatePointColor(index, shape);\r\n        shape.fill.setAttribute('stroke', this.getComputedColor(index, 'fill'));\r\n        shape.fill.setAttribute('fill', this.getComputedColor(index, 'fill'));\r\n        shape.bar.setAttribute('stroke', this.getComputedColor(index, 'bar'));\r\n        shape.bar.setAttribute('fill', this.getComputedColor(index, 'bar'));\r\n    };\r\n}());\r\n","//****************************************\r\n// Cursor Legend Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.CursorLegend = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'graphName',\r\n            defaultValue: '',\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'isInEditMode',\r\n            defaultValue: false,\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.table = undefined;\r\n        this.nCursors = 0;\r\n        this.selectedIndex = -1;\r\n        this.selectedRow = null;\r\n        this.addButton = null;\r\n        this.deleteButton = null;\r\n        this.centerButton = null;\r\n        this.currentRow = null;\r\n        this.currentBtn = null;\r\n        this.observer = null;\r\n        this.helpers = new NationalInstruments.HtmlVI.Elements.CursorLegendHelpers();\r\n        this.cursorLegendItemDisplay = new NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay(this.helpers);\r\n        this.uihelpers = new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers, this.cursorLegendItemDisplay);\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    proto.cursorAdded = function (cursor) {\r\n        var that = this;\r\n        var n = that.nCursors;\r\n        var tr;\r\n        that.createRow(that.table, that.nCursors);\r\n        that.helpers.cursorAdded(cursor);\r\n        that.helpers.cursorPositionChanged(that.nCursors, function (x, y) {\r\n            that.updatePosition(n, x, y);\r\n        });\r\n        if (that.selectedIndex >= 0) {\r\n            tr = that.table.childNodes[that.selectedIndex * 2];\r\n            $(tr).removeClass('ni-selected-row');\r\n        }\r\n\r\n        tr = that.table.childNodes[n * 2];\r\n        that.selectedIndex = n;\r\n        that.selectedRow = tr;\r\n        $(tr).addClass('ni-selected-row');\r\n        that.nCursors++;\r\n    };\r\n\r\n    proto.updatePosition = function (index, x, y) {\r\n        var xEl = document.getElementById('x_' + index);\r\n        var yEl = document.getElementById('y_' + index);\r\n        if (xEl !== null && x !== undefined) {\r\n            xEl.innerText = x.toPrecision(4);\r\n        }\r\n\r\n        if (yEl !== null && y !== undefined) {\r\n            yEl.innerText = y.toPrecision(4);\r\n        }\r\n    };\r\n\r\n    // cursor can be removed at runtime or edit time from legend, or at edit time from right rail\r\n    proto.cursorRemoved = function (cursor) {\r\n        var index;\r\n        index = this.helpers.cursorToIndex(cursor);\r\n        if (index >= 0) {\r\n            $('.ni-master-row').eq(index).remove();\r\n            $('.ni-details-box').eq(index).remove();\r\n            this.cursorLegendItemDisplay.clearShape(index);\r\n            this.nCursors--;\r\n            this.helpers.cursorRemoved(cursor);\r\n\r\n            if (index === this.selectedIndex) {\r\n                this.selectedIndex = -1;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.cursorChanged = function (cursor) {\r\n        var index = this.helpers.cursorToIndex(cursor);\r\n        this.cursorLegendItemDisplay.updateShape(index);\r\n        this.updateName(index);\r\n        this.updateVisible(index);\r\n    };\r\n\r\n    proto.updateName = function (index) {\r\n        $('#name_' + index).text(this.helpers.getState('name', index));\r\n    };\r\n\r\n    proto.updateVisible = function (index) {\r\n        var visible = this.helpers.getState('visible', index);\r\n        if (visible) {\r\n            $('#visible_' + index).removeClass('ni-visibility-off-icon').addClass('ni-visibility-on-icon');\r\n        } else {\r\n            $('#visible_' + index).removeClass('ni-visibility-on-icon').addClass('ni-visibility-off-icon');\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            that.helpers.graphName = that.graphName;\r\n            that.helpers.isInEditMode = that.isInEditMode;\r\n            var div = document.createElement('div');\r\n            div.style.width = '100%';\r\n            div.style.height = '100%';\r\n            div.id = 'div' + NI_SUPPORT.uniqueId();\r\n            that.appendChild(div);\r\n            that.table = document.createElement('table');\r\n            that.table.className = 'ni-cursors-box';\r\n            div.appendChild(that.table);\r\n\r\n            var buttonsRow = document.createElement('div');\r\n            div.appendChild(buttonsRow);\r\n\r\n            var center = document.createElement('button');\r\n            center.className = 'ni-center-button ni-command-button';\r\n            $(center).jqxButton();\r\n            $(center).on('click', function () {\r\n                that.helpers.centerCursor(that.selectedIndex);\r\n            });\r\n            buttonsRow.appendChild(center);\r\n            that.centerButton = center;\r\n\r\n            var add = document.createElement('button');\r\n            add.className = 'ni-add-button ni-command-button';\r\n            $(add).jqxButton();\r\n            $(add).on('click', function () {\r\n                that.helpers.addCursor();\r\n            });\r\n            buttonsRow.appendChild(add);\r\n            that.addButton = add;\r\n\r\n            var del = document.createElement('button');\r\n            del.className = 'ni-delete-button ni-command-button';\r\n            $(del).jqxButton();\r\n            $(del).on('click', function () {\r\n                that.helpers.deleteCursor(that.selectedIndex);\r\n                that.selectedIndex = -1;\r\n            });\r\n            buttonsRow.appendChild(del);\r\n            that.deleteButton = del;\r\n\r\n            that.addEventListener('ni-cursor-attached', function (evt) {\r\n                that.cursorAdded(evt.detail.originalSource);\r\n            });\r\n            that.addEventListener('ni-cursor-detached', function (evt) {\r\n                that.cursorRemoved(evt.detail.originalSource);\r\n            });\r\n            that.addEventListener('ni-cursor-changed', function (evt) {\r\n                that.cursorChanged(evt.detail.originalSource);\r\n            });\r\n            var graph = document.querySelector('[ni-control-id=\\'' + that.graphName + '\\']');\r\n            if (graph !== null) {\r\n                graph.registerCursorLegend(that);\r\n            }\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.imageRenderer = function (row) {\r\n        return this.cursorLegendItemDisplay.createHeaderDisplay(row);\r\n    };\r\n\r\n    proto.createRow = function (table, index) {\r\n        var that = this;\r\n        var btn = that.createMainRow(table, index);\r\n        var row = that.createDetailsRow(table, index);\r\n        $(btn).on('click', function () {\r\n            if (that.currentRow !== row) {\r\n                var currentRow = that.currentRow;\r\n                var currentBtn = that.currentBtn;\r\n                row.style.display = 'table-row';\r\n                that.currentRow = row;\r\n                btn.classList.remove('ni-closed-icon');\r\n                btn.classList.add('ni-open-icon');\r\n                that.currentBtn = btn;\r\n                if (currentRow !== null) {\r\n                    currentRow.style.display = 'none';\r\n                }\r\n\r\n                if (currentBtn !== null) {\r\n                    currentBtn.classList.remove('ni-open-icon');\r\n                    currentBtn.classList.add('ni-closed-icon');\r\n                }\r\n            } else {\r\n                row.style.display = 'none';\r\n                btn.classList.remove('ni-open-icon');\r\n                btn.classList.add('ni-closed-icon');\r\n                that.currentRow = null;\r\n                that.currentBtn = null;\r\n            }\r\n        });\r\n        that.applyFont();\r\n    };\r\n\r\n    proto.getRowIndex = function (table, tr) {\r\n        var i;\r\n        for (i = 0; i < table.childNodes.length; i++) {\r\n            if (table.childNodes[i] === tr) {\r\n                return i / 2;\r\n            }\r\n        }\r\n\r\n        return -1;\r\n    };\r\n\r\n    proto.createMainRow = function (table, index) {\r\n        var that = this;\r\n        var rowIndex;\r\n        var tr, td0, td1, td2, td3, td4, span, p, display, button, showHideButton, visible;\r\n        tr = document.createElement('tr');\r\n        tr.className = 'ni-master-row';\r\n        table.appendChild(tr);\r\n        $(tr).on('click', function () {\r\n            if (that.selectedRow !== tr) {\r\n                if (that.selectedRow !== null) {\r\n                    $(that.selectedRow).removeClass('ni-selected-row');\r\n                }\r\n\r\n                that.selectedIndex = that.getRowIndex(table, tr);\r\n                that.selectedRow = tr;\r\n                $(tr).addClass('ni-selected-row');\r\n            } else { // deselect the selected row\r\n                that.selectedIndex = -1;\r\n                $(that.selectedRow).removeClass('ni-selected-row');\r\n            }\r\n        });\r\n\r\n        td0 = document.createElement('td');\r\n        td0.className = 'ni-expand-box';\r\n        tr.appendChild(td0);\r\n        showHideButton = document.createElement('input');\r\n        showHideButton.className = 'ni-expand-button ni-closed-icon';\r\n        showHideButton.type = 'button';\r\n        showHideButton.id = 'details_' + index;\r\n        td0.appendChild(showHideButton);\r\n        $(showHideButton).jqxButton({ width : 20, height: 20, disabled: that.isInEditMode });\r\n\r\n        td1 = document.createElement('td');\r\n        td1.className = 'ni-cursor-box';\r\n        tr.appendChild(td1);\r\n        display = that.cursorLegendItemDisplay.createHeaderDisplay(index);\r\n        if (display !== null) {\r\n            display.id = 'display_' + index;\r\n            td1.appendChild(display);\r\n        }\r\n\r\n        span = document.createElement('span');\r\n        span.className = 'ni-cursor-title';\r\n        span.id = 'name_' + index;\r\n        p = document.createTextNode(that.helpers.getState('name', index));\r\n        span.appendChild(p);\r\n        td1.appendChild(span);\r\n\r\n        td2 = document.createElement('td');\r\n        td2.className = 'ni-x-box';\r\n        tr.appendChild(td2);\r\n        span = document.createElement('span');\r\n        span.className = 'ni-x-title';\r\n        span.id = 'x_' + index;\r\n        p = document.createTextNode(parseFloat(that.helpers.getState('x', index)));\r\n        span.appendChild(p);\r\n        td2.appendChild(span);\r\n\r\n        td3 = document.createElement('td');\r\n        td3.className = 'ni-y-box';\r\n        tr.appendChild(td3);\r\n        span = document.createElement('span');\r\n        span.className = 'ni-y-title';\r\n        span.id = 'y_' + index;\r\n        p = document.createTextNode(parseFloat(that.helpers.getState('y', index)));\r\n        span.appendChild(p);\r\n        td3.appendChild(span);\r\n\r\n        td4 = document.createElement('td');\r\n        td4.className = 'ni-actions-box';\r\n        tr.appendChild(td4);\r\n        button = document.createElement('input');\r\n        button.className = 'ni-visibility-button ni-action-button';\r\n        button.type = 'button';\r\n        button.id = 'visible_' + index;\r\n        visible = that.helpers.getState('visible', index);\r\n        if (visible) {\r\n            button.classList.add('ni-visibility-on-icon');\r\n        } else {\r\n            button.classList.add('ni-visibility-off-icon');\r\n        }\r\n\r\n        $(button).on('click', function () {\r\n            rowIndex = that.getRowIndex(table, tr);\r\n            that.helpers.handleClick('visible', '', rowIndex);\r\n        });\r\n\r\n        td4.appendChild(button);\r\n        $(button).jqxToggleButton({ disabled: that.isInEditMode });\r\n\r\n        button = document.createElement('input');\r\n        button.className = 'ni-snap-button ni-action-button';\r\n        button.type = 'button';\r\n        button.id = 'snap_' + index;\r\n        td4.appendChild(button);\r\n        $(button).on('click', function () {\r\n            rowIndex = that.getRowIndex(table, tr);\r\n            that.helpers.handleClick('snap', '', rowIndex);\r\n        });\r\n        $(button).jqxToggleButton({ disabled: that.isInEditMode });\r\n\r\n        return showHideButton;\r\n    };\r\n\r\n    proto.createDetailsItem = function (table, title, className) {\r\n        var tr, td1, td2, div, span, p;\r\n        tr = document.createElement('tr');\r\n        tr.className = 'ni-details-row';\r\n        table.appendChild(tr);\r\n\r\n        td1 = document.createElement('td');\r\n        td1.className = 'ni-details-row-title-box';\r\n        tr.appendChild(td1);\r\n        span = document.createElement('span');\r\n        span.class = 'ni-details-row-title';\r\n        td1.appendChild(span);\r\n        p = document.createTextNode(title);\r\n        span.appendChild(p);\r\n\r\n        td2 = document.createElement('td');\r\n        td2.className = 'ni-details-row-control-box';\r\n        tr.appendChild(td2);\r\n        div = document.createElement('div');\r\n        div.className = className;\r\n        td2.appendChild(div);\r\n        return div;\r\n    };\r\n\r\n    proto.createDetailsRow = function (table, index) {\r\n        var subtable, tr, td, div;\r\n\r\n        tr = document.createElement('tr');\r\n        tr.className = 'ni-details-box';\r\n        tr.style.display = 'none';\r\n        table.appendChild(tr);\r\n\r\n        td = document.createElement('td');\r\n        td.colSpan = 5;\r\n        tr.appendChild(td);\r\n\r\n        subtable = document.createElement('table');\r\n        subtable.className = 'ni-details';\r\n        td.appendChild(subtable);\r\n\r\n        div = this.createDetailsItem(subtable, 'Color', 'ni-colorbox-selector ni-selector');\r\n        this.uihelpers.addColorBox({ name: 'Color' }, div, index);\r\n\r\n        div = this.createDetailsItem(subtable, 'Shape', 'ni-shape-selector ni-selector');\r\n        this.uihelpers.addComboBox(this.helpers.getMenuItem('shape'), div, index, 16);\r\n\r\n        div = this.createDetailsItem(subtable, 'Crosshair', 'ni-crosshair-selector ni-selector');\r\n        this.uihelpers.addComboBox(this.helpers.getMenuItem('crosshair'), div, index, 16);\r\n\r\n        return tr;\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqrefContent = $('#' + childElement.id + ' .jqx-widget-content'),\r\n            jqrefItemName = $('#' + childElement.id + ' .ni-cursor-title'),\r\n            jqrefItemX = $('#' + childElement.id + ' .ni-x-title'),\r\n            jqrefItemY = $('#' + childElement.id + ' .ni-y-title'),\r\n            jqrefItemDetails = $('#' + childElement.id + ' .ni-details-title');\r\n\r\n        jqrefContent.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemName.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemX.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemY.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemDetails.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.applyFont = function () {\r\n        var childElement = this.firstElementChild,\r\n            jqrefContent = $('#' + childElement.id + ' .jqx-widget-content'),\r\n            jqrefItemName = $('#' + childElement.id + ' .ni-cursor-title'),\r\n            jqrefItemX = $('#' + childElement.id + ' .ni-x-title'),\r\n            jqrefItemY = $('#' + childElement.id + ' .ni-y-title'),\r\n            jqrefItemDetails = $('#' + childElement.id + ' .ni-details-title');\r\n\r\n        var fontSize = $(this).css('font-size');\r\n        var fontFamily = $(this).css('font-family');\r\n        var fontWeight = $(this).css('font-weight');\r\n        var fontStyle = $(this).css('font-style');\r\n        jqrefContent.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemName.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemX.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemY.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n        jqrefItemDetails.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'graphName':\r\n                // should never change\r\n                this.helpers.graphName = this.graphName;\r\n                break;\r\n            case 'isInEditMode':\r\n                // this changes once after the element is created\r\n                this.helpers.isInEditMode = this.isInEditMode;\r\n                if (this.addButton !== null) {\r\n                    this.addButton.disabled = this.isInEditMode;\r\n                }\r\n\r\n                if (this.deleteButton !== null) {\r\n                    this.deleteButton.disabled = this.isInEditMode;\r\n                }\r\n\r\n                if (this.centerButton !== null) {\r\n                    this.centerButton.disabled = this.isInEditMode;\r\n                }\r\n\r\n                $(this.table).find('.ni-expand-button').each(function () {\r\n                    $(this).jqxButton({ disabled: this.isInEditMode });\r\n                });\r\n\r\n                $(this.table).find('.ni-visibility-button').each(function () {\r\n                    $(this).jqxToggleButton({ disabled: this.isInEditMode });\r\n                });\r\n\r\n                $(this.table).find('.ni-snap-button').each(function () {\r\n                    $(this).jqxToggleButton({ disabled: this.isInEditMode });\r\n                });\r\n\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-cursor-legend', 'HTMLNICursorLegend');\r\n}(NationalInstruments.HtmlVI.Elements.CursorLegend, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Plot Legend Helpers Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.CursorLegendHelpers = function () {\r\n        this.graphName = '';\r\n        this.isInEditMode = false;\r\n        this.cursors = [];\r\n        this.defaultCursorName = NI_SUPPORT.i18n('msg_defaultcursorname');\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.CursorLegendHelpers;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.getMenuItem = function (name) {\r\n        if (name === 'shape') {\r\n            return {\r\n                name: 'Target Shape', tag: 'msg_targetshape', children: [\r\n                    { name: 'Ellipse', tag: 'msg_ellipse', cssClass: 'ni-ellipse-point-style-icon' },\r\n                    { name: 'Rectangle', tag: 'msg_rectangle', cssClass: 'ni-rect-point-style-icon' },\r\n                    { name: 'Diamond', tag: 'msg_diamond', cssClass: 'ni-diamond-point-style-icon' },\r\n                    { name: 'Cross', tag: 'msg_cross', cssClass: 'ni-cross-point-style-icon' },\r\n                    { name: 'Plus', tag: 'msg_plus', cssClass: 'ni-plus-point-style-icon' }\r\n                ]\r\n            };\r\n        } else if (name === 'crosshair') {\r\n            return {\r\n                name: 'Crosshair Style', tag: 'msg_crosshairstyle', children: [\r\n                    { name: 'No style', tag: 'msg_nostyle', cssClass: 'ni-no-crosshair-icon' },\r\n                    { name: 'Vertical', tag: 'msg_vertical', cssClass: 'ni-vertical-crosshair-icon' },\r\n                    { name: 'Horizontal', tag: 'msg_horizontal', cssClass: 'ni-horizontal-crosshair-icon' },\r\n                    { name: 'Both', tag: 'msg_both', cssClass: 'ni-both-crosshair-icon' }\r\n                ]\r\n            };\r\n        }\r\n    };\r\n\r\n    proto.cursorAdded = function (cursor) {\r\n        var i;\r\n        for (i = 0; i < this.cursors.length; i++) {\r\n            if (this.cursors[i].niControlId === cursor.niControlId) {\r\n                return; // its already in the list\r\n            }\r\n        }\r\n\r\n        this.cursors.push(cursor);\r\n    };\r\n\r\n    // if cursor is not already removed from the list then remove it\r\n    proto.cursorRemoved = function (cursor) {\r\n        var i;\r\n        for (i = 0; i < this.cursors.length; i++) {\r\n            if (this.cursors[i].niControlId === cursor.niControlId) {\r\n                this.cursors.splice(i, 1);\r\n                return;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.addCursor = function () {\r\n        var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n        var cursor = document.createElement('ni-cursor');\r\n        cursor.niControlId = NI_SUPPORT.uniqueId();\r\n        this.cursors.push(cursor);\r\n        cursor.label = this.nextCursorName();\r\n        graph.appendChild(cursor);\r\n    };\r\n\r\n    proto.centerCursor = function (index) {\r\n        var cursor = this.getCursor(index);\r\n        if (cursor !== null && cursor !== undefined) {\r\n            cursor.x = 0.5;\r\n            cursor.y = 0.5;\r\n        }\r\n    };\r\n\r\n    proto.cursorPositionChanged = function (index, changed) {\r\n        var cursor = this.getCursor(index);\r\n\r\n        // TODO mraj is undefined an expected value?\r\n        if (cursor === undefined) {\r\n            throw new Error('cursor is undefined');\r\n        }\r\n\r\n        $(cursor).on('cursorUpdated', function (e, data) {\r\n            changed(data.x, data.y);\r\n        });\r\n    };\r\n\r\n    proto.nextCursorName = function () {\r\n        var graph, maxIndex = 1, i, cursor;\r\n        graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n        if (graph !== null) {\r\n            for (child in graph.childNodes) {\r\n                if (graph.childNodes[child].localName === 'ni-cursor') {\r\n                    cursor = graph.childNodes[child];\r\n                    i = parseInt(cursor.label.substring(this.defaultCursorName.length));\r\n                    if (i > maxIndex) {\r\n                        maxIndex = i;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return this.defaultCursorName + (maxIndex + 1);\r\n    };\r\n\r\n    proto.getCursor = function (index) {\r\n        var i = 0;\r\n        var graph;\r\n        var cursor = null;\r\n        var child;\r\n        if (this.cursors[index] === null || this.cursors[index] === undefined) {\r\n            graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n            if (graph !== null) {\r\n                for (child in graph.childNodes) {\r\n                    if (graph.childNodes[child].localName === 'ni-cursor') {\r\n                        if (i === index) {\r\n                            cursor = graph.childNodes[child];\r\n                            break;\r\n                        }\r\n\r\n                        i++;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (cursor !== null) {\r\n                this.cursors[index] = cursor;\r\n            }\r\n        }\r\n\r\n        return this.cursors[index];\r\n    };\r\n\r\n    proto.deleteCursor = function (index) {\r\n        var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n        var cursor = this.getCursor(index);\r\n        if (cursor !== null && cursor !== undefined) {\r\n            graph.removeChild(cursor);\r\n        }\r\n    };\r\n\r\n    proto.cursorToIndex = function (cursor) {\r\n        var i = 0, index = -1;\r\n        for (i = 0; i < this.cursors.length; i++) {\r\n            if (this.cursors[i] !== null && cursor.niControlId === this.cursors[i].niControlId) {\r\n                index = i;\r\n            }\r\n        }\r\n\r\n        return index;\r\n    };\r\n\r\n    proto.handleClick = function (itemName, arg, index) {\r\n        var cursor = this.getCursor(index);\r\n        if (cursor === null && cursor === undefined) {\r\n            return;\r\n        }\r\n\r\n        switch (itemName) {\r\n            case 'name':\r\n                break;\r\n            case 'x':\r\n                break;\r\n            case 'y':\r\n                break;\r\n            case 'visible':\r\n                cursor.show = !cursor.show;\r\n                break;\r\n            case 'snap':\r\n                cursor.snapToData = !cursor.snapToData;\r\n                break;\r\n            case 'center':\r\n                cursor.x = 0.5;\r\n                cursor.y = 0.5;\r\n                break;\r\n            case 'delete':\r\n                this.deleteCursor(index);\r\n                break;\r\n            case 'Ellipse':\r\n                cursor.targetShape = 'ellipse';\r\n                break;\r\n            case 'Rectangle':\r\n                cursor.targetShape = 'rectangle';\r\n                break;\r\n            case 'Diamond':\r\n                cursor.targetShape = 'diamond';\r\n                break;\r\n            case 'Cross':\r\n                cursor.targetShape = 'cross';\r\n                break;\r\n            case 'Plus':\r\n                cursor.targetShape = 'plus';\r\n                break;\r\n            case 'No style':\r\n                cursor.crosshairStyle = 'none';\r\n                break;\r\n            case 'Vertical':\r\n                cursor.crosshairStyle = 'vertical';\r\n                break;\r\n            case 'Horizontal':\r\n                cursor.crosshairStyle = 'horizontal';\r\n                break;\r\n            case 'Both':\r\n                cursor.crosshairStyle = 'both';\r\n                break;\r\n            case 'Color':\r\n                cursor.cursorColor = '#' + arg.hex;\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.getState = function (itemName, index) {\r\n        var cursor = this.getCursor(index);\r\n        if (cursor === null || cursor === undefined) {\r\n            return undefined;\r\n        }\r\n\r\n        var state;\r\n        switch (itemName) {\r\n            case 'name':\r\n                state = cursor.label;\r\n                break;\r\n            case 'x':\r\n                state = cursor.x;\r\n                break;\r\n            case 'y':\r\n                state = cursor.y;\r\n                break;\r\n            case 'visible':\r\n                state = cursor.show;\r\n                break;\r\n            case 'snap':\r\n                state = cursor.snapToData;\r\n                break;\r\n            case 'center':\r\n                break;\r\n            case 'delete':\r\n                break;\r\n            case 'Ellipse':\r\n                state = cursor.targetShape === 'ellipse';\r\n                break;\r\n            case 'Rectangle':\r\n                state = cursor.targetShape === 'rectangle';\r\n                break;\r\n            case 'Diamond':\r\n                state = cursor.targetShape === 'diamond';\r\n                break;\r\n            case 'Cross':\r\n                state = cursor.targetShape === 'cross';\r\n                break;\r\n            case 'Plus':\r\n                state = cursor.targetShape === 'plus';\r\n                break;\r\n            case 'No style':\r\n                state = cursor.crosshairStyle === 'none';\r\n                break;\r\n            case 'Vertical':\r\n                state = cursor.crosshairStyle === 'vertical';\r\n                break;\r\n            case 'Horizontal':\r\n                state = cursor.crosshairStyle === 'horizontal';\r\n                break;\r\n            case 'Both':\r\n                state = cursor.crosshairStyle === 'both';\r\n                break;\r\n            case 'Color':\r\n                state = cursor.cursorColor;\r\n                break;\r\n        }\r\n\r\n        return state;\r\n    };\r\n\r\n    proto.getTargetShape = function (index) {\r\n        var cursor = this.getCursor(index);\r\n        if (cursor !== null && cursor !== undefined) {\r\n            return cursor.targetShape;\r\n        }\r\n\r\n        return 'ellipse';\r\n    };\r\n\r\n    proto.getCrosshair = function (index) {\r\n        var cursor = this.getCursor(index);\r\n        if (cursor !== null && cursor !== undefined) {\r\n            return cursor.crosshairStyle;\r\n        }\r\n    };\r\n}());\r\n","//****************************************\r\n// Plot Legend Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay = function (helpers) {\r\n        this.helpers = helpers;\r\n        this.items = [];\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    var svgns = 'http://www.w3.org/2000/svg';\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.clearShape = function (index) {\r\n        this.items.splice(index, 1);\r\n    };\r\n\r\n    //Methods\r\n    proto.createHeaderDisplay = function (index) {\r\n        var svg;\r\n        var cursor = this.helpers.getCursor(index);\r\n        if (cursor === undefined) {\r\n            return null;\r\n        }\r\n\r\n        svg = document.createElementNS(svgns, 'svg');\r\n        svg.setAttribute('class', 'ni-cursor-display');\r\n        //svg.setAttribute('style', 'border: 1px solid black; display: inline-block; margin: auto; margin-top: 4px; vertical-align: middle;');\r\n        svg.setAttribute('width', '16');\r\n        svg.setAttribute('height', '16');\r\n        svg.setAttribute('viewBox', '0,0,16,16');\r\n        svg.setAttributeNS('http://www.w3.org/2000/xmlns/', 'xmlns:xlink', 'http://www.w3.org/1999/xlink');\r\n        this.addShapes(cursor, svg, svgns);\r\n        this.items.push(svg);\r\n        return svg;\r\n    };\r\n\r\n    proto.addShapes = function (cursor, svg, svgns) {\r\n        this.makeShape(cursor, svg, svgns);\r\n        this.makeLine(cursor, svg, svgns, '8', '1', '8', '4', 1);\r\n        this.makeLine(cursor, svg, svgns, '12', '8', '15', '8', 2);\r\n        this.makeLine(cursor, svg, svgns, '8', '12', '8', '15', 3);\r\n        this.makeLine(cursor, svg, svgns, '1', '8', '4', '8', 4);\r\n    };\r\n\r\n    proto.makeShape = function (cursor, svg, svgns) {\r\n        var rect, circle;\r\n        var shape = cursor.targetShape;\r\n        var color = this.getColorString(cursor, 0);\r\n        switch (shape) {\r\n            case 'ellipse':\r\n                circle = document.createElementNS(svgns, 'circle');\r\n                circle.setAttribute('cx', '8');\r\n                circle.setAttribute('cy', '8');\r\n                circle.setAttribute('r', '4');\r\n                circle.setAttribute('stroke', color);\r\n                circle.setAttribute('stroke-width', '1');\r\n                circle.setAttribute('fill', 'rgba(0, 0, 0, 0)');\r\n                svg.appendChild(circle);\r\n                break;\r\n            case 'rectangle':\r\n                rect = document.createElementNS(svgns, 'rect');\r\n                rect.setAttribute('x', '4');\r\n                rect.setAttribute('y', '4');\r\n                rect.setAttribute('width', '8');\r\n                rect.setAttribute('height', '8');\r\n                rect.setAttribute('stroke', color);\r\n                rect.setAttribute('stroke-width', '1');\r\n                rect.setAttribute('fill', 'rgba(0, 0, 0, 0)');\r\n                svg.appendChild(rect);\r\n                break;\r\n            case 'diamond':\r\n                this.makeLine(cursor, svg, svgns, '8', '4', '12', '8', 0);\r\n                this.makeLine(cursor, svg, svgns, '12', '8', '8', '12', 0);\r\n                this.makeLine(cursor, svg, svgns, '8', '12', '4', '8', 0);\r\n                this.makeLine(cursor, svg, svgns, '4', '8', '8', '4', 0);\r\n                break;\r\n            case 'cross':\r\n                this.makeLine(cursor, svg, svgns, '4', '4', '12', '12', 0);\r\n                this.makeLine(cursor, svg, svgns, '4', '12', '12', '4', 0);\r\n                break;\r\n            case 'plus':\r\n                this.makeLine(cursor, svg, svgns, '8', '4', '8', '12', 0);\r\n                this.makeLine(cursor, svg, svgns, '4', '8', '12', '8', 0);\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.makeLine = function (cursor, svg, svgns, x1, y1, x2, y2, colorIndex) {\r\n        var line = document.createElementNS(svgns, 'line');\r\n        line.setAttribute('x1', x1);\r\n        line.setAttribute('y1', y1);\r\n        line.setAttribute('x2', x2);\r\n        line.setAttribute('y2', y2);\r\n        line.setAttribute('stroke', this.getColorString(cursor, colorIndex));\r\n        line.setAttribute('stroke-width', 1);\r\n        svg.appendChild(line);\r\n    };\r\n\r\n    proto.getColorString = function (cursor, partIndex) {\r\n        var crosshair = cursor.crosshairStyle;\r\n        var color = cursor.cursorColor;\r\n        var html;\r\n        switch (crosshair) {\r\n            case 'none':\r\n                html = this.colorWithAlpha(color, partIndex === 0 ? '255' : '0');\r\n                break;\r\n            case 'vertical':\r\n                html = this.colorWithAlpha(color, partIndex === 0 || partIndex === 1 || partIndex === 3 ? '255' : '0');\r\n                break;\r\n            case 'horizontal':\r\n                html = this.colorWithAlpha(color, partIndex === 0 || partIndex === 2 || partIndex === 4 ? '255' : '0');\r\n                break;\r\n            case 'both':\r\n                html = this.colorWithAlpha(color, '255');\r\n                break;\r\n        }\r\n\r\n        return html;\r\n    };\r\n\r\n    proto.colorWithAlpha = function (color, alpha) {\r\n        var r = parseInt(color.substring(1, 3), 16);\r\n        var g = parseInt(color.substring(3, 5), 16);\r\n        var b = parseInt(color.substring(5), 16);\r\n        return 'rgba(' + r + ',' + g + ',' + b + ',' + alpha + ')';\r\n    };\r\n\r\n    proto.updateShape = function (index) {\r\n        var svg = this.items[index];\r\n        var cursor = this.helpers.getCursor(index);\r\n        if (cursor === undefined) {\r\n            return null;\r\n        }\r\n\r\n        while (svg.firstChild) {\r\n            svg.removeChild(svg.firstChild);\r\n        }\r\n\r\n        this.addShapes(cursor, svg, svgns);\r\n    };\r\n}());\r\n","//****************************************\r\n// Scale Legend Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.ScaleLegend = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'graphName',\r\n            defaultValue: '',\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'isInEditMode',\r\n            defaultValue: false,\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.tbl = undefined;\r\n        this.nScales = 0;\r\n        this.currentExpander = null;\r\n        this.helpers = new NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers();\r\n        this.uihelpers = new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers, null);\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    proto.scaleAdded = function () {\r\n        this.createRow(this.tbl, this.nScales);\r\n        this.helpers.addScale(this.nScales);\r\n        this.nScales++;\r\n    };\r\n\r\n    proto.scaleRemoved = function (scale) {\r\n        var tr, td, text, i, j, index, toRemove = null;\r\n        j = 0;\r\n        for (i = 0; i < this.tbl.childNodes.length; i++) {\r\n            if (this.tbl.childNodes[i].localName === 'tr') {\r\n                tr = this.tbl.childNodes[i];\r\n                td = tr.childNodes[0];\r\n                text = td.innerText;\r\n                if (text === scale.label) {\r\n                    toRemove = tr;\r\n                    index = j;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            j++;\r\n        }\r\n\r\n        if (toRemove !== null) {\r\n            this.tbl.removeChild(toRemove);\r\n            this.helpers.clearScale(index);\r\n        }\r\n\r\n        this.nScales--;\r\n    };\r\n\r\n    proto.createRows = function () {\r\n        var i;\r\n        for (i = 0; i < this.nScales; i++) {\r\n            this.createRow(this.tbl, i);\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            childElement,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            this.helpers.graphName = this.graphName;\r\n            this.helpers.isInEditMode = this.isInEditMode;\r\n            childElement = document.createElement('div');\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            this.appendChild(childElement);\r\n            this.tbl = document.createElement('table');\r\n            this.tbl.className = 'ni-scale-legend-box';\r\n            childElement.appendChild(this.tbl);\r\n            this.createRows();\r\n            this.addEventListener('ni-cartesian-axis-attached', function () {\r\n                that.scaleAdded();\r\n            });\r\n            this.addEventListener('ni-cartesian-axis-detached', function (evt) {\r\n                that.scaleRemoved(evt.detail.originalSource);\r\n            });\r\n            this.addEventListener('ni-axis-changed', function (evt) {\r\n                var scale = evt.detail.originalSource;\r\n                var index = that.helpers.scaleToIndex(scale);\r\n                var labels = $(this.tbl).find('.ni-row-title');\r\n                $(labels[index]).first().text(scale.label);\r\n            });\r\n            var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n            if (graph !== null) {\r\n                graph.registerScaleLegend(this);\r\n            }\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.createRow = function (tbl, index) {\r\n        var that = this;\r\n        var tr, td1, td2, td3, span, p, btnLock, btnScaleOnce;\r\n\r\n        tr = document.createElement('tr');\r\n        tbl.appendChild(tr);\r\n        td1 = document.createElement('td');\r\n        td1.className = 'ni-row-title-box';\r\n        tr.appendChild(td1);\r\n        span = document.createElement('span');\r\n        span.className = 'ni-row-title';\r\n        td1.appendChild(span);\r\n        var scaleName = that.helpers.getState('name', index);\r\n        p = document.createTextNode(scaleName);\r\n        span.appendChild(p);\r\n\r\n        td2 = document.createElement('td');\r\n        td2.className = 'ni-lock-box';\r\n        tr.appendChild(td2);\r\n        btnLock = document.createElement('button');\r\n        btnLock.type = 'button';\r\n        btnLock.className = 'ni-lock-button ni-button';\r\n        $(btnLock).jqxToggleButton();\r\n        $(btnLock).jqxToggleButton({ disabled: !this.helpers.getState('canLock', index) });\r\n        $(btnLock).on('click', function () {\r\n            that.helpers.handleClick('lock', index);\r\n            that.setLockBackground(btnLock, false, index);\r\n        });\r\n        that.setLockBackground(btnLock, true, index);\r\n        td2.appendChild(btnLock);\r\n\r\n        td3 = document.createElement('td');\r\n        td3.className = 'ni-scaleonce-box';\r\n        tr.appendChild(td3);\r\n        btnScaleOnce = document.createElement('button');\r\n        btnScaleOnce.type = 'button';\r\n        btnScaleOnce.className = 'ni-scaleonce-button ni-button';\r\n        $(btnScaleOnce).on('click', function () {\r\n            that.helpers.handleClick('scaleonce', index);\r\n            that.setLockBackground(btnLock, false, index);\r\n        });\r\n        td3.appendChild(btnScaleOnce);\r\n        this.applyFont();\r\n    };\r\n\r\n    proto.setLockBackground = function (btn, first, index) {\r\n        var state = this.helpers.getState('lock', index);\r\n        if (state !== undefined) {\r\n            if (first === true) {\r\n                $(btn).jqxToggleButton({ 'toggled': state });\r\n            }\r\n\r\n            if (state === true) {\r\n                btn.classList.remove('ni-locked-icon');\r\n                btn.classList.add('ni-unlocked-icon');\r\n            } else {\r\n                btn.classList.remove('ni-unlocked-icon');\r\n                btn.classList.add('ni-locked-icon');\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqrefItemTitle = $(childElement).find(' .ni-row-title');\r\n\r\n        jqrefItemTitle.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.applyFont = function () {\r\n        var childElement = this.firstElementChild,\r\n            jqrefItemTitle = $(childElement).find(' .ni-row-title');\r\n\r\n        var fontSize = $(this).css('font-size');\r\n        var fontFamily = $(this).css('font-family');\r\n        var fontWeight = $(this).css('font-weight');\r\n        var fontStyle = $(this).css('font-style');\r\n        jqrefItemTitle.css({\r\n            'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle\r\n        });\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var that = this;\r\n\r\n        switch (propertyName) {\r\n            case 'graphName':\r\n                // should never change\r\n                this.helpers.graphName = this.graphName;\r\n                break;\r\n            case 'isInEditMode':\r\n                // this changes once after the element is created\r\n                this.helpers.isInEditMode = this.isInEditMode;\r\n                $(this.tbl).find('.ni-lock-button').each(function () {\r\n                    $(this).jqxToggleButton({ disabled: that.isInEditMode });\r\n                });\r\n                $(this.tbl).find('.ni-scaleonce-button').each(function () {\r\n                    $(this).prop('disabled', that.isInEditMode);\r\n                });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-scale-legend', 'HTMLNIScaleLegend');\r\n}(NationalInstruments.HtmlVI.Elements.ScaleLegend, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Scale Legend Helpers Prototype\r\n// DOM Registration: Not an element\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n(function () {\r\n    'use strict';\r\n\r\n    // Constructor Function\r\n    NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers = function () {\r\n        this.graphName = '';\r\n        this.isInEditMode = false;\r\n        this.scales = [];\r\n    };\r\n\r\n    // Static Public Variables\r\n    // None\r\n\r\n    var child = NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers;\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addScale = function () {\r\n    };\r\n\r\n    proto.clearScale = function (index) {\r\n        this.scales[index] = null;\r\n    };\r\n\r\n    proto.getScale = function (index) {\r\n        var i = 0;\r\n        var graph;\r\n        var scale = null;\r\n        var child;\r\n        if (this.scales[index] === null || this.scales[index] === undefined) {\r\n            graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n\r\n            if (graph !== null) {\r\n                for (child in graph.childNodes) {\r\n                    if (graph.childNodes[child].localName === 'ni-cartesian-axis' ||\r\n                        graph.childNodes[child].localName === 'ni-color-scale') {\r\n                        if (i === index) {\r\n                            scale = graph.childNodes[child];\r\n                            break;\r\n                        }\r\n\r\n                        i++;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (scale === null) {\r\n                return null;\r\n            }\r\n\r\n            this.scales[index] = scale;\r\n        }\r\n\r\n        return this.scales[index];\r\n    };\r\n\r\n    proto.scaleToIndex = function (scale) {\r\n        var i = 0, index = 0, graph, child, currentScale;\r\n        graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n        if (graph !== null) {\r\n            for (child in graph.childNodes) {\r\n                if (graph.childNodes[child].localName === 'ni-cartesian-axis' ||\r\n                    graph.childNodes[child].localName === 'ni-color-scale') {\r\n                    currentScale = graph.childNodes[child];\r\n                    if (currentScale === scale) {\r\n                        index = i;\r\n                        break;\r\n                    }\r\n\r\n                    i++;\r\n                }\r\n            }\r\n        }\r\n\r\n        return index;\r\n    };\r\n\r\n    proto.handleClick = function (itemName, index) {\r\n        if (this.isInEditMode !== true) {\r\n            var scale = this.getScale(index);\r\n            if (scale === null) {\r\n                return;\r\n            }\r\n\r\n            switch (itemName) {\r\n                case 'lock':\r\n                    if (scale.autoScale) {\r\n                        // turns off autoscale and sets axis min and max\r\n                        // at the current \"autoscaled\" values\r\n                        scale.scaleOnce();\r\n                    } else {\r\n                        scale.autoScale = true;\r\n                    }\r\n\r\n                    break;\r\n                case 'scaleonce':\r\n                    scale.scaleOnce();\r\n                    break;\r\n            }\r\n        }\r\n    };\r\n\r\n    proto.getState = function (itemName, index) {\r\n        var scale = this.getScale(index);\r\n        if (scale === null) {\r\n            return undefined;\r\n        }\r\n\r\n        var state;\r\n        switch (itemName) {\r\n            case 'canLock':\r\n                state = scale.localName !== 'ni-color-scale';\r\n                break;\r\n            case 'lock':\r\n                state = scale.autoScale;\r\n                break;\r\n            case 'scaleonce':\r\n                break;\r\n            case 'name':\r\n                state = scale.label;\r\n                break;\r\n        }\r\n\r\n        return state;\r\n    };\r\n}());\r\n","//****************************************\r\n// Graph Tools Element\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.GraphTools = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\nNationalInstruments.HtmlVI.Elements.GraphTools.ModeEnum = Object.freeze({\r\n    LOCKED: 'locked',\r\n    PAN: 'pan',\r\n    ZOOM: 'zoom'\r\n});\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var MODE_ENUM = NationalInstruments.HtmlVI.Elements.GraphTools.ModeEnum;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    var navigationStates = {};\r\n    navigationStates[MODE_ENUM.LOCKED] = [true, false, false];\r\n    navigationStates[MODE_ENUM.PAN] = [false, true, false];\r\n    navigationStates[MODE_ENUM.ZOOM] = [false, false, true];\r\n\r\n    //Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'graphName',\r\n            defaultValue: '',\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'isInEditMode',\r\n            defaultValue: false,\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'mode',\r\n            defaultValue: MODE_ENUM.PAN,\r\n            fireEvent: false,\r\n            addNonSignalingProperty: false\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            childElement,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            childElement = document.createElement('div');\r\n            childElement.id = 'div' + NI_SUPPORT.uniqueId();\r\n            childElement.style.width = '100%';\r\n            childElement.style.height = '100%';\r\n            this.appendChild(childElement);\r\n            this.table = document.createElement('table');\r\n            this.table.className = 'ni-graph-tools-box';\r\n            childElement.appendChild(this.table);\r\n            this.createRow(this.table);\r\n            var graph = document.querySelector('[ni-control-id=\\'' + this.graphName + '\\']');\r\n            if (graph !== null) {\r\n                if (graph instanceof NationalInstruments.HtmlVI.Elements.CartesianGraphBase) {\r\n                    graph.registerGraphTools(this);\r\n                    this._parentGraph = graph;\r\n                }\r\n            }\r\n\r\n            this.addEventListener('ni-cartesian-graph-box-selected', function (evt) {\r\n                // a rectangle selection was made on the graph, zoom into that selection\r\n                // info about the selection box is passed in the event details (ranges)\r\n                var ranges = evt.detail.originalSource.ranges;\r\n                var plot = that._parentGraph.graph;\r\n\r\n                // set the visible ranges for x axes\r\n                $.each(plot.getXAxes(), function (_, axis) {\r\n                    var opts = axis.options;\r\n                    opts.min = ranges.xaxis.from;\r\n                    opts.max = ranges.xaxis.to;\r\n                });\r\n                // set the visible ranges for y axes\r\n                $.each(plot.getYAxes(), function (_, axis) {\r\n                    var opts = axis.options;\r\n                    opts.min = ranges.yaxis.from;\r\n                    opts.max = ranges.yaxis.to;\r\n                });\r\n                // redraw plot\r\n                plot.setupGrid();\r\n                plot.draw();\r\n                plot.clearSelection();\r\n\r\n                that._parentGraph.axes.forEach(function (axis) {\r\n                    axis.syncWithFlot();\r\n                });\r\n            });\r\n\r\n            this.addEventListener('ni-cartesian-graph-interaction', function () {\r\n                that._parentGraph.axes.forEach(function (axis) {\r\n                    axis.syncWithFlot();\r\n                });\r\n            });\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.createRow = function (tbl) {\r\n        var that = this;\r\n        var tr, td1, td2, td3, td4, navNone, btnPan, btnZoom, btnZoomOut;\r\n\r\n        function setNavButtonsState(locked, pan, zoom) {\r\n            $(navNone).jqxToggleButton({ disabled: locked });\r\n            $(btnPan).jqxToggleButton({ disabled: pan });\r\n            $(btnZoom).jqxToggleButton({ disabled: zoom });\r\n        }\r\n\r\n        function setMode(mode) {\r\n            var states =  navigationStates[mode];\r\n\r\n            if (states) {\r\n                setNavButtonsState.apply(null, states);\r\n                that.mode = mode;\r\n            }\r\n        }\r\n\r\n        tr = document.createElement('tr');\r\n        tbl.appendChild(tr);\r\n        td1 = document.createElement('td');\r\n        td1.className = 'ni-button-box';\r\n        tr.appendChild(td1);\r\n        navNone = document.createElement('button');\r\n        navNone.type = 'button';\r\n        navNone.className = 'ni-navigation-locked-button ni-button';\r\n        $(navNone).jqxToggleButton();\r\n        $(navNone).on('click', function () {\r\n            setMode(MODE_ENUM.LOCKED);\r\n        });\r\n        td1.appendChild(navNone);\r\n\r\n        td2 = document.createElement('td');\r\n        td2.className = 'ni-button-box';\r\n        tr.appendChild(td2);\r\n        btnPan = document.createElement('button');\r\n        btnPan.type = 'button';\r\n        btnPan.className = 'ni-navigation-pan-button ni-button';\r\n        $(btnPan).jqxToggleButton();\r\n        $(btnPan).on('click', function () {\r\n            setMode(MODE_ENUM.PAN);\r\n        });\r\n        td2.appendChild(btnPan);\r\n\r\n        td3 = document.createElement('td');\r\n        td3.className = 'ni-button-box';\r\n        tr.appendChild(td3);\r\n        btnZoom = document.createElement('button');\r\n        btnZoom.type = 'button';\r\n        btnZoom.className = 'ni-navigation-zoom-button ni-button';\r\n        $(btnZoom).on('click', function () {\r\n            setMode(MODE_ENUM.ZOOM);\r\n        });\r\n        td3.appendChild(btnZoom);\r\n\r\n        setMode(this.mode); // initialize the \"navigation radio butons\" in the default mode\r\n        td4 = document.createElement('td');\r\n        td4.className = 'ni-button-box';\r\n        tr.appendChild(td4);\r\n        btnZoomOut = document.createElement('button');\r\n        btnZoomOut.type = 'button';\r\n        btnZoomOut.className = 'ni-navigation-zoom-out-button ni-button';\r\n        $(btnZoomOut).jqxButton({ disabled: false });\r\n        $(btnZoomOut).on('click', function () {\r\n            that._parentGraph.axes.forEach(function (axis) {\r\n                axis.scaleOnce();\r\n            });\r\n        });\r\n        td4.appendChild(btnZoomOut);\r\n    };\r\n\r\n    proto.allowsScrollWheelZoom = function () {\r\n        return this.mode === MODE_ENUM.PAN || this.mode === MODE_ENUM.ZOOM;\r\n    };\r\n\r\n    proto.allowsPan = function () {\r\n        return this.mode === MODE_ENUM.PAN;\r\n    };\r\n\r\n    proto.sendEventToParentGraph = function (name) {\r\n        var eventConfig;\r\n\r\n        if (this._parentGraph !== undefined) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this\r\n                }\r\n            };\r\n\r\n            this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        var that = this;\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n            case 'graphName':\r\n                // should never change\r\n                //this.helpers.graphName = this.graphName;\r\n                break;\r\n            case 'isInEditMode':\r\n                // this changes once after the element is created\r\n\r\n                $(this.table).find('.ni-navigation-locked-button').each(function () {\r\n                    $(this).jqxToggleButton({ disabled: that.isInEditMode });\r\n                });\r\n                $(this.table).find('.ni-navigation-pan-button').each(function () {\r\n                    $(this).prop('disabled', that.isInEditMode);\r\n                });\r\n                $(this.table).find('.ni-navigation-zoom-button').each(function () {\r\n                    $(this).prop('disabled', that.isInEditMode);\r\n                });\r\n                break;\r\n            case 'mode':\r\n                this.sendEventToParentGraph('ni-graph-tools-changed');\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-graph-tools', 'HTMLNIGraphTools');\r\n}(NationalInstruments.HtmlVI.Elements.GraphTools, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//**************************************\r\n// OpaqueRefnum Control Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//**************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.OpaqueRefnum = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    // None\r\n\r\n    proto.defineElementInfo(proto, 'ni-opaque-refnum', 'HTMLNIOpaqueRefnum');\r\n}(NationalInstruments.HtmlVI.Elements.OpaqueRefnum, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Tab Control Prototype\r\n// DOM Registration: HTMLNITabControl\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.TabControl = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'selectedIndex',\r\n            defaultValue: 0,\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'tabStripPlacement',\r\n            defaultValue: 'top'\r\n        });\r\n\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._validTabHeadersLength = 0;\r\n    };\r\n\r\n    // This function does not rely on instance properties of child TagItems\r\n    // so can be used before child TagItems have been upgraded\r\n    proto.findNonUpgradedChildTabItems = function () {\r\n        var myChildTabItems = [],\r\n            tabItemName = NationalInstruments.HtmlVI.Elements.TabItem.prototype.elementInfo.tagName.toUpperCase(),\r\n            i;\r\n\r\n        for (i = 0; i < this.children.length; i++) {\r\n            if (this.children[i].tagName === tabItemName && this.children[i] instanceof NationalInstruments.HtmlVI.Elements.TabItem === false) {\r\n                myChildTabItems.push(this.children[i]);\r\n            }\r\n        }\r\n\r\n        return myChildTabItems;\r\n    };\r\n\r\n    proto.createHeaderContainer = function (tabItemToIgnore) {\r\n        // TODO mraj tabItemToIgnore needed because PhantomJS 1.9.8 calls the detached callback before removing the element from the DOM while PhantomJS 2+ and all modern browsers call detached after removing the element from the DOM\r\n\r\n        // Generated DOM:\r\n        //<div ni-data-container ni-data-valid-tab-headers-length=\"n\">\r\n        //    <ul ni-data-headers>\r\n        //        <li>Tab Header 1</li>\r\n        //        ...\r\n        //    </ul>\r\n        //    <div ni-data-frames>\r\n        //        <div><!-- Empty Tab 1 --></div>\r\n        //        ...\r\n        //    </div>\r\n        //</div>\r\n\r\n        var container = document.createElement('div');\r\n        container.id = NI_SUPPORT.uniqueId();\r\n        var tabHeaders, tabFrames;\r\n\r\n        var i, currHeader, validTabHeadersLength;\r\n        var headers = [];\r\n\r\n        for (i = 0; i < this.children.length; i++) {\r\n            if (this.children[i] instanceof NationalInstruments.HtmlVI.Elements.TabItem && this.children[i] !== tabItemToIgnore) {\r\n                if (headers[this.children[i].tabPosition] === undefined) {\r\n                    headers[this.children[i].tabPosition] = this.children[i].header;\r\n                } else {\r\n                    // If error, reset header and stop iteration\r\n                    // TODO mraj change to verbose logging\r\n                    //NI_SUPPORT.error('TabControl (', this.id, ') has multiple TabItems with tabPosition (', this.children[i].tabPosition, ')');\r\n                    headers = [];\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        tabHeaders = document.createElement('ul');\r\n        tabFrames = document.createElement('div');\r\n        if (headers.length > 0) {\r\n            for (i = 0; i < headers.length; i++) {\r\n                if (typeof headers[i] === 'string') {\r\n                    currHeader = document.createElement('li');\r\n                    currHeader.textContent = headers[i];\r\n                    tabHeaders.appendChild(currHeader);\r\n                    tabFrames.appendChild(document.createElement('div'));\r\n                } else {\r\n                    // If error, reset headers + frames and stop iteration\r\n                    // TODO mraj change to verbose logging\r\n                    //NI_SUPPORT.error('TabControl (', this.id, ') is missing TabItem at tabPosition (', i, ')');\r\n                    tabHeaders = document.createElement('ul');\r\n                    tabFrames = document.createElement('div');\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (tabHeaders.children.length === 0 || tabFrames.children.length === 0) {\r\n            currHeader = document.createElement('li');\r\n            currHeader.innerHTML = '&nbsp;';\r\n            tabHeaders.appendChild(currHeader);\r\n            tabFrames.appendChild(document.createElement('div'));\r\n            // TODO mraj change to verbose logging\r\n            //NI_SUPPORT.info('TabControl (', this.id, ') has no valid TabItems to render, creating dummy TabItem');\r\n            validTabHeadersLength = 0;\r\n        } else {\r\n            // tabHeaders and tabFrames should be the same length\r\n            validTabHeadersLength = tabHeaders.children.length;\r\n        }\r\n\r\n        container.appendChild(tabHeaders);\r\n        container.appendChild(tabFrames);\r\n        container.setAttribute('ni-data-container', '');\r\n        container.setAttribute('ni-data-valid-tab-headers-length', validTabHeadersLength);\r\n        tabHeaders.setAttribute('ni-data-headers', '');\r\n        tabHeaders.classList.add('ni-headers-box');\r\n        tabFrames.setAttribute('ni-data-frames', '');\r\n\r\n        return container;\r\n    };\r\n\r\n    proto.getHeaderContainer = function () {\r\n        var i;\r\n\r\n        for (i = 0; i < this.children.length; i++) {\r\n            if (this.children[i].getAttribute('ni-data-container') !== null) {\r\n                return this.children[i];\r\n            }\r\n        }\r\n\r\n        return undefined;\r\n    };\r\n\r\n    proto.attachHeaderContainer = function (tabItemToIgnore) {\r\n        var widgetSettings = {},\r\n            childElement,\r\n            jqref,\r\n            oldContainer,\r\n            that = this;\r\n\r\n        oldContainer = this.getHeaderContainer();\r\n        if (oldContainer !== undefined) {\r\n            this.removeChild(oldContainer);\r\n        }\r\n\r\n        widgetSettings.width = '100%';\r\n        widgetSettings.height = '100%';\r\n        widgetSettings.animationType = 'none';\r\n        widgetSettings.position = this.tabStripPlacement.toLowerCase();\r\n\r\n        childElement = this.createHeaderContainer(tabItemToIgnore);\r\n\r\n        this._validTabHeadersLength = parseFloat(childElement.getAttribute('ni-data-valid-tab-headers-length'));\r\n\r\n        if (this.firstElementChild !== null) {\r\n            this.insertBefore(childElement, this.firstElementChild);\r\n        } else {\r\n            this.appendChild(childElement);\r\n        }\r\n\r\n        jqref = $(childElement);\r\n        jqref.jqxRibbon(widgetSettings);\r\n        // Adding CSS class names\r\n        $('#' + childElement.id + ' .jqx-ribbon-item').addClass('ni-header');\r\n        $('#' + childElement.id + ' .ni-header').css('font-size', $(this).css('font-size'));\r\n        $('#' + childElement.id + ' .ni-header').css('font-family', $(this).css('font-family'));\r\n        $('#' + childElement.id + ' .ni-header').css('font-weight', $(this).css('font-weight'));\r\n        $('#' + childElement.id + ' .ni-header').css('font-style', $(this).css('font-style'));\r\n\r\n        jqref.on('select', function (evt) {\r\n            that.selectedIndex = evt.args.selectedIndex;\r\n        });\r\n\r\n        this.applySelectedIndex();\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n\r\n        var childElement = this.firstElementChild,\r\n            jqrefContent = $('#' + childElement.id + ' .ni-header');\r\n\r\n        jqrefContent.css({ 'font-size': fontSize,\r\n            'font-family': fontFamily,\r\n            'font-weight': fontWeight,\r\n            'font-style': fontStyle });\r\n    };\r\n\r\n    proto.addTabItemListeners = function (initialTabItemsToWaitFor) {\r\n        var that = this;\r\n\r\n        that.addEventListener('ni-tab-item-attached', function (evt) {\r\n            var i;\r\n\r\n            if (evt.target === that) {\r\n                for (i = 0; i < initialTabItemsToWaitFor.length; i++) {\r\n                    if (initialTabItemsToWaitFor[i] === evt.detail.element) {\r\n                        initialTabItemsToWaitFor.splice(i, 1);\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (initialTabItemsToWaitFor.length === 0) {\r\n                    that.attachHeaderContainer();\r\n                }\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-tab-item-detached', function (evt) {\r\n            if (evt.target === that) {\r\n                that.attachHeaderContainer(evt.detail.element);\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-tab-item-header-updated', function (evt) {\r\n            var childElement = that.getHeaderContainer(),\r\n                jqref;\r\n            if (evt.target === that && childElement !== undefined) {\r\n                jqref = $(childElement);\r\n                jqref.jqxRibbon('updateAt', evt.detail.element.tabPosition, {\r\n                    newTitle: evt.detail.element.header\r\n                });\r\n            }\r\n        });\r\n\r\n        that.addEventListener('ni-tab-item-position-updated', function (evt) {\r\n            if (evt.target === that) {\r\n                that.attachHeaderContainer();\r\n            }\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n        var initialTabItemsToWaitFor;\r\n\r\n        if (firstCall === true) {\r\n            initialTabItemsToWaitFor = this.findNonUpgradedChildTabItems();\r\n\r\n            if (initialTabItemsToWaitFor.length === 0) {\r\n                this.attachHeaderContainer();\r\n            }\r\n\r\n            this.addTabItemListeners(initialTabItemsToWaitFor);\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.applySelectedIndex = function () {\r\n        var childElement, jqref, i;\r\n\r\n        if (this._validTabHeadersLength > 0 && this.selectedIndex >= 0 && this.selectedIndex < this._validTabHeadersLength) {\r\n            childElement = this.getHeaderContainer();\r\n            jqref = $(childElement);\r\n            jqref.jqxRibbon({\r\n                selectedIndex: this.selectedIndex\r\n            });\r\n\r\n            for (i = 0; i < this.children.length; i++) {\r\n                if (this.children[i] instanceof NationalInstruments.HtmlVI.Elements.TabItem) {\r\n                    if (this.children[i].tabPosition === this.selectedIndex) {\r\n                        this.children[i].classList.remove('ni-hidden');\r\n                    } else {\r\n                        this.children[i].classList.add('ni-hidden');\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n        // else {\r\n        //    TODO mraj change to verbose logging\r\n        //    NI_SUPPORT.info('TabControl (', this.id, ') was provided invalid selectedIndex (', this.selectedIndex, ') when the number of valid tab items is (', this._validTabHeadersLength, ')');\r\n        //}\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n        case 'selectedIndex':\r\n            this.applySelectedIndex();\r\n            break;\r\n        case 'tabStripPlacement':\r\n            // TODO mraj changing the position of the jqxRibbon header causes render problems in jqx, so instead recreate the whole header.\r\n            this.attachHeaderContainer();\r\n            break;\r\n        default:\r\n            break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-tab-control', 'HTMLNITabControl');\r\n}(NationalInstruments.HtmlVI.Elements.TabControl, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// Tab Item Prototype\r\n// DOM Registration: HTMLNITabItem\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.TabItem = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'tabPosition',\r\n            defaultValue: -1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'header',\r\n            defaultValue: 'TabItem'\r\n        });\r\n\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._parentTabControl = undefined;\r\n    };\r\n\r\n    proto.sendEventToParentTabControl = function (name) {\r\n        var eventConfig;\r\n\r\n        if (this._parentTabControl !== undefined) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this\r\n                }\r\n            };\r\n\r\n            this._parentTabControl.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.TabControl) {\r\n            this._parentTabControl = this.parentElement;\r\n            this.sendEventToParentTabControl('ni-tab-item-attached');\r\n        } else {\r\n            NI_SUPPORT.error('Tab Item with following id does not have a parent Tab Control', this.niControlId);\r\n            this._parentTabControl = undefined;\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        switch (propertyName) {\r\n        case 'header':\r\n            this.sendEventToParentTabControl('ni-tab-item-header-updated');\r\n            break;\r\n        case 'tabPosition':\r\n            this.sendEventToParentTabControl('ni-tab-item-position-updated');\r\n            break;\r\n        default:\r\n            break;\r\n        }\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        this.sendEventToParentTabControl('ni-tab-item-detached');\r\n        this._parentTabControl = undefined;\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-tab-item', 'HTMLNITabItem');\r\n}(NationalInstruments.HtmlVI.Elements.TabItem, NationalInstruments.HtmlVI.Elements.VisualComponent));\r\n","//****************************************\r\n// Layout Panel Prototype\r\n// DOM Registration: HTMLNILayoutPanel\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.LayoutPanel = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    // None\r\n\r\n    proto.defineElementInfo(proto, 'ni-layout-panel', 'HTMLNILayoutPanel');\r\n}(NationalInstruments.HtmlVI.Elements.LayoutPanel, NationalInstruments.HtmlVI.Elements.Visual));\r\n","/*jslint nomen: true, devel:true*/\r\n/*global NationalInstruments*/\r\n//****************************************\r\n// Color scale Custom Element\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.ColorScale = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'show',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'axisPosition',\r\n            defaultValue: 'right'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'highColor',\r\n            defaultValue: '#ffffff'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'lowColor',\r\n            defaultValue: '#000000'\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'markers',\r\n            defaultValue: '' // json string for array of markers\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'autoScale',\r\n            defaultValue: false\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'minimum',\r\n            defaultValue: 0\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'maximum',\r\n            defaultValue: 1\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'axisLabel',\r\n            defaultValue: ''\r\n        });\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        // None\r\n\r\n        // Private Instance Properties\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    proto.sendEventToParentGraph = function (name) {\r\n        var eventConfig;\r\n\r\n        if (this._parentGraph !== undefined) {\r\n            eventConfig = {\r\n                bubbles: true,\r\n                cancelable: true,\r\n                detail: {\r\n                    element: this\r\n                }\r\n            };\r\n\r\n            this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\r\n        }\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this);\r\n\r\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.IntensityGraph) {\r\n            this._parentGraph = this.parentElement;\r\n            this.sendEventToParentGraph('ni-cartesian-axis-attached');\r\n        } else {\r\n            NI_SUPPORT.error('Color scale with following id does not have a parentGraph', this.niControlId);\r\n            this._parentGraph = undefined;\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        this.sendEventToParentGraph('ni-axis-changed');\r\n    };\r\n\r\n    proto.detachedCallback = function () {\r\n        parent.prototype.detachedCallback.call(this);\r\n\r\n        this.sendEventToParentGraph('ni-cartesian-axis-detached');\r\n        this._parentGraph = undefined;\r\n    };\r\n\r\n    // getViewConfig transforms the configuration from the one used by the custom element to the one understood by Flot */\r\n    proto.getViewConfig = function () {\r\n        return {\r\n            'show': this.show,\r\n            'autoScale': this.autoScale,\r\n            'min': this.minimum,\r\n            'max': this.maximum,\r\n            'position': this.axisPosition,\r\n            'lowColor': this.lowColor,\r\n            'highColor': this.highColor,\r\n            'markers': this.markers\r\n        };\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-color-scale', 'HTMLNIColorScale');\r\n}(NationalInstruments.HtmlVI.Elements.ColorScale, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// IntensityGraph Prototype\r\n// DOM Registration: HTMLNIIntensityGraph\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.IntensityGraph = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    var h = 50;\r\n    var w = 100;\r\n    var max = Math.sqrt(h * h + w * w);\r\n    var count = 0;\r\n    var parsedData = null;\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.dataRange = function () {\r\n        if (parsedData === null || parsedData.length === 0) {\r\n            return { dataMin: 0, dataMax: Math.sqrt(h * h + w * w) };\r\n        } else {\r\n            var tempMin = Math.min();\r\n            var tempMax = Math.max();\r\n            for (var i = 0; i < parsedData.length; i++) {\r\n                var buf = parsedData[i];\r\n                for (var j = 0; j < buf.length; j++) {\r\n                    if (buf[j] > tempMax) {\r\n                        tempMax = buf[j];\r\n                    }\r\n\r\n                    if (buf[j] < tempMin) {\r\n                        tempMin = buf[j];\r\n                    }\r\n                }\r\n            }\r\n\r\n            return { dataMin: tempMin, dataMax: tempMax };\r\n        }\r\n    };\r\n\r\n    proto.createdCallback = function () {\r\n        parent.prototype.createdCallback.call(this);\r\n\r\n        // Public Instance Properties\r\n        this.autoScaleColor = false;\r\n\r\n        // Private Instance Properties\r\n        // None\r\n    };\r\n\r\n    proto.getSettings = function () {\r\n        var settings = {\r\n            series: {\r\n                intensitymap: {\r\n                    show: true,\r\n                    legend: true\r\n                }\r\n            },\r\n            axisLabels: {\r\n                show: true\r\n            },\r\n            xaxes: [{}],\r\n            yaxes: [{}]\r\n        };\r\n\r\n        return settings;\r\n    };\r\n\r\n    proto.configureGraph = function () {\r\n        var i, j, gradient = [];\r\n        var colorScaleMin, colorScaleMax;\r\n        var cartesianGraphSettings = this.getSettings();\r\n        var data = JSON.parse(this.value);\r\n        cartesianGraphSettings.series.intensitymap.data =  data.length > 0 ? data : this.defaultData();\r\n        cartesianGraphSettings.xaxes = [];\r\n        cartesianGraphSettings.yaxes = [];\r\n        for (i = 0; i < this.axes.length; i++) {\r\n            var axis = this.axes[i];\r\n            var a = axis.getViewConfig();\r\n\r\n            if (a) {\r\n                if (a.position && a.position === 'left') {\r\n                    cartesianGraphSettings.yaxes.push(a);\r\n                }\r\n\r\n                if (a.position && a.position === 'bottom') {\r\n                    cartesianGraphSettings.xaxes.push(a);\r\n                }\r\n\r\n                if (a.position && a.position === 'right') {\r\n                    // this is the color scale\r\n                    var markers = JSON.parse(a.markers);\r\n                    for (j = 0; j < markers.length; j++) {\r\n                        gradient[j] = { value: markers[j].value, color: markers[j].color };\r\n                    }\r\n\r\n                    if (a.autoScale === false) {\r\n                        colorScaleMin = markers[0].value;\r\n                        colorScaleMax = markers[markers.length - 1].value;\r\n                        cartesianGraphSettings.series.intensitymap.min = colorScaleMin;\r\n                        cartesianGraphSettings.series.intensitymap.max = colorScaleMax;\r\n                    } else {\r\n                        this.autoScaleColor = true;\r\n                        var range = this.dataRange();\r\n                        colorScaleMin = range.dataMin;\r\n                        colorScaleMax = range.dataMax;\r\n                        cartesianGraphSettings.series.intensitymap.min = range.dataMin;\r\n                        cartesianGraphSettings.series.intensitymap.max = range.dataMax;\r\n                    }\r\n\r\n                    cartesianGraphSettings.series.intensitymap.gradient = gradient;\r\n                    cartesianGraphSettings.series.intensitymap.lowColor = a.lowColor;\r\n                    cartesianGraphSettings.series.intensitymap.highColor = a.highColor;\r\n                }\r\n            }\r\n        }\r\n\r\n        // add color scale\r\n        cartesianGraphSettings.yaxes.push({\r\n            position: 'right',\r\n            show: false,\r\n            min: -0,\r\n            max: 50,\r\n            reserveSpace: true,\r\n            labelWidth: 50,\r\n            labelHeight: 50\r\n        });\r\n        cartesianGraphSettings.yaxes.push({\r\n            position: 'right',\r\n            show: true,\r\n            min: colorScaleMin,\r\n            max: colorScaleMax\r\n        });\r\n        return cartesianGraphSettings;\r\n    };\r\n\r\n    proto.createArray = function (length) {\r\n        var arr = new Array(length || 0),\r\n            i = length;\r\n\r\n        if (arguments.length > 1) {\r\n            var args = Array.prototype.slice.call(arguments, 1);\r\n            while (i--) {\r\n                arr[length - 1 - i] = this.createArray.apply(this, args);\r\n            }\r\n        }\r\n\r\n        return arr;\r\n    };\r\n\r\n    proto.rainbow = function (i, j, count) {\r\n        var res = count + Math.sqrt(i * i + j * j);\r\n\r\n        if (res > max) {\r\n            res -= max;\r\n        }\r\n\r\n        return res;\r\n    };\r\n\r\n    proto.defaultData = function () {\r\n        var iMap = this.createArray(w, h);\r\n        for (var i = 0; i < w; i++) {\r\n            for (var j = 0; j < h; j++) {\r\n                if (i === w / 2) { // temporary to show hi and low color\r\n                    iMap[i][j] = -1;\r\n                } else if (i === w / 4) {\r\n                    iMap[i][j] = max + 10;\r\n                } else {\r\n                    iMap[i][j] = this.rainbow(i, j, count);\r\n                }\r\n            }\r\n        }\r\n\r\n        count++;\r\n        if (count > max) {\r\n            count = 0;\r\n        }\r\n\r\n        return iMap;\r\n    };\r\n\r\n    proto.createData = function (plots, data) {\r\n        var plotConfig = {};\r\n\r\n        if (plots.length > 0) {\r\n            plotConfig = plots[0].getViewConfig();\r\n        }\r\n\r\n        // the data is placed in the config not the series because it does not match the series data type (and converting it might be expensive)\r\n        var graphdata = data.length > 0 ? data : this.defaultData();\r\n        parsedData = graphdata;\r\n        plotConfig.data = graphdata;\r\n        var cartesianGraphData = [plotConfig];\r\n\r\n        return cartesianGraphData;\r\n    };\r\n\r\n    proto.updateData = function () {\r\n        var graph = this.graph;\r\n        var data = this.createData(this.plots, JSON.parse(this.value));\r\n\r\n        if (!this.autoScaleColor) {\r\n            graph.setData(data);\r\n            graph.setupGrid();\r\n        } else {\r\n            this.updateGraphConfig();\r\n        }\r\n\r\n        graph.draw();\r\n    };\r\n\r\n    proto.convertToFlotFormat = function (data) {\r\n        return data;\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-intensity-graph', 'HTMLNIIntensityGraph');\r\n}(NationalInstruments.HtmlVI.Elements.IntensityGraph, NationalInstruments.HtmlVI.Elements.CartesianGraphBase));\r\n","/*global NationalInstruments*/\r\n//****************************************\r\n// Numeric Value Selector Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.NumericValueSelector = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'value',\r\n            defaultValue: { stringValue: '0', numberValue: 0 },\r\n            fireEvent: true,\r\n            addNonSignalingProperty: true,\r\n            isElementValueProperty: true\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'valueType',\r\n            defaultValue: NationalInstruments.HtmlVI.NINumerics.ValueTypes.UINT32\r\n        });\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'items',\r\n            defaultValue: '[]'\r\n        });\r\n    };\r\n\r\n    proto.compareIndexValue = function (value1, value2) {\r\n        if (typeof value1 === typeof value2) {\r\n            return value1 === value2;\r\n        } else {\r\n            // todo\r\n            return parseFloat(value1) === parseFloat(value2);\r\n        }\r\n    };\r\n\r\n    proto.itemsCache = function () {\r\n        var that = this;\r\n        if (!that.itemsArray) {\r\n            that.itemsArray = JSON.parse(that.items);\r\n        }\r\n\r\n        function updateItemsArray() {\r\n            that.itemsArray = JSON.parse(that.items);\r\n        }\r\n\r\n        function pushItem(newItem) {\r\n            that.itemsArray.push(newItem);\r\n            that.items = JSON.stringify(that.itemsArray);\r\n        }\r\n\r\n        return {\r\n            itemsArray: that.itemsArray,\r\n            cacheDirty: updateItemsArray,\r\n            writeThrough: pushItem\r\n        };\r\n    };\r\n\r\n    // create the source array from the items which contain both ringvalue and ringindex. we may need to insert new dropdown item when necessary\r\n    // and then calculate the selectedIndex based on the ringIndex which coud be very different from the index of the dropdown item.\r\n    // the format of the ring source is [{value:3, displayvalue:'first'}, {value:7, displayvalue:'second'},..]\r\n    proto.getSourceAndSelectedIndexFromSource = function (allowCreateNewSelectedItem) {\r\n\r\n        var result = {};\r\n        var source = [];\r\n        var selectedIndex = -1;\r\n        var numericIndex = NUM_VAL_CONVERTER.convertBack(this.value, this.valueType);\r\n        var itemsArray = this.itemsCache().itemsArray;\r\n        for (var i = 0; i < itemsArray.length; i++) {\r\n            var item = itemsArray[i];\r\n            source.push(item.displayValue);\r\n            if (this.compareIndexValue(item.value, numericIndex)) {\r\n                selectedIndex = i;\r\n            }\r\n        }\r\n\r\n        if (allowCreateNewSelectedItem) {\r\n            if (selectedIndex < 0) {\r\n                source.push('<' + numericIndex + '>');\r\n                selectedIndex = source.length - 1;\r\n            }\r\n        }\r\n\r\n        result.source = source;\r\n        result.selectedIndex = selectedIndex;\r\n        return result;\r\n    };\r\n\r\n    // handler to update the property when the dropdown selection changed\r\n    proto.selectChangedHandler = function (selectValue) {\r\n        var itemsArray = this.itemsCache().itemsArray;\r\n        var numericIndex;\r\n        for (var i = 0; i < itemsArray.length; i++) {\r\n            var item = itemsArray[i];\r\n            if (item.displayValue === selectValue) {\r\n                numericIndex = item.value;\r\n                this.value = NUM_VAL_CONVERTER.convert(numericIndex, this.valueType, true);\r\n                break;\r\n            }\r\n        }\r\n\r\n        return numericIndex;\r\n    };\r\n\r\n    proto.propertyUpdatedHelper = function (propertyName, jqref) {\r\n        switch (propertyName) {\r\n            case 'items':\r\n                this.itemsCache().cacheDirty();\r\n                var data = this.getSourceAndSelectedIndexFromSource(false);\r\n                var selectedIndex = data.selectedIndex;\r\n                var source = data.source;\r\n                jqref.jqxDropDownList({ source: source, selectedIndex: selectedIndex });\r\n                break;\r\n            case 'value':\r\n                data = this.getSourceAndSelectedIndexFromSource(true);\r\n                source = data.source;\r\n                selectedIndex = data.selectedIndex;\r\n                if (source.length === jqref.jqxDropDownList('source').length) {\r\n                    jqref.jqxDropDownList({ selectedIndex: selectedIndex });\r\n                } else {\r\n                    var newItem = { value: NUM_VAL_CONVERTER.convertBack(this.value, this.valueType), displayValue: source[source.length - 1] };\r\n                    this.itemsCache().writeThrough(newItem);\r\n                    jqref.jqxDropDownList({ source: source, selectedIndex: selectedIndex });\r\n                }\r\n\r\n                break;\r\n            case 'readOnly':\r\n                jqref.jqxDropDownList({ disabled: this.readOnly });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n}(NationalInstruments.HtmlVI.Elements.NumericValueSelector, NationalInstruments.HtmlVI.Elements.Visual));\r\n","//****************************************\r\n// EnumSelector Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.EnumSelector = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            jqref,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            var dropDownChildElement = document.createElement('div');\r\n            dropDownChildElement.style.width = '100%';\r\n            dropDownChildElement.style.height = '100%';\r\n            dropDownChildElement.style.fontSize = $(this).css('font-size');\r\n            dropDownChildElement.style.fontFamily = $(this).css('font-family');\r\n            dropDownChildElement.style.fontWeight = $(this).css('font-weight');\r\n            dropDownChildElement.style.fontStyle = $(this).css('font-style');\r\n            this.appendChild(dropDownChildElement);\r\n            jqref = $(dropDownChildElement);\r\n\r\n            var data = this.getSourceAndSelectedIndexFromSource();\r\n            var selectedIndex = data.selectedIndex;\r\n            var source = data.source;\r\n\r\n            jqref.jqxDropDownList({ source: source, selectedIndex: selectedIndex, autoDropDownHeight: true, disabled: this.readOnly });\r\n            jqref.on('change', function (event) {\r\n                var args = event.args;\r\n                if (args) {\r\n                    var displayValue = args.item.value;\r\n                    that.selectChangedHandler(displayValue);\r\n                }\r\n            });\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        $(this.firstElementChild).jqxDropDownList(size);\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n        var jqref = $(this.firstElementChild);\r\n        switch (propertyName) {\r\n            case 'items':\r\n            case 'value':\r\n            case 'readOnly':\r\n                this.propertyUpdatedHelper.call(this, propertyName, jqref);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-enum-selector', 'HTMLNIEnumSelector');\r\n}(NationalInstruments.HtmlVI.Elements.EnumSelector, NationalInstruments.HtmlVI.Elements.NumericValueSelector));\r\n","//****************************************\r\n// RingSelector Prototype\r\n// DOM Registration: No\r\n// National Instruments Copyright 2015\r\n//****************************************\r\n\r\n// Constructor Function: Empty (Not Invoked)\r\nNationalInstruments.HtmlVI.Elements.RingSelector = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\n// None\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n\r\n    // Static private reference aliases\r\n    var NUM_VAL_CONVERTER = NationalInstruments.HtmlVI.ValueConverters.NumericValueConverter;\r\n\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'allowUndefined',\r\n            defaultValue: false\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings,\r\n            jqref,\r\n            jqrefNumeric,\r\n            that = this;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            var dropDownContainer = document.createElement('div');\r\n            dropDownContainer.classList.add('ni-dropdown-container');\r\n            dropDownContainer.style.fontSize = $(this).css('font-size');\r\n            dropDownContainer.style.fontFamily = $(this).css('font-family');\r\n            dropDownContainer.style.fontWeight = $(this).css('font-weight');\r\n            dropDownContainer.style.fontStyle = $(this).css('font-style');\r\n            this.appendChild(dropDownContainer);\r\n\r\n            var numericContainer = document.createElement('div');\r\n            numericContainer.classList.add('ni-numeric-container');\r\n            this.appendChild(numericContainer);\r\n\r\n            var dropdownElement = document.createElement('div');\r\n            var numericEntry = document.createElement('div');\r\n\r\n            dropDownContainer.appendChild(dropdownElement);\r\n            numericContainer.appendChild(numericEntry);\r\n            jqref = $(dropdownElement);\r\n            jqref.jqxDropDownList(widgetSettings);\r\n\r\n            var textElement = document.createElement('input');\r\n            textElement.type = 'text';\r\n            numericEntry.appendChild(textElement);\r\n            var divElement = document.createElement('div');\r\n            numericEntry.appendChild(divElement);\r\n            jqrefNumeric = $(numericEntry);\r\n            var numericWidgetSettings = {};\r\n            numericWidgetSettings.readOnly = this.readOnly;\r\n            numericWidgetSettings.spinButtons = false;\r\n            numericWidgetSettings.width = '100%';\r\n            numericWidgetSettings.height = '100%';\r\n\r\n            jqrefNumeric.jqxFormattedInput(numericWidgetSettings);\r\n\r\n            var data = this.getSourceAndSelectedIndexFromSource();\r\n            var selectedIndex = data.selectedIndex;\r\n            var source = data.source;\r\n\r\n            jqref.jqxDropDownList({ source: source, selectedIndex: selectedIndex, autoDropDownHeight: true, disabled: this.readOnly });\r\n            jqref.on('change', function (event) {\r\n                var args = event.args;\r\n                if (args) {\r\n                    var displayValue = args.item.value;\r\n                    var numericIndex = that.selectChangedHandler(displayValue);\r\n                    jqrefNumeric.jqxFormattedInput('val', numericIndex);\r\n                }\r\n            });\r\n            jqrefNumeric.on('valueChanged', function (event) {\r\n                that.value = NUM_VAL_CONVERTER.convert(event.args.value, that.valueType, true);\r\n            });\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        var dropChildElem = this.children[0],\r\n            numericChildElem = this.children[1],\r\n            dropJqref = $(dropChildElem.firstElementChild),\r\n            numericJqref = $(numericChildElem.firstElementChild);\r\n\r\n        if (this.allowUndefined) {\r\n            size.width -= 50;\r\n            numericJqref.trigger('resize');\r\n        }\r\n\r\n        dropJqref.jqxDropDownList(size);\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n\r\n        var jqref = $(this.children[0].firstElementChild);\r\n        var numericJqref = $(this.children[1].firstElementChild);\r\n        switch (propertyName) {\r\n            case 'items':\r\n            case 'readOnly':\r\n                this.propertyUpdatedHelper(propertyName, jqref);\r\n                break;\r\n            case 'value':\r\n                this.propertyUpdatedHelper(propertyName, jqref);\r\n\r\n                var numericWidgetSettings = {\r\n                    value: NUM_VAL_CONVERTER.convertBack(this.value, this.valueType)\r\n                };\r\n                numericJqref.jqxFormattedInput(numericWidgetSettings);\r\n                break;\r\n            case 'allowUndefined':\r\n                var width = $(this).width();\r\n                if (this.allowUndefined) {\r\n                    width -= 50;\r\n                }\r\n\r\n                jqref.jqxDropDownList({ width: width });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-ring-selector', 'HTMLNIRingSelector');\r\n}(NationalInstruments.HtmlVI.Elements.RingSelector, NationalInstruments.HtmlVI.Elements.NumericValueSelector));\r\n","﻿//****************************************\r\n// Radio Button Group Prototype\r\n// DOM Registration: HTMLNIRadioButtonGroup\r\n// National Instruments Copyright 2014\r\n//****************************************\r\n\r\nNationalInstruments.HtmlVI.Elements.RadioButtonGroup = function () {\r\n    'use strict';\r\n};\r\n\r\n// Static Public Variables\r\nNationalInstruments.HtmlVI.Elements.RadioButtonGroup.Orientation = {\r\n    horizontal: 'horizontal',\r\n    vertical: 'vertical'\r\n};\r\n\r\n(function (child, parent) {\r\n    'use strict';\r\n    // Static Private Reference Aliases\r\n    var $ = NationalInstruments.Globals.jQuery;\r\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\r\n    var radioButtonClassName = 'ni-radio-item';\r\n    var thisClass = NationalInstruments.HtmlVI.Elements.RadioButtonGroup;\r\n    NI_SUPPORT.inheritFromParent(child, parent);\r\n    var proto = child.prototype;\r\n    // Static Private Variables\r\n    // None\r\n\r\n    // Static Private Functions\r\n    // None\r\n\r\n    // Public Prototype Methods\r\n    // Public Prototype Methods\r\n    proto.addAllProperties = function (targetPrototype) {\r\n        parent.prototype.addAllProperties.call(this, targetPrototype);\r\n\r\n        proto.addProperty(targetPrototype, {\r\n            propertyName: 'orientation',\r\n            defaultValue: thisClass.Orientation.vertical\r\n        });\r\n    };\r\n\r\n    proto.attachedCallback = function () {\r\n        var firstCall = parent.prototype.attachedCallback.call(this),\r\n            widgetSettings;\r\n\r\n        if (firstCall === true) {\r\n            widgetSettings = {};\r\n            var radioButtonGroupElement = document.createElement('div');\r\n            radioButtonGroupElement.style.width = '100%';\r\n            radioButtonGroupElement.style.height = '100%';\r\n            radioButtonGroupElement.style.fontSize = $(this).css('font-size');\r\n            radioButtonGroupElement.style.fontFamily = $(this).css('font-family');\r\n            radioButtonGroupElement.style.fontWeight = $(this).css('font-weight');\r\n            radioButtonGroupElement.style.fontStyle = $(this).css('font-style');\r\n            this.appendChild(radioButtonGroupElement);\r\n            this.setRadioButtons();\r\n        }\r\n\r\n        return firstCall;\r\n    };\r\n\r\n    proto.forceResize = function (size) {\r\n        parent.prototype.forceResize.call(this, size);\r\n        var radioButtonGroupElement = this.firstElementChild;\r\n        var buttonCnt = $(radioButtonGroupElement).children('.' + radioButtonClassName).length;\r\n        var height, width;\r\n        if (this.orientation === thisClass.Orientation.horizontal) {\r\n            width = size.width / buttonCnt;\r\n            height = size.height;\r\n        } else {\r\n            height = size.height / buttonCnt;\r\n            width = size.width;\r\n        }\r\n\r\n        $(radioButtonGroupElement).children('.' + radioButtonClassName).width(width);\r\n        $(radioButtonGroupElement).children('.' + radioButtonClassName).height(height);\r\n    };\r\n\r\n    proto.setOrientation = function () {\r\n        if (this.orientation === thisClass.Orientation.horizontal) {\r\n            $(this).addClass('ni-horizontal');\r\n        } else {\r\n            $(this).removeClass('ni-horizontal');\r\n        }\r\n\r\n        var size = { width: $(this).width(), height: $(this).height() };\r\n        this.forceResize(size);\r\n    };\r\n\r\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle) {\r\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle);\r\n        this.setChildrenButtonFont();\r\n    };\r\n\r\n    proto.setChildrenButtonFont = function () {\r\n        var fontObject = $(this).css(['font-family', 'font-weight', 'font-style', 'font-size']);\r\n        $(this.firstElementChild).children('.' + radioButtonClassName).css(fontObject);\r\n    };\r\n\r\n    proto.createCheckedHandler = function (displayValue) {\r\n        var that = this;\r\n        return function () {\r\n            that.selectChangedHandler(displayValue);\r\n        };\r\n    };\r\n\r\n    proto.setRadioButtons = function () {\r\n        var radioButtonGroupElement = this.firstElementChild;\r\n        $(radioButtonGroupElement).empty();\r\n        var data = this.getSourceAndSelectedIndexFromSource();\r\n        var selectedIndex = data.selectedIndex;\r\n        var source = data.source;\r\n        var groupId = NI_SUPPORT.uniqueId();\r\n        var that = this;\r\n        var disabled = this.readOnly;\r\n        for (var i = 0; i < source.length; i++) {\r\n            var displayValue = source[i];\r\n            var radioButtonElement = document.createElement('div');\r\n            $(radioButtonElement).text(displayValue);\r\n            $(radioButtonElement).jqxRadioButton({\r\n                groupName: groupId,\r\n                disabled: disabled\r\n            });\r\n            $(radioButtonElement).addClass(radioButtonClassName);\r\n            if (selectedIndex === i) {\r\n                $(radioButtonElement).jqxRadioButton({ checked: true });\r\n            }\r\n\r\n            $(radioButtonElement).on('checked', that.createCheckedHandler(displayValue));\r\n            radioButtonGroupElement.appendChild(radioButtonElement);\r\n        }\r\n\r\n        this.setChildrenButtonFont();\r\n        this.setOrientation();\r\n    };\r\n\r\n    proto.propertyUpdated = function (propertyName) {\r\n        parent.prototype.propertyUpdated.call(this, propertyName);\r\n        var data, source, selectedIndex;\r\n        switch (propertyName) {\r\n            case 'items':\r\n                this.itemsCache().cacheDirty();\r\n                this.setRadioButtons();\r\n                break;\r\n            case 'value':\r\n                data = this.getSourceAndSelectedIndexFromSource(true);\r\n                source = data.source;\r\n                selectedIndex = data.selectedIndex;\r\n                var radioButtonGroupElement = this.firstElementChild;\r\n                var radioButtonElement = $(radioButtonGroupElement).children()[selectedIndex];\r\n                $(radioButtonElement).jqxRadioButton({ checked: true });\r\n                break;\r\n            case 'orientation':\r\n                this.setOrientation();\r\n                break;\r\n            case 'readOnly':\r\n                radioButtonGroupElement = this.firstElementChild;\r\n                $(radioButtonGroupElement).children('.' + radioButtonClassName).jqxRadioButton({ disabled: this.readOnly });\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    proto.defineElementInfo(proto, 'ni-radio-button-group', 'HTMLNIRadioButtonGroup');\r\n}(NationalInstruments.HtmlVI.Elements.RadioButtonGroup, NationalInstruments.HtmlVI.Elements.NumericValueSelector));\r\n"]}
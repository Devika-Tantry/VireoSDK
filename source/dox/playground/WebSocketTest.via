define(HelloWorld dv(.VirtualInstrument (
    Locals:
    c(
        e(dv(.String 'wss://echo.websocket.org') url)
        e(.String protocol)
        e(.UInt32 connection)
        e(.String errorVal)
        e(.Int32 errorNum)
        e(dv(.String 'koo') event)
        e(dv(.String 'we did it!') response)
        e(dv(.String 'we did it!') message)
        e(dv(.UInt32 1000)  oneHundred)
        e(dv(.Int32 1000)  oneThousand)
        e(.String data1)
        e(.String data2)
        e(dv(.UInt32 6) http1)
        e(dv(.String '6') http2)
        e(dv(.Int32 6) http3)
        e(dv(.String '6') http4)
    )
    clump (
        
        Println(errorNum)
        WebSocketClientConnect(url protocol connection errorNum errorVal)
        Println(errorNum)
        
        
        HttpClientListHeaders(http1 http2 http3 http4)
        
        Println(http4)
        
        WebSocketClientSend(event message errorNum errorVal)
        
        WaitMilliseconds(oneHundred)
        
        WebSocketClientSend(event message errorNum errorVal)
        
        WebSocketClientRead(connection oneThousand data1 errorNum errorVal)
        
        Println(data1)
        
        WaitMilliseconds(oneHundred)
        
        Println(data1)
        
        WebSocketClientRead(connection oneThousand data2 errorNum errorVal)
        
    )
) ) )

enqueue(HelloWorld)